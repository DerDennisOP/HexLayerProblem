// Generated by Futhark 0.24.0 (prerelease - include info below when reporting bugs)
// git: 0dca3bc5f056efb62bdaa5886573b479273977cf

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#include <cuda.h>
#include <cuda_runtime.h>
#include <nvrtc.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t new_value);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *cfg);
void futhark_context_config_add_nvrtc_option(struct futhark_context_config *cfg, const char *opt);
void futhark_context_config_set_device(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_dump_program_to(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_load_program_from(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_dump_ptx_to(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_load_ptx_from(struct futhark_context_config *cfg, const char *s);
void futhark_context_config_set_default_group_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_default_threshold(struct futhark_context_config *cfg, int size);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_u8_1d;
struct futhark_u8_1d *futhark_new_u8_1d(struct futhark_context *ctx, const uint8_t *data, int64_t dim0);
struct futhark_u8_1d *futhark_new_raw_u8_1d(struct futhark_context *ctx, const CUdeviceptr data, int64_t offset, int64_t dim0);
int futhark_free_u8_1d(struct futhark_context *ctx, struct futhark_u8_1d *arr);
int futhark_values_u8_1d(struct futhark_context *ctx, struct futhark_u8_1d *arr, uint8_t *data);
CUdeviceptr futhark_values_raw_u8_1d(struct futhark_context *ctx, struct futhark_u8_1d *arr);
const int64_t *futhark_shape_u8_1d(struct futhark_context *ctx, struct futhark_u8_1d *arr);

// Opaque values



// Entry points
int futhark_entry_main(struct futhark_context *ctx, bool *out0, struct futhark_u8_1d **out1, struct futhark_u8_1d **out2, struct futhark_u8_1d **out3, struct futhark_u8_1d **out4, struct futhark_u8_1d **out5, struct futhark_u8_1d **out6);

// Miscellaneous
int futhark_context_sync(struct futhark_context *ctx);
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_cuda
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);
static char *strclone(const char *str);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}


static char *strclone(const char *str) {
  size_t size = strlen(str) + 1;
  char *copy = (char*) malloc(size);
  if (copy == NULL) {
    return NULL;
  }

  memcpy(copy, str, size);
  return copy;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

static uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

static float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

static uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.
// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.
// Start of free_list.h.

typedef uintptr_t fl_mem;

// An entry in the free list.  May be invalid, to avoid having to
// deallocate entries as soon as they are removed.  There is also a
// tag, to help with memory reuse.
struct free_list_entry {
  size_t size;
  fl_mem mem;
  const char *tag;
  unsigned char valid;
};

struct free_list {
  struct free_list_entry *entries; // Pointer to entries.
  int capacity;                    // Number of entries.
  int used;                        // Number of valid entries.
  lock_t lock;                     // Thread safety.
};

static void free_list_init(struct free_list *l) {
  l->capacity = 30; // Picked arbitrarily.
  l->used = 0;
  l->entries = (struct free_list_entry*) malloc(sizeof(struct free_list_entry) * l->capacity);
  for (int i = 0; i < l->capacity; i++) {
    l->entries[i].valid = 0;
  }
  create_lock(&l->lock);
}

// Remove invalid entries from the free list.
static void free_list_pack(struct free_list *l) {
  lock_lock(&l->lock);
  int p = 0;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[p] = l->entries[i];
      if (i > p) {
        l->entries[i].valid = 0;
      }
      p++;
    }
  }

  // Now p is the number of used elements.  We don't want it to go
  // less than the default capacity (although in practice it's OK as
  // long as it doesn't become 1).
  if (p < 30) {
    p = 30;
  }
  l->entries = realloc(l->entries, p * sizeof(struct free_list_entry));
  l->capacity = p;
  lock_unlock(&l->lock);
}

static void free_list_destroy(struct free_list *l) {
  assert(l->used == 0);
  free(l->entries);
  free_lock(&l->lock);
}

// Not part of the interface, so no locking.
static int free_list_find_invalid(struct free_list *l) {
  int i;
  for (i = 0; i < l->capacity; i++) {
    if (!l->entries[i].valid) {
      break;
    }
  }
  return i;
}

static void free_list_insert(struct free_list *l, size_t size, fl_mem mem, const char *tag) {
  lock_lock(&l->lock);
  int i = free_list_find_invalid(l);

  if (i == l->capacity) {
    // List is full; so we have to grow it.
    int new_capacity = l->capacity * 2 * sizeof(struct free_list_entry);
    l->entries = realloc(l->entries, new_capacity);
    for (int j = 0; j < l->capacity; j++) {
      l->entries[j+l->capacity].valid = 0;
    }
    l->capacity *= 2;
  }

  // Now 'i' points to the first invalid entry.
  l->entries[i].valid = 1;
  l->entries[i].size = size;
  l->entries[i].mem = mem;
  l->entries[i].tag = tag;

  l->used++;
  lock_unlock(&l->lock);
}

// Determine whether this entry in the free list is acceptable for
// satisfying the request.  Not public, so no locking.
static bool free_list_acceptable(size_t size, const char* tag, struct free_list_entry *entry) {
  // We check not just the hard requirement (is the entry acceptable
  // and big enough?) but also put a cap on how much wasted space
  // (internal fragmentation) we allow.  This is necessarily a
  // heuristic, and a crude one.

  if (!entry->valid) {
    return false;
  }

  if (size > entry->size) {
    return false;
  }

  // We know the block fits.  Now the question is whether it is too
  // big.  Our policy is as follows:
  //
  // 1) We don't care about wasted space below 4096 bytes (to avoid
  // churn in tiny allocations).
  //
  // 2) If the tag matches, we allow _any_ amount of wasted space.
  //
  // 3) Otherwise we allow up to 50% wasted space.

  if (entry->size < 4096) {
    return true;
  }

  if (entry->tag == tag) {
    return true;
  }

  if (entry->size < size * 2) {
    return true;
  }

  return false;
}

// Find and remove a memory block of the indicated tag, or if that
// does not exist, another memory block with exactly the desired size.
// Returns 0 on success.
static int free_list_find(struct free_list *l, size_t size, const char *tag,
                          size_t *size_out, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int size_match = -1;
  int i;
  int ret = 1;
  for (i = 0; i < l->capacity; i++) {
    if (free_list_acceptable(size, tag, &l->entries[i]) &&
        (size_match < 0 || l->entries[i].size < l->entries[size_match].size)) {
      // If this entry is valid, has sufficient size, and is smaller than the
      // best entry found so far, use this entry.
      size_match = i;
    }
  }

  if (size_match >= 0) {
    l->entries[size_match].valid = 0;
    *size_out = l->entries[size_match].size;
    *mem_out = l->entries[size_match].mem;
    l->used--;
    ret = 0;
  }
  lock_unlock(&l->lock);
  return ret;
}

// Remove the first block in the free list.  Returns 0 if a block was
// removed, and nonzero if the free list was already empty.
static int free_list_first(struct free_list *l, fl_mem *mem_out) {
  lock_lock(&l->lock);
  int ret = 1;
  for (int i = 0; i < l->capacity; i++) {
    if (l->entries[i].valid) {
      l->entries[i].valid = 0;
      *mem_out = l->entries[i].mem;
      l->used--;
      ret = 0;
      break;
    }
  }
  lock_unlock(&l->lock);
  return ret;
}

// End of free_list.h.
#include <getopt.h>
#include <ctype.h>
#include <inttypes.h>
#include <unistd.h>
// Start of values.h.

//// Text I/O

typedef int (*writer)(FILE*, const void*);
typedef int (*bin_reader)(void*);
typedef int (*str_reader)(const char *, void*);

struct array_reader {
  char* elems;
  int64_t n_elems_space;
  int64_t elem_size;
  int64_t n_elems_used;
  int64_t *shape;
  str_reader elem_reader;
};

static void skipspaces(FILE *f) {
  int c;
  do {
    c = getc(f);
  } while (isspace(c));

  if (c != EOF) {
    ungetc(c, f);
  }
}

static int constituent(char c) {
  return isalnum(c) || c == '.' || c == '-' || c == '+' || c == '_';
}

// Produces an empty token only on EOF.
static void next_token(FILE *f, char *buf, int bufsize) {
 start:
  skipspaces(f);

  int i = 0;
  while (i < bufsize) {
    int c = getc(f);
    buf[i] = (char)c;

    if (c == EOF) {
      buf[i] = 0;
      return;
    } else if (c == '-' && i == 1 && buf[0] == '-') {
      // Line comment, so skip to end of line and start over.
      for (; c != '\n' && c != EOF; c = getc(f));
      goto start;
    } else if (!constituent((char)c)) {
      if (i == 0) {
        // We permit single-character tokens that are not
        // constituents; this lets things like ']' and ',' be
        // tokens.
        buf[i+1] = 0;
        return;
      } else {
        ungetc(c, f);
        buf[i] = 0;
        return;
      }
    }

    i++;
  }

  buf[bufsize-1] = 0;
}

static int next_token_is(FILE *f, char *buf, int bufsize, const char* expected) {
  next_token(f, buf, bufsize);
  return strcmp(buf, expected) == 0;
}

static void remove_underscores(char *buf) {
  char *w = buf;

  for (char *r = buf; *r; r++) {
    if (*r != '_') {
      *w++ = *r;
    }
  }

  *w++ = 0;
}

static int read_str_elem(char *buf, struct array_reader *reader) {
  int ret;
  if (reader->n_elems_used == reader->n_elems_space) {
    reader->n_elems_space *= 2;
    reader->elems = (char*) realloc(reader->elems,
                                    (size_t)(reader->n_elems_space * reader->elem_size));
  }

  ret = reader->elem_reader(buf, reader->elems + reader->n_elems_used * reader->elem_size);

  if (ret == 0) {
    reader->n_elems_used++;
  }

  return ret;
}

static int read_str_array_elems(FILE *f,
                                char *buf, int bufsize,
                                struct array_reader *reader, int64_t dims) {
  int ret;
  int first = 1;
  char *knows_dimsize = (char*) calloc((size_t)dims, sizeof(char));
  int cur_dim = (int)dims-1;
  int64_t *elems_read_in_dim = (int64_t*) calloc((size_t)dims, sizeof(int64_t));

  while (1) {
    next_token(f, buf, bufsize);

    if (strcmp(buf, "]") == 0) {
      if (knows_dimsize[cur_dim]) {
        if (reader->shape[cur_dim] != elems_read_in_dim[cur_dim]) {
          ret = 1;
          break;
        }
      } else {
        knows_dimsize[cur_dim] = 1;
        reader->shape[cur_dim] = elems_read_in_dim[cur_dim];
      }
      if (cur_dim == 0) {
        ret = 0;
        break;
      } else {
        cur_dim--;
        elems_read_in_dim[cur_dim]++;
      }
    } else if (strcmp(buf, ",") == 0) {
      next_token(f, buf, bufsize);
      if (strcmp(buf, "[") == 0) {
        if (cur_dim == dims - 1) {
          ret = 1;
          break;
        }
        first = 1;
        cur_dim++;
        elems_read_in_dim[cur_dim] = 0;
      } else if (cur_dim == dims - 1) {
        ret = read_str_elem(buf, reader);
        if (ret != 0) {
          break;
        }
        elems_read_in_dim[cur_dim]++;
      } else {
        ret = 1;
        break;
      }
    } else if (strlen(buf) == 0) {
      // EOF
      ret = 1;
      break;
    } else if (first) {
      if (strcmp(buf, "[") == 0) {
        if (cur_dim == dims - 1) {
          ret = 1;
          break;
        }
        cur_dim++;
        elems_read_in_dim[cur_dim] = 0;
      } else {
        ret = read_str_elem(buf, reader);
        if (ret != 0) {
          break;
        }
        elems_read_in_dim[cur_dim]++;
        first = 0;
      }
    } else {
      ret = 1;
      break;
    }
  }

  free(knows_dimsize);
  free(elems_read_in_dim);
  return ret;
}

static int read_str_empty_array(FILE *f, char *buf, int bufsize,
                                const char *type_name, int64_t *shape, int64_t dims) {
  if (strlen(buf) == 0) {
    // EOF
    return 1;
  }

  if (strcmp(buf, "empty") != 0) {
    return 1;
  }

  if (!next_token_is(f, buf, bufsize, "(")) {
    return 1;
  }

  for (int i = 0; i < dims; i++) {
    if (!next_token_is(f, buf, bufsize, "[")) {
      return 1;
    }

    next_token(f, buf, bufsize);

    if (sscanf(buf, "%"SCNu64, (uint64_t*)&shape[i]) != 1) {
      return 1;
    }

    if (!next_token_is(f, buf, bufsize, "]")) {
      return 1;
    }
  }

  if (!next_token_is(f, buf, bufsize, type_name)) {
    return 1;
  }


  if (!next_token_is(f, buf, bufsize, ")")) {
    return 1;
  }

  // Check whether the array really is empty.
  for (int i = 0; i < dims; i++) {
    if (shape[i] == 0) {
      return 0;
    }
  }

  // Not an empty array!
  return 1;
}

static int read_str_array(FILE *f,
                          int64_t elem_size, str_reader elem_reader,
                          const char *type_name,
                          void **data, int64_t *shape, int64_t dims) {
  int ret;
  struct array_reader reader;
  char buf[100];

  int dims_seen;
  for (dims_seen = 0; dims_seen < dims; dims_seen++) {
    if (!next_token_is(f, buf, sizeof(buf), "[")) {
      break;
    }
  }

  if (dims_seen == 0) {
    return read_str_empty_array(f, buf, sizeof(buf), type_name, shape, dims);
  }

  if (dims_seen != dims) {
    return 1;
  }

  reader.shape = shape;
  reader.n_elems_used = 0;
  reader.elem_size = elem_size;
  reader.n_elems_space = 16;
  reader.elems = (char*) realloc(*data, (size_t)(elem_size*reader.n_elems_space));
  reader.elem_reader = elem_reader;

  ret = read_str_array_elems(f, buf, sizeof(buf), &reader, dims);

  *data = reader.elems;

  return ret;
}

#define READ_STR(MACRO, PTR, SUFFIX)                                   \
  remove_underscores(buf);                                              \
  int j;                                                                \
  if (sscanf(buf, "%"MACRO"%n", (PTR*)dest, &j) == 1) {                 \
    return !(strcmp(buf+j, "") == 0 || strcmp(buf+j, SUFFIX) == 0);     \
  } else {                                                              \
    return 1;                                                           \
  }

static int read_str_i8(char *buf, void* dest) {
  // Some platforms (WINDOWS) does not support scanf %hhd or its
  // cousin, %SCNi8.  Read into int first to avoid corrupting
  // memory.
  //
  // https://gcc.gnu.org/bugzilla/show_bug.cgi?id=63417
  remove_underscores(buf);
  int j, x;
  if (sscanf(buf, "%i%n", &x, &j) == 1) {
    *(int8_t*)dest = (int8_t)x;
    return !(strcmp(buf+j, "") == 0 || strcmp(buf+j, "i8") == 0);
  } else {
    return 1;
  }
}

static int read_str_u8(char *buf, void* dest) {
  // Some platforms (WINDOWS) does not support scanf %hhd or its
  // cousin, %SCNu8.  Read into int first to avoid corrupting
  // memory.
  //
  // https://gcc.gnu.org/bugzilla/show_bug.cgi?id=63417
  remove_underscores(buf);
  int j, x;
  if (sscanf(buf, "%i%n", &x, &j) == 1) {
    *(uint8_t*)dest = (uint8_t)x;
    return !(strcmp(buf+j, "") == 0 || strcmp(buf+j, "u8") == 0);
  } else {
    return 1;
  }
}

static int read_str_i16(char *buf, void* dest) {
  READ_STR(SCNi16, int16_t, "i16");
}

static int read_str_u16(char *buf, void* dest) {
  READ_STR(SCNi16, int16_t, "u16");
}

static int read_str_i32(char *buf, void* dest) {
  READ_STR(SCNi32, int32_t, "i32");
}

static int read_str_u32(char *buf, void* dest) {
  READ_STR(SCNi32, int32_t, "u32");
}

static int read_str_i64(char *buf, void* dest) {
  READ_STR(SCNi64, int64_t, "i64");
}

static int read_str_u64(char *buf, void* dest) {
  // FIXME: This is not correct, as SCNu64 only permits decimal
  // literals.  However, SCNi64 does not handle very large numbers
  // correctly (it's really for signed numbers, so that's fair).
  READ_STR(SCNu64, uint64_t, "u64");
}

static int read_str_f16(char *buf, void* dest) {
  remove_underscores(buf);
  if (strcmp(buf, "f16.nan") == 0) {
    *(uint16_t*)dest = float2halfbits(NAN);
    return 0;
  } else if (strcmp(buf, "f16.inf") == 0) {
    *(uint16_t*)dest = float2halfbits(INFINITY);
    return 0;
  } else if (strcmp(buf, "-f16.inf") == 0) {
    *(uint16_t*)dest = float2halfbits(-INFINITY);
    return 0;
  } else {
    int j;
    float x;
    if (sscanf(buf, "%f%n", &x, &j) == 1) {
      if (strcmp(buf+j, "") == 0 || strcmp(buf+j, "f16") == 0) {
        *(uint16_t*)dest = float2halfbits(x);
        return 0;
      }
    }
    return 1;
  }
}

static int read_str_f32(char *buf, void* dest) {
  remove_underscores(buf);
  if (strcmp(buf, "f32.nan") == 0) {
    *(float*)dest = (float)NAN;
    return 0;
  } else if (strcmp(buf, "f32.inf") == 0) {
    *(float*)dest = (float)INFINITY;
    return 0;
  } else if (strcmp(buf, "-f32.inf") == 0) {
    *(float*)dest = (float)-INFINITY;
    return 0;
  } else {
    READ_STR("f", float, "f32");
  }
}

static int read_str_f64(char *buf, void* dest) {
  remove_underscores(buf);
  if (strcmp(buf, "f64.nan") == 0) {
    *(double*)dest = (double)NAN;
    return 0;
  } else if (strcmp(buf, "f64.inf") == 0) {
    *(double*)dest = (double)INFINITY;
    return 0;
  } else if (strcmp(buf, "-f64.inf") == 0) {
    *(double*)dest = (double)-INFINITY;
    return 0;
  } else {
    READ_STR("lf", double, "f64");
  }
}

static int read_str_bool(char *buf, void* dest) {
  if (strcmp(buf, "true") == 0) {
    *(char*)dest = 1;
    return 0;
  } else if (strcmp(buf, "false") == 0) {
    *(char*)dest = 0;
    return 0;
  } else {
    return 1;
  }
}

static int write_str_i8(FILE *out, int8_t *src) {
  return fprintf(out, "%hhdi8", *src);
}

static int write_str_u8(FILE *out, uint8_t *src) {
  return fprintf(out, "%hhuu8", *src);
}

static int write_str_i16(FILE *out, int16_t *src) {
  return fprintf(out, "%hdi16", *src);
}

static int write_str_u16(FILE *out, uint16_t *src) {
  return fprintf(out, "%huu16", *src);
}

static int write_str_i32(FILE *out, int32_t *src) {
  return fprintf(out, "%di32", *src);
}

static int write_str_u32(FILE *out, uint32_t *src) {
  return fprintf(out, "%uu32", *src);
}

static int write_str_i64(FILE *out, int64_t *src) {
  return fprintf(out, "%"PRIi64"i64", *src);
}

static int write_str_u64(FILE *out, uint64_t *src) {
  return fprintf(out, "%"PRIu64"u64", *src);
}

static int write_str_f16(FILE *out, uint16_t *src) {
  float x = halfbits2float(*src);
  if (isnan(x)) {
    return fprintf(out, "f16.nan");
  } else if (isinf(x) && x >= 0) {
    return fprintf(out, "f16.inf");
  } else if (isinf(x)) {
    return fprintf(out, "-f16.inf");
  } else {
    return fprintf(out, "%.6ff16", x);
  }
}

static int write_str_f32(FILE *out, float *src) {
  float x = *src;
  if (isnan(x)) {
    return fprintf(out, "f32.nan");
  } else if (isinf(x) && x >= 0) {
    return fprintf(out, "f32.inf");
  } else if (isinf(x)) {
    return fprintf(out, "-f32.inf");
  } else {
    return fprintf(out, "%.6ff32", x);
  }
}

static int write_str_f64(FILE *out, double *src) {
  double x = *src;
  if (isnan(x)) {
    return fprintf(out, "f64.nan");
  } else if (isinf(x) && x >= 0) {
    return fprintf(out, "f64.inf");
  } else if (isinf(x)) {
    return fprintf(out, "-f64.inf");
  } else {
    return fprintf(out, "%.6ff64", *src);
  }
}

static int write_str_bool(FILE *out, void *src) {
  return fprintf(out, *(char*)src ? "true" : "false");
}

//// Binary I/O

#define BINARY_FORMAT_VERSION 2
#define IS_BIG_ENDIAN (!*(unsigned char *)&(uint16_t){1})

static void flip_bytes(size_t elem_size, unsigned char *elem) {
  for (size_t j=0; j<elem_size/2; j++) {
    unsigned char head = elem[j];
    size_t tail_index = elem_size-1-j;
    elem[j] = elem[tail_index];
    elem[tail_index] = head;
  }
}

// On Windows we need to explicitly set the file mode to not mangle
// newline characters.  On *nix there is no difference.
#ifdef _WIN32
#include <io.h>
#include <fcntl.h>
static void set_binary_mode(FILE *f) {
  setmode(fileno(f), O_BINARY);
}
#else
static void set_binary_mode(FILE *f) {
  (void)f;
}
#endif

static int read_byte(FILE *f, void* dest) {
  size_t num_elems_read = fread(dest, 1, 1, f);
  return num_elems_read == 1 ? 0 : 1;
}

//// Types

struct primtype_info_t {
  const char binname[4]; // Used for parsing binary data.
  const char* type_name; // Same name as in Futhark.
  const int64_t size; // in bytes
  const writer write_str; // Write in text format.
  const str_reader read_str; // Read in text format.
};

static const struct primtype_info_t i8_info =
  {.binname = "  i8", .type_name = "i8",   .size = 1,
   .write_str = (writer)write_str_i8, .read_str = (str_reader)read_str_i8};
static const struct primtype_info_t i16_info =
  {.binname = " i16", .type_name = "i16",  .size = 2,
   .write_str = (writer)write_str_i16, .read_str = (str_reader)read_str_i16};
static const struct primtype_info_t i32_info =
  {.binname = " i32", .type_name = "i32",  .size = 4,
   .write_str = (writer)write_str_i32, .read_str = (str_reader)read_str_i32};
static const struct primtype_info_t i64_info =
  {.binname = " i64", .type_name = "i64",  .size = 8,
   .write_str = (writer)write_str_i64, .read_str = (str_reader)read_str_i64};
static const struct primtype_info_t u8_info =
  {.binname = "  u8", .type_name = "u8",   .size = 1,
   .write_str = (writer)write_str_u8, .read_str = (str_reader)read_str_u8};
static const struct primtype_info_t u16_info =
  {.binname = " u16", .type_name = "u16",  .size = 2,
   .write_str = (writer)write_str_u16, .read_str = (str_reader)read_str_u16};
static const struct primtype_info_t u32_info =
  {.binname = " u32", .type_name = "u32",  .size = 4,
   .write_str = (writer)write_str_u32, .read_str = (str_reader)read_str_u32};
static const struct primtype_info_t u64_info =
  {.binname = " u64", .type_name = "u64",  .size = 8,
   .write_str = (writer)write_str_u64, .read_str = (str_reader)read_str_u64};
static const struct primtype_info_t f16_info =
  {.binname = " f16", .type_name = "f16",  .size = 2,
   .write_str = (writer)write_str_f16, .read_str = (str_reader)read_str_f16};
static const struct primtype_info_t f32_info =
  {.binname = " f32", .type_name = "f32",  .size = 4,
   .write_str = (writer)write_str_f32, .read_str = (str_reader)read_str_f32};
static const struct primtype_info_t f64_info =
  {.binname = " f64", .type_name = "f64",  .size = 8,
   .write_str = (writer)write_str_f64, .read_str = (str_reader)read_str_f64};
static const struct primtype_info_t bool_info =
  {.binname = "bool", .type_name = "bool", .size = 1,
   .write_str = (writer)write_str_bool, .read_str = (str_reader)read_str_bool};

static const struct primtype_info_t* primtypes[] = {
  &i8_info, &i16_info, &i32_info, &i64_info,
  &u8_info, &u16_info, &u32_info, &u64_info,
  &f16_info, &f32_info, &f64_info,
  &bool_info,
  NULL // NULL-terminated
};

// General value interface.  All endian business taken care of at
// lower layers.

static int read_is_binary(FILE *f) {
  skipspaces(f);
  int c = getc(f);
  if (c == 'b') {
    int8_t bin_version;
    int ret = read_byte(f, &bin_version);

    if (ret != 0) { futhark_panic(1, "binary-input: could not read version.\n"); }

    if (bin_version != BINARY_FORMAT_VERSION) {
      futhark_panic(1, "binary-input: File uses version %i, but I only understand version %i.\n",
            bin_version, BINARY_FORMAT_VERSION);
    }

    return 1;
  }
  ungetc(c, f);
  return 0;
}

static const struct primtype_info_t* read_bin_read_type_enum(FILE *f) {
  char read_binname[4];

  int num_matched = fscanf(f, "%4c", read_binname);
  if (num_matched != 1) { futhark_panic(1, "binary-input: Couldn't read element type.\n"); }

  const struct primtype_info_t **type = primtypes;

  for (; *type != NULL; type++) {
    // I compare the 4 characters manually instead of using strncmp because
    // this allows any value to be used, also NULL bytes
    if (memcmp(read_binname, (*type)->binname, 4) == 0) {
      return *type;
    }
  }
  futhark_panic(1, "binary-input: Did not recognize the type '%s'.\n", read_binname);
  return NULL;
}

static void read_bin_ensure_scalar(FILE *f, const struct primtype_info_t *expected_type) {
  int8_t bin_dims;
  int ret = read_byte(f, &bin_dims);
  if (ret != 0) { futhark_panic(1, "binary-input: Couldn't get dims.\n"); }

  if (bin_dims != 0) {
    futhark_panic(1, "binary-input: Expected scalar (0 dimensions), but got array with %i dimensions.\n",
          bin_dims);
  }

  const struct primtype_info_t *bin_type = read_bin_read_type_enum(f);
  if (bin_type != expected_type) {
    futhark_panic(1, "binary-input: Expected scalar of type %s but got scalar of type %s.\n",
          expected_type->type_name,
          bin_type->type_name);
  }
}

//// High-level interface

static int read_bin_array(FILE *f,
                          const struct primtype_info_t *expected_type, void **data, int64_t *shape, int64_t dims) {
  int ret;

  int8_t bin_dims;
  ret = read_byte(f, &bin_dims);
  if (ret != 0) { futhark_panic(1, "binary-input: Couldn't get dims.\n"); }

  if (bin_dims != dims) {
    futhark_panic(1, "binary-input: Expected %i dimensions, but got array with %i dimensions.\n",
          dims, bin_dims);
  }

  const struct primtype_info_t *bin_primtype = read_bin_read_type_enum(f);
  if (expected_type != bin_primtype) {
    futhark_panic(1, "binary-input: Expected %iD-array with element type '%s' but got %iD-array with element type '%s'.\n",
          dims, expected_type->type_name, dims, bin_primtype->type_name);
  }

  int64_t elem_count = 1;
  for (int i=0; i<dims; i++) {
    int64_t bin_shape;
    ret = (int)fread(&bin_shape, sizeof(bin_shape), 1, f);
    if (ret != 1) {
      futhark_panic(1, "binary-input: Couldn't read size for dimension %i of array.\n", i);
    }
    if (IS_BIG_ENDIAN) {
      flip_bytes(sizeof(bin_shape), (unsigned char*) &bin_shape);
    }
    elem_count *= bin_shape;
    shape[i] = bin_shape;
  }

  int64_t elem_size = expected_type->size;
  void* tmp = realloc(*data, (size_t)(elem_count * elem_size));
  if (tmp == NULL) {
    futhark_panic(1, "binary-input: Failed to allocate array of size %i.\n",
          elem_count * elem_size);
  }
  *data = tmp;

  int64_t num_elems_read = (int64_t)fread(*data, (size_t)elem_size, (size_t)elem_count, f);
  if (num_elems_read != elem_count) {
    futhark_panic(1, "binary-input: tried to read %i elements of an array, but only got %i elements.\n",
          elem_count, num_elems_read);
  }

  // If we're on big endian platform we must change all multibyte elements
  // from using little endian to big endian
  if (IS_BIG_ENDIAN && elem_size != 1) {
    flip_bytes((size_t)elem_size, (unsigned char*) *data);
  }

  return 0;
}

static int read_array(FILE *f, const struct primtype_info_t *expected_type, void **data, int64_t *shape, int64_t dims) {
  if (!read_is_binary(f)) {
    return read_str_array(f, expected_type->size, (str_reader)expected_type->read_str, expected_type->type_name, data, shape, dims);
  } else {
    return read_bin_array(f, expected_type, data, shape, dims);
  }
}

static int end_of_input(FILE *f) {
  skipspaces(f);
  char token[2];
  next_token(f, token, sizeof(token));
  if (strcmp(token, "") == 0) {
    return 0;
  } else {
    return 1;
  }
}

static int write_str_array(FILE *out,
                           const struct primtype_info_t *elem_type,
                           const unsigned char *data,
                           const int64_t *shape,
                           int8_t rank) {
  if (rank==0) {
    elem_type->write_str(out, (const void*)data);
  } else {
    int64_t len = (int64_t)shape[0];
    int64_t slice_size = 1;

    int64_t elem_size = elem_type->size;
    for (int8_t i = 1; i < rank; i++) {
      slice_size *= shape[i];
    }

    if (len*slice_size == 0) {
      fprintf(out, "empty(");
      for (int64_t i = 0; i < rank; i++) {
        fprintf(out, "[%"PRIi64"]", shape[i]);
      }
      fprintf(out, "%s", elem_type->type_name);
      fprintf(out, ")");
    } else if (rank==1) {
      fputc('[', out);
      for (int64_t i = 0; i < len; i++) {
        elem_type->write_str(out, (const void*) (data + i * elem_size));
        if (i != len-1) {
          fprintf(out, ", ");
        }
      }
      fputc(']', out);
    } else {
      fputc('[', out);
      for (int64_t i = 0; i < len; i++) {
        write_str_array(out, elem_type, data + i * slice_size * elem_size, shape+1, rank-1);
        if (i != len-1) {
          fprintf(out, ", ");
        }
      }
      fputc(']', out);
    }
  }
  return 0;
}

static int write_bin_array(FILE *out,
                           const struct primtype_info_t *elem_type,
                           const unsigned char *data,
                           const int64_t *shape,
                           int8_t rank) {
  int64_t num_elems = 1;
  for (int64_t i = 0; i < rank; i++) {
    num_elems *= shape[i];
  }

  fputc('b', out);
  fputc((char)BINARY_FORMAT_VERSION, out);
  fwrite(&rank, sizeof(int8_t), 1, out);
  fwrite(elem_type->binname, 4, 1, out);
  if (shape != NULL) {
    fwrite(shape, sizeof(int64_t), (size_t)rank, out);
  }

  if (IS_BIG_ENDIAN) {
    for (int64_t i = 0; i < num_elems; i++) {
      const unsigned char *elem = data+i*elem_type->size;
      for (int64_t j = 0; j < elem_type->size; j++) {
        fwrite(&elem[elem_type->size-j], 1, 1, out);
      }
    }
  } else {
    fwrite(data, (size_t)elem_type->size, (size_t)num_elems, out);
  }

  return 0;
}

static int write_array(FILE *out, int write_binary,
                       const struct primtype_info_t *elem_type,
                       const void *data,
                       const int64_t *shape,
                       const int8_t rank) {
  if (write_binary) {
    return write_bin_array(out, elem_type, data, shape, rank);
  } else {
    return write_str_array(out, elem_type, data, shape, rank);
  }
}

static int read_scalar(FILE *f,
                       const struct primtype_info_t *expected_type, void *dest) {
  if (!read_is_binary(f)) {
    char buf[100];
    next_token(f, buf, sizeof(buf));
    return expected_type->read_str(buf, dest);
  } else {
    read_bin_ensure_scalar(f, expected_type);
    size_t elem_size = (size_t)expected_type->size;
    size_t num_elems_read = fread(dest, elem_size, 1, f);
    if (IS_BIG_ENDIAN) {
      flip_bytes(elem_size, (unsigned char*) dest);
    }
    return num_elems_read == 1 ? 0 : 1;
  }
}

static int write_scalar(FILE *out, int write_binary, const struct primtype_info_t *type, void *src) {
  if (write_binary) {
    return write_bin_array(out, type, src, NULL, 0);
  } else {
    return type->write_str(out, src);
  }
}

// End of values.h.

static int binary_output = 0;
static int print_result = 1;
static int print_report = 0;
static FILE *runtime_file;
static int perform_warmup = 0;
static int num_runs = 1;
static const char *entry_point = "main";
// Start of tuning.h.

static char* load_tuning_file(const char *fname,
                              void *cfg,
                              int (*set_tuning_param)(void*, const char*, size_t)) {
  const int max_line_len = 1024;
  char* line = (char*) malloc(max_line_len);

  FILE *f = fopen(fname, "r");

  if (f == NULL) {
    snprintf(line, max_line_len, "Cannot open file: %s", strerror(errno));
    return line;
  }

  int lineno = 0;
  while (fgets(line, max_line_len, f) != NULL) {
    lineno++;
    char *eql = strstr(line, "=");
    if (eql) {
      *eql = 0;
      int value = atoi(eql+1);
      if (set_tuning_param(cfg, line, (size_t)value) != 0) {
        char* err = (char*) malloc(max_line_len + 50);
        snprintf(err, max_line_len + 50, "Unknown name '%s' on line %d.", line, lineno);
        free(line);
        return err;
      }
    } else {
      snprintf(line, max_line_len, "Invalid line %d (must be of form 'name=int').",
               lineno);
      return line;
    }
  }

  free(line);

  return NULL;
}

// End of tuning.h.

int parse_options(struct futhark_context_config *cfg, int argc, char *const argv[])
{
    int ch;
    static struct option long_options[] = {{"write-runtime-to", required_argument, NULL, 1}, {"runs", required_argument, NULL, 2}, {"debugging", no_argument, NULL, 3}, {"log", no_argument, NULL, 4}, {"entry-point", required_argument, NULL, 5}, {"binary-output", no_argument, NULL, 6}, {"no-print-result", no_argument, NULL, 7}, {"help", no_argument, NULL, 8}, {"print-params", no_argument, NULL, 9}, {"param", required_argument, NULL, 10}, {"tuning", required_argument, NULL, 11}, {"cache-file", required_argument, NULL, 12}, {"device", required_argument, NULL, 13}, {"default-group-size", required_argument, NULL, 14}, {"default-num-groups", required_argument, NULL, 15}, {"default-tile-size", required_argument, NULL, 16}, {"default-reg-tile-size", required_argument, NULL, 17}, {"default-threshold", required_argument, NULL, 18}, {"dump-cuda", required_argument, NULL, 19}, {"load-cuda", required_argument, NULL, 20}, {"dump-ptx", required_argument, NULL, 21}, {"load-ptx", required_argument, NULL, 22}, {"nvrtc-option", required_argument, NULL, 23}, {"profile", no_argument, NULL, 24}, {0, 0, 0, 0}};
    static char *option_descriptions = "  -t/--write-runtime-to FILE  Print the time taken to execute the program to the indicated file, an integral number of microseconds.\n  -r/--runs INT               Perform NUM runs of the program.\n  -D/--debugging              Perform possibly expensive internal correctness checks and verbose logging.\n  -L/--log                    Print various low-overhead logging information to stderr while running.\n  -e/--entry-point NAME       The entry point to run. Defaults to main.\n  -b/--binary-output          Print the program result in the binary output format.\n  -n/--no-print-result        Do not print the program result.\n  -h/--help                   Print help information and exit.\n  --print-params              Print all tuning parameters that can be set with --param or --tuning.\n  --param ASSIGNMENT          Set a tuning parameter to the given value.\n  --tuning FILE               Read size=value assignments from the given file.\n  --cache-file FILE           Store program cache here.\n  -d/--device NAME            Use the first OpenCL device whose name contains the given string.\n  --default-group-size INT    The default size of OpenCL workgroups that are launched.\n  --default-num-groups INT    The default number of OpenCL workgroups that are launched.\n  --default-tile-size INT     The default tile size used when performing two-dimensional tiling.\n  --default-reg-tile-size INT The default register tile size used when performing two-dimensional tiling.\n  --default-threshold INT     The default parallelism threshold.\n  --dump-cuda FILE            Dump the embedded CUDA kernels to the indicated file.\n  --load-cuda FILE            Instead of using the embedded CUDA kernels, load them from the indicated file.\n  --dump-ptx FILE             Dump the PTX-compiled version of the embedded kernels to the indicated file.\n  --load-ptx FILE             Load PTX code from the indicated file.\n  --nvrtc-option OPT          Add an additional build option to the string passed to NVRTC.\n  -P/--profile                Gather profiling data while executing and print out a summary at the end.\n";
    
    while ((ch = getopt_long(argc, argv, ":t:r:DLe:bnhd:P", long_options, NULL)) != -1) {
        if (ch == 1 || ch == 't') {
            runtime_file = fopen(optarg, "w");
            if (runtime_file == NULL)
                futhark_panic(1, "Cannot open %s: %s\n", optarg, strerror(errno));
        }
        if (ch == 2 || ch == 'r') {
            num_runs = atoi(optarg);
            perform_warmup = 1;
            if (num_runs <= 0)
                futhark_panic(1, "Need a positive number of runs, not %s\n", optarg);
        }
        if (ch == 3 || ch == 'D') {
            futhark_context_config_set_debugging(cfg, 1);
            print_report = 1;
        }
        if (ch == 4 || ch == 'L') {
            futhark_context_config_set_logging(cfg, 1);
            print_report = 1;
        }
        if (ch == 5 || ch == 'e') {
            if (entry_point != NULL)
                entry_point = optarg;
        }
        if (ch == 6 || ch == 'b')
            binary_output = 1;
        if (ch == 7 || ch == 'n')
            print_result = 0;
        if (ch == 8 || ch == 'h') {
            printf("Usage: %s [OPTION]...\nOptions:\n\n%s\nFor more information, consult the Futhark User's Guide or the man pages.\n", fut_progname, option_descriptions);
            exit(0);
        }
        if (ch == 9) {
            int n = futhark_get_tuning_param_count();
            
            for (int i = 0; i < n; i++)
                printf("%s (%s)\n", futhark_get_tuning_param_name(i), futhark_get_tuning_param_class(i));
            exit(0);
        }
        if (ch == 10) {
            char *name = optarg;
            char *equals = strstr(optarg, "=");
            char *value_str = equals != NULL ? equals + 1 : optarg;
            int value = atoi(value_str);
            
            if (equals != NULL) {
                *equals = 0;
                if (futhark_context_config_set_tuning_param(cfg, name, (size_t) value) != 0)
                    futhark_panic(1, "Unknown size: %s\n", name);
            } else
                futhark_panic(1, "Invalid argument for size option: %s\n", optarg);
        }
        if (ch == 11) {
            char *ret = load_tuning_file(optarg, cfg, (int (*)(void *, const char *, size_t)) futhark_context_config_set_tuning_param);
            
            if (ret != NULL)
                futhark_panic(1, "When loading tuning from '%s': %s\n", optarg, ret);
        }
        if (ch == 12)
            futhark_context_config_set_cache_file(cfg, optarg);
        if (ch == 13 || ch == 'd')
            futhark_context_config_set_device(cfg, optarg);
        if (ch == 14)
            futhark_context_config_set_default_group_size(cfg, atoi(optarg));
        if (ch == 15)
            futhark_context_config_set_default_num_groups(cfg, atoi(optarg));
        if (ch == 16)
            futhark_context_config_set_default_tile_size(cfg, atoi(optarg));
        if (ch == 17)
            futhark_context_config_set_default_reg_tile_size(cfg, atoi(optarg));
        if (ch == 18)
            futhark_context_config_set_default_threshold(cfg, atoi(optarg));
        if (ch == 19) {
            futhark_context_config_dump_program_to(cfg, optarg);
            entry_point = NULL;
        }
        if (ch == 20)
            futhark_context_config_load_program_from(cfg, optarg);
        if (ch == 21) {
            futhark_context_config_dump_ptx_to(cfg, optarg);
            entry_point = NULL;
        }
        if (ch == 22)
            futhark_context_config_load_ptx_from(cfg, optarg);
        if (ch == 23)
            futhark_context_config_add_nvrtc_option(cfg, optarg);
        if (ch == 24 || ch == 'P')
            futhark_context_config_set_profiling(cfg, 1);
        if (ch == ':')
            futhark_panic(-1, "Missing argument for option %s\n", argv[optind - 1]);
        if (ch == '?') {
            fprintf(stderr, "Usage: %s [OPTIONS]...\nOptions:\n\n%s\n", fut_progname, "  -t/--write-runtime-to FILE  Print the time taken to execute the program to the indicated file, an integral number of microseconds.\n  -r/--runs INT               Perform NUM runs of the program.\n  -D/--debugging              Perform possibly expensive internal correctness checks and verbose logging.\n  -L/--log                    Print various low-overhead logging information to stderr while running.\n  -e/--entry-point NAME       The entry point to run. Defaults to main.\n  -b/--binary-output          Print the program result in the binary output format.\n  -n/--no-print-result        Do not print the program result.\n  -h/--help                   Print help information and exit.\n  --print-params              Print all tuning parameters that can be set with --param or --tuning.\n  --param ASSIGNMENT          Set a tuning parameter to the given value.\n  --tuning FILE               Read size=value assignments from the given file.\n  --cache-file FILE           Store program cache here.\n  -d/--device NAME            Use the first OpenCL device whose name contains the given string.\n  --default-group-size INT    The default size of OpenCL workgroups that are launched.\n  --default-num-groups INT    The default number of OpenCL workgroups that are launched.\n  --default-tile-size INT     The default tile size used when performing two-dimensional tiling.\n  --default-reg-tile-size INT The default register tile size used when performing two-dimensional tiling.\n  --default-threshold INT     The default parallelism threshold.\n  --dump-cuda FILE            Dump the embedded CUDA kernels to the indicated file.\n  --load-cuda FILE            Instead of using the embedded CUDA kernels, load them from the indicated file.\n  --dump-ptx FILE             Dump the PTX-compiled version of the embedded kernels to the indicated file.\n  --load-ptx FILE             Load PTX code from the indicated file.\n  --nvrtc-option OPT          Add an additional build option to the string passed to NVRTC.\n  -P/--profile                Gather profiling data while executing and print out a summary at the end.\n");
            futhark_panic(1, "Unknown option: %s\n", argv[optind - 1]);
        }
    }
    return optind;
}
static int futrts_cli_entry_main(struct futhark_context *ctx)
{
    int64_t t_start, t_end;
    int time_runs = 0, profile_run = 0;
    int retval = 0;
    
    // We do not want to profile all the initialisation.
    futhark_context_pause_profiling(ctx);
    // Declare and read input.
    set_binary_mode(stdin);
    if (end_of_input(stdin) != 0)
        futhark_panic(1, "Expected EOF on stdin after reading input for \"%s\".\n", "main");
    
    bool result_0;
    struct futhark_u8_1d * result_1;
    struct futhark_u8_1d * result_2;
    struct futhark_u8_1d * result_3;
    struct futhark_u8_1d * result_4;
    struct futhark_u8_1d * result_5;
    struct futhark_u8_1d * result_6;
    
    if (perform_warmup) {
        int r;
        
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        // Only profile last run.
        if (profile_run)
            futhark_context_unpause_profiling(ctx);
        t_start = get_wall_time();
        r = futhark_entry_main(ctx, &result_0, &result_1, &result_2, &result_3, &result_4, &result_5, &result_6);
        if (r != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        if (profile_run)
            futhark_context_pause_profiling(ctx);
        t_end = get_wall_time();
        
        long elapsed_usec = t_end - t_start;
        
        if (time_runs && runtime_file != NULL) {
            fprintf(runtime_file, "%lld\n", (long long) elapsed_usec);
            fflush(runtime_file);
        }
        ;
        assert(futhark_free_u8_1d(ctx, result_1) == 0);
        assert(futhark_free_u8_1d(ctx, result_2) == 0);
        assert(futhark_free_u8_1d(ctx, result_3) == 0);
        assert(futhark_free_u8_1d(ctx, result_4) == 0);
        assert(futhark_free_u8_1d(ctx, result_5) == 0);
        assert(futhark_free_u8_1d(ctx, result_6) == 0);
    }
    time_runs = 1;
    // Proper run.
    for (int run = 0; run < num_runs; run++) {
        // Only profile last run.
        profile_run = run == num_runs - 1;
        
        int r;
        
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        // Only profile last run.
        if (profile_run)
            futhark_context_unpause_profiling(ctx);
        t_start = get_wall_time();
        r = futhark_entry_main(ctx, &result_0, &result_1, &result_2, &result_3, &result_4, &result_5, &result_6);
        if (r != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        if (futhark_context_sync(ctx) != 0)
            futhark_panic(1, "%s", futhark_context_get_error(ctx));
        ;
        if (profile_run)
            futhark_context_pause_profiling(ctx);
        t_end = get_wall_time();
        
        long elapsed_usec = t_end - t_start;
        
        if (time_runs && runtime_file != NULL) {
            fprintf(runtime_file, "%lld\n", (long long) elapsed_usec);
            fflush(runtime_file);
        }
        if (run < num_runs - 1) {
            ;
            assert(futhark_free_u8_1d(ctx, result_1) == 0);
            assert(futhark_free_u8_1d(ctx, result_2) == 0);
            assert(futhark_free_u8_1d(ctx, result_3) == 0);
            assert(futhark_free_u8_1d(ctx, result_4) == 0);
            assert(futhark_free_u8_1d(ctx, result_5) == 0);
            assert(futhark_free_u8_1d(ctx, result_6) == 0);
        }
    }
    if (print_result) {
        // Print the final result.
        if (binary_output)
            set_binary_mode(stdout);
        write_scalar(stdout, binary_output, &bool_info, &result_0);
        printf("\n");
        {
            uint8_t *arr = calloc(futhark_shape_u8_1d(ctx, result_1)[0], u8_info.size);
            
            assert(arr != NULL);
            assert(futhark_values_u8_1d(ctx, result_1, arr) == 0);
            assert(futhark_context_sync(ctx) == 0);
            write_array(stdout, binary_output, &u8_info, arr, futhark_shape_u8_1d(ctx, result_1), 1);
            free(arr);
        }
        printf("\n");
        {
            uint8_t *arr = calloc(futhark_shape_u8_1d(ctx, result_2)[0], u8_info.size);
            
            assert(arr != NULL);
            assert(futhark_values_u8_1d(ctx, result_2, arr) == 0);
            assert(futhark_context_sync(ctx) == 0);
            write_array(stdout, binary_output, &u8_info, arr, futhark_shape_u8_1d(ctx, result_2), 1);
            free(arr);
        }
        printf("\n");
        {
            uint8_t *arr = calloc(futhark_shape_u8_1d(ctx, result_3)[0], u8_info.size);
            
            assert(arr != NULL);
            assert(futhark_values_u8_1d(ctx, result_3, arr) == 0);
            assert(futhark_context_sync(ctx) == 0);
            write_array(stdout, binary_output, &u8_info, arr, futhark_shape_u8_1d(ctx, result_3), 1);
            free(arr);
        }
        printf("\n");
        {
            uint8_t *arr = calloc(futhark_shape_u8_1d(ctx, result_4)[0], u8_info.size);
            
            assert(arr != NULL);
            assert(futhark_values_u8_1d(ctx, result_4, arr) == 0);
            assert(futhark_context_sync(ctx) == 0);
            write_array(stdout, binary_output, &u8_info, arr, futhark_shape_u8_1d(ctx, result_4), 1);
            free(arr);
        }
        printf("\n");
        {
            uint8_t *arr = calloc(futhark_shape_u8_1d(ctx, result_5)[0], u8_info.size);
            
            assert(arr != NULL);
            assert(futhark_values_u8_1d(ctx, result_5, arr) == 0);
            assert(futhark_context_sync(ctx) == 0);
            write_array(stdout, binary_output, &u8_info, arr, futhark_shape_u8_1d(ctx, result_5), 1);
            free(arr);
        }
        printf("\n");
        {
            uint8_t *arr = calloc(futhark_shape_u8_1d(ctx, result_6)[0], u8_info.size);
            
            assert(arr != NULL);
            assert(futhark_values_u8_1d(ctx, result_6, arr) == 0);
            assert(futhark_context_sync(ctx) == 0);
            write_array(stdout, binary_output, &u8_info, arr, futhark_shape_u8_1d(ctx, result_6), 1);
            free(arr);
        }
        printf("\n");
    }
    
  print_end:
    { }
    ;
    assert(futhark_free_u8_1d(ctx, result_1) == 0);
    assert(futhark_free_u8_1d(ctx, result_2) == 0);
    assert(futhark_free_u8_1d(ctx, result_3) == 0);
    assert(futhark_free_u8_1d(ctx, result_4) == 0);
    assert(futhark_free_u8_1d(ctx, result_5) == 0);
    assert(futhark_free_u8_1d(ctx, result_6) == 0);
    return retval;
}
typedef int entry_point_fun(struct futhark_context *);
struct entry_point_entry {
    const char *name;
    entry_point_fun *fun;
};
int main(int argc, char **argv)
{
    int retval = 0;
    
    fut_progname = argv[0];
    
    struct futhark_context_config *cfg = futhark_context_config_new();
    
    assert(cfg != NULL);
    
    int parsed_options = parse_options(cfg, argc, argv);
    
    argc -= parsed_options;
    argv += parsed_options;
    if (argc != 0)
        futhark_panic(1, "Excess non-option: %s\n", argv[0]);
    
    struct futhark_context *ctx = futhark_context_new(cfg);
    
    assert(ctx != NULL);
    
    char *error = futhark_context_get_error(ctx);
    
    if (error != NULL)
        futhark_panic(1, "%s", error);
    
    struct entry_point_entry entry_points[] = {{.name ="main", .fun =futrts_cli_entry_main}};
    
    if (entry_point != NULL) {
        int num_entry_points = sizeof(entry_points) / sizeof(entry_points[0]);
        entry_point_fun *entry_point_fun = NULL;
        
        for (int i = 0; i < num_entry_points; i++) {
            if (strcmp(entry_points[i].name, entry_point) == 0) {
                entry_point_fun = entry_points[i].fun;
                break;
            }
        }
        if (entry_point_fun == NULL) {
            fprintf(stderr, "No entry point '%s'.  Select another with --entry-point.  Options are:\n", entry_point);
            for (int i = 0; i < num_entry_points; i++)
                fprintf(stderr, "%s\n", entry_points[i].name);
            return 1;
        }
        if (isatty(fileno(stdin))) {
            fprintf(stderr, "Reading input from TTY.\n");
            fprintf(stderr, "Send EOF (CTRL-d) after typing all input values.\n");
        }
        retval = entry_point_fun(ctx);
        if (runtime_file != NULL)
            fclose(runtime_file);
        if (print_report) {
            char *report = futhark_context_report(ctx);
            
            fputs(report, stderr);
            free(report);
        }
    }
    futhark_context_free(ctx);
    futhark_context_config_free(cfg);
    return retval;
}

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>


#include <cuda.h>
#include <cuda_runtime.h>
#include <nvrtc.h>


#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

static inline uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

static inline uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

static inline uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

static inline uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

static inline uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

static inline uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

static inline uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

static inline uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

static inline uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

static inline uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

static inline uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

static inline uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

static inline uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

static inline uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return x / ys;
}

static inline uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return x / ys;
}

static inline uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return (x + y - 1) / ys;
}

static inline uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return (x + y - 1) / ys;
}

static inline uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return (x + y - 1) / ys;
}

static inline uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return (x + y - 1) / ys;
}

static inline uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return x % ys;
}

static inline uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

static inline int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

static inline int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

static inline int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

static inline int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

static inline int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

static inline int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

static inline int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

static inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

static inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

static inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

static inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

static inline int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

static inline int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

static inline int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

static inline int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

static inline int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

#else

static inline uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

static inline uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

static inline uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

static inline uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

static inline uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

static inline uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

static inline uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

static inline uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

static inline uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

static inline uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

static inline uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

static inline uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

static inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

static inline int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

static inline int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

static inline int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

static inline int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

static inline int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

static inline int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

static inline int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

static inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

static inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

static inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

static inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

static inline int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

static inline int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

static inline int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

static inline int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

static inline int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

static inline int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

static inline int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

static inline int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

static inline int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

static inline int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

static inline int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

static inline int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

static inline int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

static inline int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

static inline int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

static inline int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

static inline int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

static inline uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

static inline uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

static inline uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

static inline uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

static inline int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

static inline int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

static inline int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

static inline int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

static inline uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

static inline uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

static inline uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

static inline uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

static inline uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

static inline uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

static inline uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

static inline uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

static inline uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

static inline uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

static inline uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

static inline uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

static inline int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

static inline int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

static inline int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

static inline int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

static inline uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

static inline uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

static inline uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

static inline uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

static inline uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

static inline uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

static inline uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

static inline uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

static inline uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

static inline uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

static inline uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

static inline uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

static inline bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

static inline bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

static inline bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

static inline bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

static inline bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

static inline bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

static inline bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

static inline bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

static inline bool slt8(int8_t x, int8_t y) {
  return x < y;
}

static inline bool slt16(int16_t x, int16_t y) {
  return x < y;
}

static inline bool slt32(int32_t x, int32_t y) {
  return x < y;
}

static inline bool slt64(int64_t x, int64_t y) {
  return x < y;
}

static inline bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

static inline bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

static inline bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

static inline bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

static inline uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline bool itob_i8_bool(int8_t x) {
  return x != 0;
}

static inline bool itob_i16_bool(int16_t x) {
  return x != 0;
}

static inline bool itob_i32_bool(int32_t x) {
  return x != 0;
}

static inline bool itob_i64_bool(int64_t x) {
  return x != 0;
}

static inline int8_t btoi_bool_i8(bool x) {
  return x;
}

static inline int16_t btoi_bool_i16(bool x) {
  return x;
}

static inline int32_t btoi_bool_i32(bool x) {
  return x;
}

static inline int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

static int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

static int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

static int32_t abs32(int32_t x) {
  return abs(x);
}

static int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

static int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

static int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

static int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

static int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

static int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

static int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

static int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }
static uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }
static uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }
static uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }
static uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }
static uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }
static uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }
static uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }
#elif defined(__CUDA_ARCH__)
static  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
static uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
static uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }
static uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }
static  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
static uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
static uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }
static uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }
#elif ISPC
static uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
static uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
static uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
static uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}
static  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
static int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
static int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
static int64_t futrts_smul_hi64(int64_t a, int64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 =  al * bl;
  int64_t  p2 = al * bh;
  int64_t  p3 = ah * bl;
  uint64_t p4 =  ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.
static uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }
static uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }
static uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }
static uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((__uint128_t)b) >> 64; }
static int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }
static int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }
static int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }
static int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }
#endif

#if defined(__OPENCL_VERSION__)
static  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }
static uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }
static uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }
static uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }
static  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }
static uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }
static uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }
static uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }
#else // Not OpenCL

static  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }
static uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }
static uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }
static uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }
static  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }
static uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }
static uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }
static uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

static int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

static int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

static int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

static int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

static int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

static int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

static int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

static int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

static int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

static int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

static int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

static int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

static int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

static int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

static inline float fdiv32(float x, float y) {
  return x / y;
}

static inline float fadd32(float x, float y) {
  return x + y;
}

static inline float fsub32(float x, float y) {
  return x - y;
}

static inline float fmul32(float x, float y) {
  return x * y;
}

static inline bool cmplt32(float x, float y) {
  return x < y;
}

static inline bool cmple32(float x, float y) {
  return x <= y;
}

static inline float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

static inline float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

static inline float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

static inline float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

static inline float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

static inline float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

static inline float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

static inline float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
static inline float fabs32(float x) {
  return fabs(x);
}

static inline float fmax32(float x, float y) {
  return fmax(x, y);
}

static inline float fmin32(float x, float y) {
  return fmin(x, y);
}

static inline float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

static inline float fabs32(float x) {
  return abs(x);
}

static inline float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

static inline float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

static inline float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

static inline float fabs32(float x) {
  return fabsf(x);
}

static inline float fmax32(float x, float y) {
  return fmaxf(x, y);
}

static inline float fmin32(float x, float y) {
  return fminf(x, y);
}

static inline float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

static inline bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

static inline bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

static inline bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

static inline int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

static inline int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

static inline int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

static inline int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

static inline uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

static inline uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

static inline uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

static inline uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

static inline bool ftob_f32_bool(float x) {
  return x != 0;
}

static inline float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x) {
  return log(x);
}

static inline float futrts_log2_32(float x) {
  return log2(x);
}

static inline float futrts_log10_32(float x) {
  return log10(x);
}

static inline float futrts_log1p_32(float x) {
  return log1p(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrt(x);
}

static inline float futrts_cbrt32(float x) {
  return cbrt(x);
}

static inline float futrts_exp32(float x) {
  return exp(x);
}

static inline float futrts_cos32(float x) {
  return cos(x);
}

static inline float futrts_sin32(float x) {
  return sin(x);
}

static inline float futrts_tan32(float x) {
  return tan(x);
}

static inline float futrts_acos32(float x) {
  return acos(x);
}

static inline float futrts_asin32(float x) {
  return asin(x);
}

static inline float futrts_atan32(float x) {
  return atan(x);
}

static inline float futrts_cosh32(float x) {
  return cosh(x);
}

static inline float futrts_sinh32(float x) {
  return sinh(x);
}

static inline float futrts_tanh32(float x) {
  return tanh(x);
}

static inline float futrts_acosh32(float x) {
  return acosh(x);
}

static inline float futrts_asinh32(float x) {
  return asinh(x);
}

static inline float futrts_atanh32(float x) {
  return atanh(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgamma(x);
}

static inline float futrts_lgamma32(float x) {
  return lgamma(x);
}

static inline float futrts_erf32(float x) {
  return erf(x);
}

static inline float futrts_erfc32(float x) {
  return erfc(x);
}

static inline float fmod32(float x, float y) {
  return fmod(x, y);
}

static inline float futrts_round32(float x) {
  return rint(x);
}

static inline float futrts_floor32(float x) {
  return floor(x);
}

static inline float futrts_ceil32(float x) {
  return ceil(x);
}

static inline float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

static inline float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

static inline float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

static inline float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

static inline float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

static inline float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

static inline float futrts_log1p_32(float x) {
  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;
  float y = 1.0f + x;
  float z = y - 1.0f;
  return log(y) - (z-x)/y;
}

static inline float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
static inline float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline float futrts_exp32(float x) {
  return exp(x);
}

static inline float futrts_cos32(float x) {
  return cos(x);
}

static inline float futrts_sin32(float x) {
  return sin(x);
}

static inline float futrts_tan32(float x) {
  return tan(x);
}

static inline float futrts_acos32(float x) {
  return acos(x);
}

static inline float futrts_asin32(float x) {
  return asin(x);
}

static inline float futrts_atan32(float x) {
  return atan(x);
}

static inline float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

static inline float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

static inline float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

static inline float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

static inline float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

static inline float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

static inline float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
static inline float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
static inline float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
static inline float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
static inline float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

static inline float futrts_round32(float x) {
  return round(x);
}

static inline float futrts_floor32(float x) {
  return floor(x);
}

static inline float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
static inline float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

static inline float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

static inline float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

static inline float futrts_log32(float x) {
  return logf(x);
}

static inline float futrts_log2_32(float x) {
  return log2f(x);
}

static inline float futrts_log10_32(float x) {
  return log10f(x);
}

static inline float futrts_log1p_32(float x) {
  return log1pf(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrtf(x);
}

static inline float futrts_cbrt32(float x) {
  return cbrtf(x);
}

static inline float futrts_exp32(float x) {
  return expf(x);
}

static inline float futrts_cos32(float x) {
  return cosf(x);
}

static inline float futrts_sin32(float x) {
  return sinf(x);
}

static inline float futrts_tan32(float x) {
  return tanf(x);
}

static inline float futrts_acos32(float x) {
  return acosf(x);
}

static inline float futrts_asin32(float x) {
  return asinf(x);
}

static inline float futrts_atan32(float x) {
  return atanf(x);
}

static inline float futrts_cosh32(float x) {
  return coshf(x);
}

static inline float futrts_sinh32(float x) {
  return sinhf(x);
}

static inline float futrts_tanh32(float x) {
  return tanhf(x);
}

static inline float futrts_acosh32(float x) {
  return acoshf(x);
}

static inline float futrts_asinh32(float x) {
  return asinhf(x);
}

static inline float futrts_atanh32(float x) {
  return atanhf(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgammaf(x);
}

static inline float futrts_lgamma32(float x) {
  return lgammaf(x);
}

static inline float futrts_erf32(float x) {
  return erff(x);
}

static inline float futrts_erfc32(float x) {
  return erfcf(x);
}

static inline float fmod32(float x, float y) {
  return fmodf(x, y);
}

static inline float futrts_round32(float x) {
  return rintf(x);
}

static inline float futrts_floor32(float x) {
  return floorf(x);
}

static inline float futrts_ceil32(float x) {
  return ceilf(x);
}

static inline float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

static inline float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

static inline float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
static inline int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

static inline float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
static inline int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

static inline float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

#if ISPC
static inline bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

static inline bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

static inline double fdiv64(double x, double y) {
  return x / y;
}

static inline double fadd64(double x, double y) {
  return x + y;
}

static inline double fsub64(double x, double y) {
  return x - y;
}

static inline double fmul64(double x, double y) {
  return x * y;
}

static inline bool cmplt64(double x, double y) {
  return x < y;
}

static inline bool cmple64(double x, double y) {
  return x <= y;
}

static inline double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

static inline double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

static inline double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

static inline double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

static inline double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

static inline double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

static inline double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

static inline double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

static inline double fabs64(double x) {
  return abs(x);
}

static inline double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

static inline double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

static inline double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

static inline double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

static inline double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

static inline double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

static inline double futrts_log1p_64(double x) {
  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;
  double y = 1.0d + x;
  double z = y - 1.0d;
  return log(y) - (z-x)/y;
}

static inline double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
static inline double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_exp64(double x) {
  return exp(x);
}

static inline double futrts_cos64(double x) {
  return cos(x);
}

static inline double futrts_sin64(double x) {
  return sin(x);
}

static inline double futrts_tan64(double x) {
  return tan(x);
}

static inline double futrts_acos64(double x) {
  return acos(x);
}

static inline double futrts_asin64(double x) {
  return asin(x);
}

static inline double futrts_atan64(double x) {
  return atan(x);
}

static inline double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

static inline double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

static inline double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

static inline double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

static inline double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

static inline double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

static inline double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
static inline double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
static inline double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
static inline double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
static inline double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
static inline double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

static inline double futrts_round64(double x) {
  return round(x);
}

static inline double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
static inline float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_floor64(double x) {
  return floor(x);
}

static inline bool futrts_isnan64(double x) {
  return isnan(x);
}

static inline int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

static inline int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

static inline int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

static inline int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

static inline uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

static inline uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

static inline uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

static inline uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

static inline bool ftob_f64_bool(double x) {
  return x != 0.0;
}

static inline double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

static inline int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

static inline double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

static inline double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

static inline double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

static inline double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

static inline float fpconv_f32_f32(float x) {
  return (float) x;
}

static inline double fpconv_f32_f64(float x) {
  return (double) x;
}

static inline float fpconv_f64_f32(double x) {
  return (float) x;
}

static inline double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

static inline double fdiv64(double x, double y) {
  return x / y;
}

static inline double fadd64(double x, double y) {
  return x + y;
}

static inline double fsub64(double x, double y) {
  return x - y;
}

static inline double fmul64(double x, double y) {
  return x * y;
}

static inline bool cmplt64(double x, double y) {
  return x < y;
}

static inline bool cmple64(double x, double y) {
  return x <= y;
}

static inline double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

static inline double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

static inline double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

static inline double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

static inline double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

static inline double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

static inline double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

static inline double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

static inline double fabs64(double x) {
  return fabs(x);
}

static inline double fmax64(double x, double y) {
  return fmax(x, y);
}

static inline double fmin64(double x, double y) {
  return fmin(x, y);
}

static inline double fpow64(double x, double y) {
  return pow(x, y);
}

static inline double futrts_log64(double x) {
  return log(x);
}

static inline double futrts_log2_64(double x) {
  return log2(x);
}

static inline double futrts_log10_64(double x) {
  return log10(x);
}

static inline double futrts_log1p_64(double x) {
  return log1p(x);
}

static inline double futrts_sqrt64(double x) {
  return sqrt(x);
}

static inline double futrts_cbrt64(double x) {
  return cbrt(x);
}

static inline double futrts_exp64(double x) {
  return exp(x);
}

static inline double futrts_cos64(double x) {
  return cos(x);
}

static inline double futrts_sin64(double x) {
  return sin(x);
}

static inline double futrts_tan64(double x) {
  return tan(x);
}

static inline double futrts_acos64(double x) {
  return acos(x);
}

static inline double futrts_asin64(double x) {
  return asin(x);
}

static inline double futrts_atan64(double x) {
  return atan(x);
}

static inline double futrts_cosh64(double x) {
  return cosh(x);
}

static inline double futrts_sinh64(double x) {
  return sinh(x);
}

static inline double futrts_tanh64(double x) {
  return tanh(x);
}

static inline double futrts_acosh64(double x) {
  return acosh(x);
}

static inline double futrts_asinh64(double x) {
  return asinh(x);
}

static inline double futrts_atanh64(double x) {
  return atanh(x);
}

static inline double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

static inline double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

static inline double futrts_gamma64(double x) {
  return tgamma(x);
}

static inline double futrts_lgamma64(double x) {
  return lgamma(x);
}

static inline double futrts_erf64(double x) {
  return erf(x);
}

static inline double futrts_erfc64(double x) {
  return erfc(x);
}

static inline double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

static inline double futrts_round64(double x) {
  return rint(x);
}

static inline double futrts_ceil64(double x) {
  return ceil(x);
}

static inline float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

static inline double futrts_floor64(double x) {
  return floor(x);
}

static inline bool futrts_isnan64(double x) {
  return isnan(x);
}

static inline bool futrts_isinf64(double x) {
  return isinf(x);
}

static inline int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

static inline int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

static inline int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

static inline int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

static inline uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

static inline uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

static inline uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

static inline uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

static inline bool ftob_f64_bool(double x) {
  return x != 0;
}

static inline double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

static inline int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

static inline double fmod64(double x, double y) {
  return fmod(x, y);
}

static inline double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

static inline double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

static inline double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

static inline float fpconv_f32_f32(float x) {
  return (float) x;
}

static inline double fpconv_f32_f64(float x) {
  return (double) x;
}

static inline float fpconv_f64_f32(double x) {
  return (float) x;
}

static inline double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

static inline f16 fadd16(f16 x, f16 y) {
  return x + y;
}

static inline f16 fsub16(f16 x, f16 y) {
  return x - y;
}

static inline f16 fmul16(f16 x, f16 y) {
  return x * y;
}

static inline bool cmplt16(f16 x, f16 y) {
  return x < y;
}

static inline bool cmple16(f16 x, f16 y) {
  return x <= y;
}

static inline f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

static inline f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

static inline f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

static inline f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

static inline f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

static inline f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

static inline f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

static inline f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

static inline int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

static inline int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

static inline uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

static inline bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

static inline f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
static inline bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

static inline f16 fabs16(f16 x) {
  return fabs(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
static inline f16 fabs16(f16 x) {
  return abs(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}
#else // Assuming CUDA.

static inline f16 fabs16(f16 x) {
  return fabsf(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
static inline bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
static inline bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

static inline bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
static inline f16 futrts_log16(f16 x) {
  return log(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return log2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return log10(x);
}

static inline f16 futrts_log1p_16(f16 x) {
  return log1p(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

static inline f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return exp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return cos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return sin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tan(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acos(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asin(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atan(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

static inline f16 futrts_erf16(f16 x) {
  return erf(x);
}

static inline f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rint(x);
}

static inline f16 futrts_floor16(f16 x) {
  return floor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

static inline f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

static inline f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

static inline f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

static inline f16 futrts_log1p_16(f16 x) {
  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;
  f16 y = 1.0f16 + x;
  f16 z = y - 1.0f16;
  return log(y) - (z-x)/y;
}

static inline f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

static inline f16 futrts_exp16(f16 x) {
  return exp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

static inline f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

static inline f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

static inline f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

static inline f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

static inline f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

static inline f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

static inline f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

static inline f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

static inline f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

static inline f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

static inline f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
static inline f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
static inline f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

static inline f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

static inline f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

static inline f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

static inline f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

static inline f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

static inline f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

static inline f16 futrts_log16(f16 x) {
  return hlog(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

static inline f16 futrts_log1p_16(f16 x) {
  return (f16)log1pf((float)x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

static inline f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

static inline f16 futrts_exp16(f16 x) {
  return hexp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return hcos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return hsin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tanf(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acosf(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asinf(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atanf(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

static inline f16 futrts_erf16(f16 x) {
  return erff(x);
}

static inline f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rintf(x);
}

static inline f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
static inline int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
static inline f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

static inline int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

static inline f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
static inline int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

static inline f16 fabs16(f16 x) {
  return fabs32(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

static inline bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

static inline bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

static inline f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

static inline f16 futrts_log1p_16(f16 x) {
  return futrts_log1p_32(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

static inline f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

static inline f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

static inline f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

static inline f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

static inline f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

static inline f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

static inline f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

static inline f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

static inline f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

static inline f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

static inline f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

static inline int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

static inline f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

static inline int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

static inline f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

static inline f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

static inline float fpconv_f16_f16(f16 x) {
  return x;
}

static inline float fpconv_f16_f32(f16 x) {
  return x;
}

static inline f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

static inline double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
static inline f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
static inline f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in context.h, or that will be called
// from those functions, that need to be available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// These are called in context/config new/free functions and contain
// shared setup.  They are generated by the compiler itself.
static int init_constants(struct futhark_context*);
static int free_constants(struct futhark_context*);
static void setup_program(struct futhark_context* ctx);
static void teardown_program(struct futhark_context *ctx);

// Allocate host memory.  Must be freed with host_free().
static void host_alloc(struct futhark_context* ctx, size_t size, const char* tag, size_t* size_out, void** mem_out);
// Allocate memory allocated with host_alloc().
static void host_free(struct futhark_context* ctx, size_t size, const char* tag, void* mem);

// Functions that must be defined by the backend.
static void backend_context_config_setup(struct futhark_context_config* cfg);
static void backend_context_config_teardown(struct futhark_context_config* cfg);
static int backend_context_setup(struct futhark_context *ctx);
static void backend_context_teardown(struct futhark_context *ctx);

// End of of context_prototypes.h

struct memblock_device {
    int *references;
    CUdeviceptr mem;
    int64_t size;
    const char *desc;
};
struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
struct constants {
    int dummy;
    struct memblock_device counters_mem_108343;
    struct memblock_device counters_mem_108439;
    bool main_res_11845;
    struct memblock_device mem_107226;
    int64_t triplayer2_12006;
    int64_t triplayer3_12012;
    int64_t triplayer4_12018;
    int64_t triplayer5_12024;
    int64_t triplayer6_12030;
    int64_t triplayer7_12036;
};
static int8_t static_array_realtype_108475[2] = {(int8_t) 0, (int8_t) 1};
static int8_t static_array_realtype_108476[16] = {(int8_t) 0, (int8_t) 1, (int8_t) 2, (int8_t) 3, (int8_t) 4, (int8_t) 5, (int8_t) 6, (int8_t) 7, (int8_t) 8, (int8_t) 9, (int8_t) 10, (int8_t) 11, (int8_t) 12, (int8_t) 13, (int8_t) 14, (int8_t) 15};
static int8_t static_array_realtype_108477[16] = {(int8_t) 10, (int8_t) 10, (int8_t) 10, (int8_t) 10, (int8_t) 10, (int8_t) 10, (int8_t) 10, (int8_t) 10, (int8_t) 5, (int8_t) 5, (int8_t) 5, (int8_t) 5, (int8_t) 5, (int8_t) 5, (int8_t) 6, (int8_t) 7};
struct tuning_params {
    int64_t *builtinzhreplicate_boolzigroup_sizze_107909;
    int64_t *builtinzhreplicate_i16zigroup_sizze_107929;
    int64_t *builtinzhreplicate_i32zigroup_sizze_108354;
    int64_t *segmap_group_sizze_24270;
    int64_t *segmap_group_sizze_24314;
    int64_t *segmap_group_sizze_24376;
    int64_t *segmap_group_sizze_24462;
    int64_t *segmap_group_sizze_24767;
    int64_t *segmap_group_sizze_24899;
    int64_t *segmap_group_sizze_24971;
    int64_t *segmap_group_sizze_25110;
    int64_t *segmap_group_sizze_25287;
    int64_t *segmap_group_sizze_25496;
    int64_t *segmap_group_sizze_25987;
    int64_t *segmap_group_sizze_26358;
    int64_t *segmap_group_sizze_26554;
    int64_t *segmap_group_sizze_26753;
    int64_t *segmap_group_sizze_26955;
    int64_t *segmap_group_sizze_27348;
    int64_t *segmap_group_sizze_27595;
    int64_t *segmap_group_sizze_27863;
    int64_t *segmap_group_sizze_28334;
    int64_t *segmap_group_sizze_29006;
    int64_t *segmap_group_sizze_29878;
    int64_t *segmap_group_sizze_30949;
    int64_t *segmap_num_groups_24272;
    int64_t *segmap_num_groups_24769;
    int64_t *segmap_num_groups_24901;
    int64_t *segmap_num_groups_25989;
    int64_t *segmap_num_groups_26360;
    int64_t *segmap_num_groups_26556;
    int64_t *segmap_num_groups_26755;
    int64_t *segmap_num_groups_26957;
    int64_t *segmap_num_groups_27350;
    int64_t *segred_group_sizze_27393;
    int64_t *segred_group_sizze_32218;
    int64_t *segred_num_groups_27395;
    int64_t *segred_num_groups_32220;
    int64_t *suff_outer_par_0;
    int64_t *suff_outer_par_1;
    int64_t *suff_outer_par_2;
    int64_t *suff_outer_par_3;
    int64_t *suff_outer_par_4;
    int64_t *suff_outer_par_5;
    int64_t *tile_sizze_81845;
};
static const int num_tuning_params = 45;
static const char *tuning_param_names[] = {"builtin#replicate_bool.group_size_107909", "builtin#replicate_i16.group_size_107929", "builtin#replicate_i32.group_size_108354", "segmap_group_size_24270", "segmap_group_size_24314", "segmap_group_size_24376", "segmap_group_size_24462", "segmap_group_size_24767", "segmap_group_size_24899", "segmap_group_size_24971", "segmap_group_size_25110", "segmap_group_size_25287", "segmap_group_size_25496", "segmap_group_size_25987", "segmap_group_size_26358", "segmap_group_size_26554", "segmap_group_size_26753", "segmap_group_size_26955", "segmap_group_size_27348", "segmap_group_size_27595", "segmap_group_size_27863", "segmap_group_size_28334", "segmap_group_size_29006", "segmap_group_size_29878", "segmap_group_size_30949", "segmap_num_groups_24272", "segmap_num_groups_24769", "segmap_num_groups_24901", "segmap_num_groups_25989", "segmap_num_groups_26360", "segmap_num_groups_26556", "segmap_num_groups_26755", "segmap_num_groups_26957", "segmap_num_groups_27350", "segred_group_size_27393", "segred_group_size_32218", "segred_num_groups_27395", "segred_num_groups_32220", "suff_outer_par_0", "suff_outer_par_1", "suff_outer_par_2", "suff_outer_par_3", "suff_outer_par_4", "suff_outer_par_5", "tile_size_81845"};
static const char *tuning_param_vars[] = {"builtinzhreplicate_boolzigroup_sizze_107909", "builtinzhreplicate_i16zigroup_sizze_107929", "builtinzhreplicate_i32zigroup_sizze_108354", "segmap_group_sizze_24270", "segmap_group_sizze_24314", "segmap_group_sizze_24376", "segmap_group_sizze_24462", "segmap_group_sizze_24767", "segmap_group_sizze_24899", "segmap_group_sizze_24971", "segmap_group_sizze_25110", "segmap_group_sizze_25287", "segmap_group_sizze_25496", "segmap_group_sizze_25987", "segmap_group_sizze_26358", "segmap_group_sizze_26554", "segmap_group_sizze_26753", "segmap_group_sizze_26955", "segmap_group_sizze_27348", "segmap_group_sizze_27595", "segmap_group_sizze_27863", "segmap_group_sizze_28334", "segmap_group_sizze_29006", "segmap_group_sizze_29878", "segmap_group_sizze_30949", "segmap_num_groups_24272", "segmap_num_groups_24769", "segmap_num_groups_24901", "segmap_num_groups_25989", "segmap_num_groups_26360", "segmap_num_groups_26556", "segmap_num_groups_26755", "segmap_num_groups_26957", "segmap_num_groups_27350", "segred_group_sizze_27393", "segred_group_sizze_32218", "segred_num_groups_27395", "segred_num_groups_32220", "suff_outer_par_0", "suff_outer_par_1", "suff_outer_par_2", "suff_outer_par_3", "suff_outer_par_4", "suff_outer_par_5", "tile_sizze_81845"};
static const char *tuning_param_classes[] = {"group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "group_size", "num_groups", "num_groups", "num_groups", "num_groups", "num_groups", "num_groups", "num_groups", "num_groups", "num_groups", "group_size", "group_size", "num_groups", "num_groups", "threshold(def, )", "threshold(def, !suff_outer_par_0)", "threshold(def, !suff_outer_par_1 !suff_outer_par_0)", "threshold(def, !suff_outer_par_2 !suff_outer_par_1 !suff_outer_par_0)", "threshold(def, !suff_outer_par_3 !suff_outer_par_2 !suff_outer_par_1 !suff_outer_par_0)", "threshold(def, !suff_outer_par_4 !suff_outer_par_3 !suff_outer_par_2 !suff_outer_par_1 !suff_outer_par_0)", "group_size"};
static int64_t tuning_param_defaults[] = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};
static const int max_failure_args = 4;
static const char *cuda_program[] = {"\n#define FUTHARK_CUDA\n#define FUTHARK_F64_ENABLED\n\ntypedef char int8_t;\ntypedef short int16_t;\ntypedef int int32_t;\ntypedef long long int64_t;\ntypedef unsigned char uint8_t;\ntypedef unsigned short uint16_t;\ntypedef unsigned int uint32_t;\ntypedef unsigned long long uint64_t;\ntypedef uint8_t uchar;\ntypedef uint16_t ushort;\ntypedef uint32_t uint;\ntypedef uint64_t ulong;\n#define __kernel extern \"C\" __global__ __launch_bounds__(MAX_THREADS_PER_BLOCK)\n#define __global\n#define __local\n#define __private\n#define __constant\n#define __write_only\n#define __read_only\n\nstatic inline int get_group_id_fn(int block_dim0, int block_dim1, int block_dim2, int d) {\n  switch (d) {\n    case 0: d = block_dim0; break;\n    case 1: d = block_dim1; break;\n    case 2: d = block_dim2; break;\n  }\n  switch (d) {\n    case 0: return blockIdx.x;\n    case 1: return blockIdx.y;\n    case 2: return blockIdx.z;\n    default: return 0;\n  }\n}\n#define get_group_id(d) get_group_id_fn(block_dim0, block_dim1, block_dim2, d)\n\nstatic inline int get_num_groups_fn(int block_dim0, int block_dim1, int block_dim2, int d) {\n  switch (d) {\n    case 0: d = block_dim0; break;\n    case 1: d = block_dim1; break;\n    case 2: d = block_dim2; break;\n  }\n  switch(d) {\n    case 0: return gridDim.x;\n    case 1: return gridDim.y;\n    case 2: return gridDim.z;\n    default: return 0;\n  }\n}\n#define get_num_groups(d) get_num_groups_fn(block_dim0, block_dim1, block_dim2, d)\n\nstatic inline int get_local_id(int d) {\n  switch (d) {\n    case 0: return threadIdx.x;\n    case 1: return threadIdx.y;\n    case 2: return threadIdx.z;\n    default: return 0;\n  }\n}\n\nstatic inline int get_local_size(int d) {\n  switch (d) {\n    case 0: return blockDim.x;\n    case 1: return blockDim.y;\n    case 2: return blockDim.z;\n    default: return 0;\n  }\n}\n\n#define CLK_LOCAL_MEM_FENCE 1\n#define CLK_GLOBAL_MEM_FENCE 2\nstatic inline void barrier(int x) {\n  __syncthreads();\n}\nstatic inline void mem_fence_local() {\n  __threadfence_block();\n}\nstatic inline void mem_fenc", "e_global() {\n  __threadfence();\n}\n\n#define NAN (0.0/0.0)\n#define INFINITY (1.0/0.0)\nextern volatile __shared__ unsigned char shared_mem[];\n// Start of half.h.\n\n// Conversion functions are from http://half.sourceforge.net/, but\n// translated to C.\n//\n// Copyright (c) 2012-2021 Christian Rau\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n#ifndef __OPENCL_VERSION__\n#define __constant\n#endif\n\n__constant static const uint16_t base_table[512] = {\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x00", "00, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,\n  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,\n  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000",
                                     ", 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,\n  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,\n  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };\n\n__constant static const unsigned char shift_table[512] = {\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24", ", 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };\n\n__constant static const uint32_t mantissa_table[2048] = {\n  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x355", "00000, 0x35600000, 0x35700000,\n  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,\n  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,\n  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,\n  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,\n  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,\n  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,\n  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,\n  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,\n  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,\n  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,\n  0x37300000, 0x37310000, 0x3",
                                     "7320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,\n  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,\n  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,\n  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,\n  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,\n  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,\n  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,\n  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,\n  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,\n  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,\n  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x3", "7AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,\n  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,\n  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,\n  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,\n  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,\n  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,\n  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,\n  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,\n  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,\n  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,\n  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x3", "7FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,\n  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,\n  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,\n  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,\n  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,\n  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,\n  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,\n  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,\n  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,\n  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,\n  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,\n  0x38280000, 0",
                                     "x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,\n  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,\n  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,\n  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,\n  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,\n  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,\n  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,\n  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,\n  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,\n  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,\n  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0", "x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,\n  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,\n  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,\n  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,\n  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,\n  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,\n  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,\n  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,\n  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,\n  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,\n  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0", "x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,\n  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,\n  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,\n  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,\n  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,\n  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,\n  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,\n  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,\n  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,\n  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,\n  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,\n ",
                                     " 0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,\n  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,\n  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,\n  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,\n  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,\n  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,\n  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,\n  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,\n  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,\n  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,\n  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000,", " 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,\n  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,\n  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,\n  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,\n  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,\n  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,\n  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,\n  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,\n  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,\n  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,\n  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000,", " 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,\n  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,\n  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,\n  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,\n  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,\n  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,\n  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,\n  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,\n  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,\n  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,\n  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000,",
                                     " 0x384FE000,\n  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,\n  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,\n  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,\n  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,\n  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,\n  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,\n  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,\n  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,\n  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,\n  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,\n  0x38640000, 0x38642000, 0x38644000, 0x3864600", "0, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,\n  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,\n  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,\n  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,\n  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,\n  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,\n  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,\n  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,\n  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,\n  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,\n  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x3879000", "0, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,\n  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,\n  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,\n  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };\n__constant static const uint32_t exponent_table[64] = {\n  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,\n  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,\n  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,\n  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };\n__constant static const unsigned short offset_table[64] = {\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };\n\nstatic uint16_t float2halfbits(float value) {\n  un",
                                     "ion { float x; uint32_t y; } u;\n  u.x = value;\n  uint32_t bits = u.y;\n\n  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;\n\n  return hbits;\n}\n\nstatic float halfbits2float(uint16_t value) {\n  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];\n\n  union { uint32_t x; float y; } u;\n  u.x = bits;\n  return u.y;\n}\n\nstatic uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {\n  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;\n  if(fabs > 0x7C00 || tabs > 0x7C00) {\n    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);\n  }\n  if(from == to || !(fabs|tabs)) {\n    return to;\n  }\n  if(!fabs) {\n    return (to&0x8000)+1;\n  }\n  unsigned int out =\n    from +\n    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)\n    - 1;\n  return out;\n}\n\n// End of half.h.\n// Start of scalar.h.\n\n// Implementation of the primitive scalar operations.  Very\n// repetitive.  This code is inserted directly into both CUDA and\n// OpenCL programs, as well as the CPU code, so it has some #ifdefs to\n// work everywhere.  Some operations are defined as macros because\n// this allows us to use them as constant expressions in things like\n// array sizes and static initialisers.\n\n// Some of the #ifdefs are because OpenCL uses type-generic functions\n// for some operations (e.g. sqrt), while C and CUDA sensibly use\n// distinct functions for different precisions (e.g. sqrtf() and\n// sqrt()).  This is quite annoying.  Due to C's unfortunate casting\n// rules, it is also really easy to accidentally implement\n// floating-point functions in the wrong precision, so be careful.\n\n// Double-precision definitions are only included if the preprocessor\n// macro FUTHARK_F64_ENABLED is set.\n\nstatic inline uint8_t add8(uint8_t x, uint8_t y) {\n  return x + y;\n}\n\nstatic inline uint16_t add16(uint16_t x, uint16_t y) {\n  return x + y;\n}\n\nstatic inline uint32_t add32(uint32_t x, uint32_t y) {\n", "  return x + y;\n}\n\nstatic inline uint64_t add64(uint64_t x, uint64_t y) {\n  return x + y;\n}\n\nstatic inline uint8_t sub8(uint8_t x, uint8_t y) {\n  return x - y;\n}\n\nstatic inline uint16_t sub16(uint16_t x, uint16_t y) {\n  return x - y;\n}\n\nstatic inline uint32_t sub32(uint32_t x, uint32_t y) {\n  return x - y;\n}\n\nstatic inline uint64_t sub64(uint64_t x, uint64_t y) {\n  return x - y;\n}\n\nstatic inline uint8_t mul8(uint8_t x, uint8_t y) {\n  return x * y;\n}\n\nstatic inline uint16_t mul16(uint16_t x, uint16_t y) {\n  return x * y;\n}\n\nstatic inline uint32_t mul32(uint32_t x, uint32_t y) {\n  return x * y;\n}\n\nstatic inline uint64_t mul64(uint64_t x, uint64_t y) {\n  return x * y;\n}\n\n#if ISPC\n\nstatic inline uint8_t udiv8(uint8_t x, uint8_t y) {\n  // This strange pattern is used to prevent the ISPC compiler from\n  // causing SIGFPEs and bogus results on divisions where inactive lanes\n  // have 0-valued divisors. It ensures that any inactive lane instead\n  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nstatic inline uint16_t udiv16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline uint32_t udiv32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return x / ys;\n}\n\nstatic inline uint64_t udiv64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return x / ys;\n}\n\nstatic inline uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return (x + y - 1) / ys;\n}\n\nstatic inline uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return (x + y - 1) / ys;\n}\n\nstatic inline uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return (x + y - 1) / ys;\n}\n\nstatic inline uint64_t udiv_up64(uint64_t x, uint64_t y) {\n ", " uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return (x + y - 1) / ys;\n}\n\nstatic inline uint8_t umod8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline uint16_t umod16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return x % ys;\n}\n\nstatic inline uint32_t umod32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline uint64_t umod64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  ",
                                     "}\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int8_t q = x / ys;\n  int8_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int16_t q = x / ys;\n  int16_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  int32_t q = x / ys;\n  int32_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int64_t q = x / ys;\n  int64_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up32(int32_t x, int32_t y) {\n  return sdiv32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nstatic inline int8_t smod8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int8_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int16_t smod16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int", "16_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int32_t smod32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int32_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int64_t smod64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int64_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nstatic inline int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nstatic inline int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nstatic inline int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nstatic inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nstatic inline int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nstatic inline int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nstatic inline int32_t smod_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nstatic inline int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nstatic inline int8_t squot8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int16_t squot16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int32_t squot32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n", "  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int64_t squot64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int8_t srem8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int16_t srem16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int32_t srem32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int64_t srem64(int64_t x, int64_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int8_t squot_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int16_t squot_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int32_t squot_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int64_t squot_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int8_t srem_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int16_t srem_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int32_t srem_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int64_t srem_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\n#else\n\nstatic inline uint8_t udiv8(uint8_t x, uint8_t y) {\n  return x / y;\n}\n\nstatic inline uint16_t udi",
                                     "v16(uint16_t x, uint16_t y) {\n  return x / y;\n}\n\nstatic inline uint32_t udiv32(uint32_t x, uint32_t y) {\n  return x / y;\n}\n\nstatic inline uint64_t udiv64(uint64_t x, uint64_t y) {\n  return x / y;\n}\n\nstatic inline uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint8_t umod8(uint8_t x, uint8_t y) {\n  return x % y;\n}\n\nstatic inline uint16_t umod16(uint16_t x, uint16_t y) {\n  return x % y;\n}\n\nstatic inline uint32_t umod32(uint32_t x, uint32_t y) {\n  return x % y;\n}\n\nstatic inline uint64_t umod64(uint64_t x, uint64_t y) {\n  return x % y;\n}\n\nstatic inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\ns", "tatic inline int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t q = x / y;\n  int8_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t q = x / y;\n  int16_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t q = x / y;\n  int32_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t q = x / y;\n  int64_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up32(int32_t x, int32_t y) {\n  return sdiv32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nstatic inline int8_t smod8(int8_t x, int8_t y) {\n  int8_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int16_t smod16(int16_t x, int16_t y) {\n  int16_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int32_t smod32(int32_t x, int32_t y) {\n  int32_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int64_t smod64(int64_t x, int64_t y) {\n  int64_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nstatic inline int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nstatic inline int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nstatic inline int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nstatic inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x", " + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nstatic inline int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nstatic inline int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nstatic inline int32_t smod_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nstatic inline int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nstatic inline int8_t squot8(int8_t x, int8_t y) {\n  return x / y;\n}\n\nstatic inline int16_t squot16(int16_t x, int16_t y) {\n  return x / y;\n}\n\nstatic inline int32_t squot32(int32_t x, int32_t y) {\n  return x / y;\n}\n\nstatic inline int64_t squot64(int64_t x, int64_t y) {\n  return x / y;\n}\n\nstatic inline int8_t srem8(int8_t x, int8_t y) {\n  return x % y;\n}\n\nstatic inline int16_t srem16(int16_t x, int16_t y) {\n  return x % y;\n}\n\nstatic inline int32_t srem32(int32_t x, int32_t y) {\n  return x % y;\n}\n\nstatic inline int64_t srem64(int64_t x, int64_t y) {\n  return x % y;\n}\n\nstatic inline int8_t squot_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int16_t squot_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int32_t squot_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int64_t squot_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int8_t srem_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int16_t srem_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int32_t srem_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int64_t srem_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\n#endif\n\nstat",
                                     "ic inline int8_t smin8(int8_t x, int8_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int16_t smin16(int16_t x, int16_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int32_t smin32(int32_t x, int32_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int64_t smin64(int64_t x, int64_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint8_t umin8(uint8_t x, uint8_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint16_t umin16(uint16_t x, uint16_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint32_t umin32(uint32_t x, uint32_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint64_t umin64(uint64_t x, uint64_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int8_t smax8(int8_t x, int8_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int16_t smax16(int16_t x, int16_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int32_t smax32(int32_t x, int32_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int64_t smax64(int64_t x, int64_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint8_t umax8(uint8_t x, uint8_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint16_t umax16(uint16_t x, uint16_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint32_t umax32(uint32_t x, uint32_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint64_t umax64(uint64_t x, uint64_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint8_t shl8(uint8_t x, uint8_t y) {\n  return (uint8_t)(x << y);\n}\n\nstatic inline uint16_t shl16(uint16_t x, uint16_t y) {\n  return (uint16_t)(x << y);\n}\n\nstatic inline uint32_t shl32(uint32_t x, uint32_t y) {\n  return x << y;\n}\n\nstatic inline uint64_t shl64(uint64_t x, uint64_t y) {\n  return x << y;\n}\n\nstatic inline uint8_t lshr8(uint8_t x, uint8_t y) {\n  return x >> y;\n}\n\nstatic inline uint16_t lshr16(uint16_t x, uint16_t y) {\n  return x >> y;\n}\n\nstatic inline uint32_t lshr32(uint32_t x, uint32_t y) {\n  return x >> y;\n}\n\nstatic inline uint64_t lshr64(uint64_t x, uint64_t y) {\n  return x >> y;\n}\n\nstatic inline int8_t ashr8(int8_t x, int8_t y) {\n  return x >> y;\n}\n\nstatic inline int16_t ashr16", "(int16_t x, int16_t y) {\n  return x >> y;\n}\n\nstatic inline int32_t ashr32(int32_t x, int32_t y) {\n  return x >> y;\n}\n\nstatic inline int64_t ashr64(int64_t x, int64_t y) {\n  return x >> y;\n}\n\nstatic inline uint8_t and8(uint8_t x, uint8_t y) {\n  return x & y;\n}\n\nstatic inline uint16_t and16(uint16_t x, uint16_t y) {\n  return x & y;\n}\n\nstatic inline uint32_t and32(uint32_t x, uint32_t y) {\n  return x & y;\n}\n\nstatic inline uint64_t and64(uint64_t x, uint64_t y) {\n  return x & y;\n}\n\nstatic inline uint8_t or8(uint8_t x, uint8_t y) {\n  return x | y;\n}\n\nstatic inline uint16_t or16(uint16_t x, uint16_t y) {\n  return x | y;\n}\n\nstatic inline uint32_t or32(uint32_t x, uint32_t y) {\n  return x | y;\n}\n\nstatic inline uint64_t or64(uint64_t x, uint64_t y) {\n  return x | y;\n}\n\nstatic inline uint8_t xor8(uint8_t x, uint8_t y) {\n  return x ^ y;\n}\n\nstatic inline uint16_t xor16(uint16_t x, uint16_t y) {\n  return x ^ y;\n}\n\nstatic inline uint32_t xor32(uint32_t x, uint32_t y) {\n  return x ^ y;\n}\n\nstatic inline uint64_t xor64(uint64_t x, uint64_t y) {\n  return x ^ y;\n}\n\nstatic inline bool ult8(uint8_t x, uint8_t y) {\n  return x < y;\n}\n\nstatic inline bool ult16(uint16_t x, uint16_t y) {\n  return x < y;\n}\n\nstatic inline bool ult32(uint32_t x, uint32_t y) {\n  return x < y;\n}\n\nstatic inline bool ult64(uint64_t x, uint64_t y) {\n  return x < y;\n}\n\nstatic inline bool ule8(uint8_t x, uint8_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule16(uint16_t x, uint16_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule32(uint32_t x, uint32_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule64(uint64_t x, uint64_t y) {\n  return x <= y;\n}\n\nstatic inline bool slt8(int8_t x, int8_t y) {\n  return x < y;\n}\n\nstatic inline bool slt16(int16_t x, int16_t y) {\n  return x < y;\n}\n\nstatic inline bool slt32(int32_t x, int32_t y) {\n  return x < y;\n}\n\nstatic inline bool slt64(int64_t x, int64_t y) {\n  return x < y;\n}\n\nstatic inline bool sle8(int8_t x, int8_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle16(int16_t x, int16_t ", "y) {\n  return x <= y;\n}\n\nstatic inline bool sle32(int32_t x, int32_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle64(int64_t x, int64_t y) {\n  return x <= y;\n}\n\nstatic inline uint8_t pow8(uint8_t x, uint8_t y) {\n  uint8_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint16_t pow16(uint16_t x, uint16_t y) {\n  uint16_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint32_t pow32(uint32_t x, uint32_t y) {\n  uint32_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint64_t pow64(uint64_t x, uint64_t y) {\n  uint64_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline bool itob_i8_bool(int8_t x) {\n  return x != 0;\n}\n\nstatic inline bool itob_i16_bool(int16_t x) {\n  return x != 0;\n}\n\nstatic inline bool itob_i32_bool(int32_t x) {\n  return x != 0;\n}\n\nstatic inline bool itob_i64_bool(int64_t x) {\n  return x != 0;\n}\n\nstatic inline int8_t btoi_bool_i8(bool x) {\n  return x;\n}\n\nstatic inline int16_t btoi_bool_i16(bool x) {\n  return x;\n}\n\nstatic inline int32_t btoi_bool_i32(bool x) {\n  return x;\n}\n\nstatic inline int64_t btoi_bool_i64(bool x) {\n  return x;\n}\n\n#define sext_i8_i8(x) ((int8_t) (int8_t) (x))\n#define sext_i8_i16(x) ((int16_t) (int8_t) (x))\n#define sext_i8_i32(x) ((int32_t) (int8_t) (x))\n#define sext_i8_i64(x) ((int64_t) (int8_t) (x))\n#define sext_i16_i8(x) ((int8_t) (int16_t) (x))\n#define sext_i16_i16(x) ((int16_t) (int16_t) (x))\n#define sext_i16_i32(x) ((int32_t) (int16_t) (x))\n#define sext_i16_i64(x) ((int64_t) (int16_t) (x))\n#define sext_i32_i8(x) ((int8_t) (int32_t) (x))\n#define sext_i32_i16(x) ((int16_t) (int32_t) (x))\n#define sext_i32_i32(x) ((int32_t) (int32_t) (x))\n#define sext_i32_i64(x) ((int64_t) (int32_t) (x))\n#def",
                                     "ine sext_i64_i8(x) ((int8_t) (int64_t) (x))\n#define sext_i64_i16(x) ((int16_t) (int64_t) (x))\n#define sext_i64_i32(x) ((int32_t) (int64_t) (x))\n#define sext_i64_i64(x) ((int64_t) (int64_t) (x))\n#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))\n#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))\n#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))\n#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))\n#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))\n#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))\n#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))\n#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))\n#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))\n#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))\n#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))\n#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))\n#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))\n#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))\n#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))\n#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))\n\nstatic int8_t abs8(int8_t x) {\n  return (int8_t)abs(x);\n}\n\nstatic int16_t abs16(int16_t x) {\n  return (int16_t)abs(x);\n}\n\nstatic int32_t abs32(int32_t x) {\n  return abs(x);\n}\n\nstatic int64_t abs64(int64_t x) {\n#if defined(__OPENCL_VERSION__) || defined(ISPC)\n  return abs(x);\n#else\n  return llabs(x);\n#endif\n}\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_popc8(int8_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc16(int16_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc32(int32_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc64(int64_t x) {\n  return popcount(x);\n}\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_popc8(int8_t x) {\n  return __popc(zext_i8_i32(x));\n}\n\nstatic int32_t futrts_popc16(int16_t x) {\n  return __popc(zext_i16_i32(x));\n}\n\nstatic int32_t futrts_popc32(int32_t x) {\n  return __popc(x);\n}\n\nstatic int32_t futrts_popc64(int64_t x) {\n  return __popcll(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_popc8(uint8_t x", ") {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc16(uint16_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc32(uint32_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc64(uint64_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic uint8_t  futrts_umul_hi8 ( uint8_t a,  uint8_t b) { return mul_hi(a, b); }\nstatic uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return mul_hi(a, b); }\nstatic uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return mul_hi(a, b); }\nstatic uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return mul_hi(a, b); }\nstatic uint8_t  futrts_smul_hi8 ( int8_t a,  int8_t b) { return mul_hi(a, b); }\nstatic uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return mul_hi(a, b); }\nstatic uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return mul_hi(a, b); }\nstatic uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return mul_hi(a, b); }\n#elif defined(__CUDA_ARCH__)\nstatic  uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nstatic uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nstatic uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return __umulhi(a, b); }\nstatic uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return __umul64hi(a, b); }\nstatic  uint8_t futrts_smul_hi8 ( int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }\nstatic uint16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }\nstatic uint32_t futrts_smul_hi32(int32_t a, int32_t b) { return __mulhi(a, b); }\nstatic uint64_t futrts_smul_hi64(int64_t a, int64_t b) { return __mul64hi(a, b); }\n#elif ISPC\nstatic uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nstatic uint16_t futrts_umul_hi16(uint16_t a, uint16_t b)", " { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nstatic uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nstatic uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) {\n  uint64_t ah = a >> 32;\n  uint64_t al = a & 0xffffffff;\n  uint64_t bh = b >> 32;\n  uint64_t bl = b & 0xffffffff;\n\n  uint64_t p1 = al * bl;\n  uint64_t p2 = al * bh;\n  uint64_t p3 = ah * bl;\n  uint64_t p4 = ah * bh;\n\n  uint64_t p1h = p1 >> 32;\n  uint64_t p2h = p2 >> 32;\n  uint64_t p3h = p3 >> 32;\n  uint64_t p2l = p2 & 0xffffffff;\n  uint64_t p3l = p3 & 0xffffffff;\n\n  uint64_t l = p1h + p2l + p3l;\n  uint64_t m = (p2 >> 32) + (p3 >> 32);\n  uint64_t h = (l >> 32) + m + p4;\n\n  return h;\n}\nstatic  int8_t futrts_smul_hi8 ( int8_t a,  int8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nstatic int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nstatic int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nstatic int64_t futrts_smul_hi64(int64_t a, int64_t b) {\n  uint64_t ah = a >> 32;\n  uint64_t al = a & 0xffffffff;\n  uint64_t bh = b >> 32;\n  uint64_t bl = b & 0xffffffff;\n\n  uint64_t p1 =  al * bl;\n  int64_t  p2 = al * bh;\n  int64_t  p3 = ah * bl;\n  uint64_t p4 =  ah * bh;\n\n  uint64_t p1h = p1 >> 32;\n  uint64_t p2h = p2 >> 32;\n  uint64_t p3h = p3 >> 32;\n  uint64_t p2l = p2 & 0xffffffff;\n  uint64_t p3l = p3 & 0xffffffff;\n\n  uint64_t l = p1h + p2l + p3l;\n  uint64_t m = (p2 >> 32) + (p3 >> 32);\n  uint64_t h = (l >> 32) + m + p4;\n\n  return h;\n}\n\n#else // Not OpenCL, ISPC, or CUDA, but plain C.\nstatic uint8_t futrts_umul_hi8(uint8_t a, uint8_t b) { return ((uint16_t)a) * ((uint16_t)b) >> 8; }\nstatic uint16_t futrts_umul_hi16(uint16_t a, uint16_t b) { return ((uint32_t)a) * ((uint32_t)b) >> 16; }\nstatic uint32_t futrts_umul_hi32(uint32_t a, uint32_t b) { return ((uint64_t)a) * ((uint64_t)b) >> 32; }\nstatic uint64_t futrts_umul_hi64(uint64_t a, uint64_t b) { return ((__uint128_t)a) * ((_",
                                     "_uint128_t)b) >> 64; }\nstatic int8_t futrts_smul_hi8(int8_t a, int8_t b) { return ((int16_t)a) * ((int16_t)b) >> 8; }\nstatic int16_t futrts_smul_hi16(int16_t a, int16_t b) { return ((int32_t)a) * ((int32_t)b) >> 16; }\nstatic int32_t futrts_smul_hi32(int32_t a, int32_t b) { return ((int64_t)a) * ((int64_t)b) >> 32; }\nstatic int64_t futrts_smul_hi64(int64_t a, int64_t b) { return ((__int128_t)a) * ((__int128_t)b) >> 64; }\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic  uint8_t futrts_umad_hi8 ( uint8_t a,  uint8_t b,  uint8_t c) { return mad_hi(a, b, c); }\nstatic uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return mad_hi(a, b, c); }\nstatic uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return mad_hi(a, b, c); }\nstatic uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return mad_hi(a, b, c); }\nstatic  uint8_t futrts_smad_hi8( int8_t a,  int8_t b,   int8_t c) { return mad_hi(a, b, c); }\nstatic uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return mad_hi(a, b, c); }\nstatic uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return mad_hi(a, b, c); }\nstatic uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return mad_hi(a, b, c); }\n#else // Not OpenCL\n\nstatic  uint8_t futrts_umad_hi8( uint8_t a,  uint8_t b,  uint8_t c) { return futrts_umul_hi8(a, b) + c; }\nstatic uint16_t futrts_umad_hi16(uint16_t a, uint16_t b, uint16_t c) { return futrts_umul_hi16(a, b) + c; }\nstatic uint32_t futrts_umad_hi32(uint32_t a, uint32_t b, uint32_t c) { return futrts_umul_hi32(a, b) + c; }\nstatic uint64_t futrts_umad_hi64(uint64_t a, uint64_t b, uint64_t c) { return futrts_umul_hi64(a, b) + c; }\nstatic  uint8_t futrts_smad_hi8 ( int8_t a,  int8_t b,  int8_t c) { return futrts_smul_hi8(a, b) + c; }\nstatic uint16_t futrts_smad_hi16(int16_t a, int16_t b, int16_t c) { return futrts_smul_hi16(a, b) + c; }\nstatic uint32_t futrts_smad_hi32(int32_t a, int32_t b, int32_t c) { return futrts_smul_hi32(a, b) + c; }\nstatic ", "uint64_t futrts_smad_hi64(int64_t a, int64_t b, int64_t c) { return futrts_smul_hi64(a, b) + c; }\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_clzz8(int8_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return clz(x);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return __clz(zext_i8_i32(x)) - 24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return __clz(zext_i16_i32(x)) - 16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return __clz(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return __clzll(x);\n}\n\n#elif ISPC\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return count_leading_zeros((int32_t)(uint8_t)x)-24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return count_leading_zeros((int32_t)(uint16_t)x)-16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return count_leading_zeros(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return count_leading_zeros(x);\n}\n\n#else // Not OpenCL, ISPC or CUDA, but plain C.\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_clz((uint32_t)x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_ctzz8(int8_t x) {\n  int i = 0;\n  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  int i = 0;\n  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  int i = 0;\n  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  int i = 0;", "\n  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 8 : y - 1;\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 16 : y - 1;\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 32 : y - 1;\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  int y = __ffsll(x);\n  return y == 0 ? 64 : y - 1;\n}\n\n#elif ISPC\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  return count_trailing_zeros(x);\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  return count_trailing_zeros(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);\n}\n#endif\n\nstatic inline float fdiv32(float x, float y) {\n  return x / y;\n}\n\nstatic inline float fadd32(float x, float y) {\n  return x + y;\n}\n\nstatic inline float fsub32(float x, float y) {\n  return x - y;\n}\n\nstatic inline float fmul32(float x, float y) {\n  return x * y;\n}\n\nstatic inline bool cmplt32(float x, float y) {\n  return x < y;\n}\n\nstatic inline bool cmple32(float x, float y) {\n  return x <= y;\n}\n\nstatic inline float sitofp_i8_f32(int8_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i16_f32(int16_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i32_f32(int32_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i64_f32(int64_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i8_f32(uint8",
                                     "_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i16_f32(uint16_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i32_f32(uint32_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i64_f32(uint64_t x) {\n  return (float) x;\n}\n\n#ifdef __OPENCL_VERSION__\nstatic inline float fabs32(float x) {\n  return fabs(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return fmax(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return fmin(x, y);\n}\n\nstatic inline float fpow32(float x, float y) {\n  return pow(x, y);\n}\n\n#elif ISPC\n\nstatic inline float fabs32(float x) {\n  return abs(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nstatic inline float fpow32(float a, float b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\n#else // Not OpenCL, but CUDA or plain C.\n\nstatic inline float fabs32(float x) {\n  return fabsf(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return fmaxf(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return fminf(x, y);\n}\n\nstatic inline float fpow32(float x, float y) {\n  return powf(x, y);\n}\n#endif\n\nstatic inline bool futrts_isnan32(float x) {\n  return isnan(x);\n}\n\n#if ISPC\n\nstatic inline bool futrts_isinf32(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nstatic inline bool futrts_isfinite32(float x) {\n  return !isnan(x) && !futrts_isinf32(x);\n}\n\n#else\n\nstatic inline bool futrts_isinf32(float x) {\n  return isinf(x);\n}\n\n#endif\n\nstatic inline int8_t fptosi_f32_i8(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nstatic inline int16_t fptosi_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nstatic inline int32_", "t fptosi_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nstatic inline int64_t fptosi_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  };\n}\n\nstatic inline uint8_t fptoui_f32_i8(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nstatic inline uint16_t fptoui_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nstatic inline uint32_t fptoui_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nstatic inline uint64_t fptoui_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nstatic inline bool ftob_f32_bool(float x) {\n  return x != 0;\n}\n\nstatic inline float btof_bool_f32(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifdef __OPENCL_VERSION__\nstatic inline float futrts_log32(float x) {\n  return log(x);\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return log2(x);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return log10(x);\n}\n\nstatic inline float futrts_log1p_32(float x) {\n  return log1p(x);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nstatic inline float futrts_cbrt32(float x) {\n  return cbrt(x);\n}\n\nstatic inline float futrts_exp32(float x) {\n  return exp(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cos(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sin(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tan(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acos(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asin(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atan(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  retu", "rn cosh(x);\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return sinh(x);\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return tanh(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  return acosh(x);\n}\n\nstatic inline float futrts_asinh32(float x) {\n  return asinh(x);\n}\n\nstatic inline float futrts_atanh32(float x) {\n  return atanh(x);\n}\n\nstatic inline float futrts_atan2_32(float x, float y) {\n  return atan2(x, y);\n}\n\nstatic inline float futrts_hypot32(float x, float y) {\n  return hypot(x, y);\n}\n\nstatic inline float futrts_gamma32(float x) {\n  return tgamma(x);\n}\n\nstatic inline float futrts_lgamma32(float x) {\n  return lgamma(x);\n}\n\nstatic inline float futrts_erf32(float x) {\n  return erf(x);\n}\n\nstatic inline float futrts_erfc32(float x) {\n  return erfc(x);\n}\n\nstatic inline float fmod32(float x, float y) {\n  return fmod(x, y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return rint(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floor(x);\n}\n\nstatic inline float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nstatic inline float futrts_nextafter32(float x, float y) {\n  return nextafter(x, y);\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return mix(v0, v1, t);\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return mad(a, b, c);\n}\n\nstatic inline float futrts_fma32(float a, float b, float c) {\n  return fma(a, b, c);\n}\n\n#elif ISPC\n\nstatic inline float futrts_log32(float x) {\n  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return futrts_log32(x) / log(2.0f);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return futrts_log32(x) / log(10.0f);\n}\n\nstatic inline float futrts_log1p_32(float x) {\n  if(x == -1.0f || (futrts_isinf32(x) && x > 0.0f)) return x / 0.0f;\n  float y = 1.0f + x;\n  float z = y - 1.0f;\n  return log(y) - (z-x)/y;\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked unif",
                                     "orm float cbrtf(uniform float);\nstatic inline float futrts_cbrt32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline float futrts_exp32(float x) {\n  return exp(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cos(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sin(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tan(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acos(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asin(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atan(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return (exp(x)+exp(-x)) / 2.0f;\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return (exp(x)-exp(-x)) / 2.0f;\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return futrts_sinh32(x)/futrts_cosh32(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  float f = x+sqrt(x*x-1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n}\n\nstatic inline float futrts_asinh32(float x) {\n  float f = x+sqrt(x*x+1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n\n}\n\nstatic inline float futrts_atanh32(float x) {\n  float f = (1+x)/(1-x);\n  if(futrts_isfinite32(f)) return log(f)/2.0f;\n  return f;\n\n}\n\nstatic inline float futrts_atan2_32(float x, float y) {\n  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);\n}\n\nstatic inline float futrts_hypot32(float x, float y) {\n  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {\n    x = abs(x);\n    y = abs(y);\n    float a;\n    float b;\n    if (x >= y){\n        a = x;\n        b = y;\n    } else {\n        a = y;\n        b = x;\n    }\n    if(b == 0){\n      return a;\n    }\n\n    int e;\n    float an;\n    float bn;\n    an = frexp (a, &e);\n    bn = ldexp (b, - e);\n    float cn;\n    cn = sqrt (an * an + bn * bn);\n    return ldexp (cn, e);\n  } else {\n    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;\n    else return x + y;\n  }\n\n}\n\ne", "xtern \"C\" unmasked uniform float tgammaf(uniform float x);\nstatic inline float futrts_gamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = tgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nstatic inline float futrts_lgamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = lgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erff(uniform float x);\nstatic inline float futrts_erf32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erff(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erfcf(uniform float x);\nstatic inline float futrts_erfc32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erfcf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline float fmod32(float x, float y) {\n  return x - y * trunc(x/y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return round(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floor(x);\n}\n\nstatic inline float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform float nextafterf(uniform float x, uniform float y);\nstatic inline float futrts_nextafter32(float x, float y) {\n  float res;\n  foreach_active (i) {\n    uniform float r = nextafterf(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nstatic inline float futrts_fma32(float a, float b, float c) {\n  return a * b + c;\n}\n\n#else // Not OpenCL or ISPC, but CUDA or plain C.\n\nstatic inline float futrts_log32(float x) {\n  return logf(x);\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return log2f(x);\n}\n\nstatic inline float futrts_log10_32(floa", "t x) {\n  return log10f(x);\n}\n\nstatic inline float futrts_log1p_32(float x) {\n  return log1pf(x);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrtf(x);\n}\n\nstatic inline float futrts_cbrt32(float x) {\n  return cbrtf(x);\n}\n\nstatic inline float futrts_exp32(float x) {\n  return expf(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cosf(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sinf(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tanf(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acosf(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asinf(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atanf(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return coshf(x);\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return sinhf(x);\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return tanhf(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  return acoshf(x);\n}\n\nstatic inline float futrts_asinh32(float x) {\n  return asinhf(x);\n}\n\nstatic inline float futrts_atanh32(float x) {\n  return atanhf(x);\n}\n\nstatic inline float futrts_atan2_32(float x, float y) {\n  return atan2f(x, y);\n}\n\nstatic inline float futrts_hypot32(float x, float y) {\n  return hypotf(x, y);\n}\n\nstatic inline float futrts_gamma32(float x) {\n  return tgammaf(x);\n}\n\nstatic inline float futrts_lgamma32(float x) {\n  return lgammaf(x);\n}\n\nstatic inline float futrts_erf32(float x) {\n  return erff(x);\n}\n\nstatic inline float futrts_erfc32(float x) {\n  return erfcf(x);\n}\n\nstatic inline float fmod32(float x, float y) {\n  return fmodf(x, y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return rintf(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floorf(x);\n}\n\nstatic inline float futrts_ceil32(float x) {\n  return ceilf(x);\n}\n\nstatic inline float futrts_nextafter32(float x, float y) {\n  return nextafterf(x, y);\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n",
                                     "\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nstatic inline float futrts_fma32(float a, float b, float c) {\n  return fmaf(a, b, c);\n}\n#endif\n\n#if ISPC\nstatic inline int32_t futrts_to_bits32(float x) {\n  return intbits(x);\n}\n\nstatic inline float futrts_from_bits32(int32_t x) {\n  return floatbits(x);\n}\n#else\nstatic inline int32_t futrts_to_bits32(float x) {\n  union {\n    float f;\n    int32_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline float futrts_from_bits32(int32_t x) {\n  union {\n    int32_t f;\n    float t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\nstatic inline float fsignum32(float x) {\n  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\n#if ISPC\nstatic inline bool futrts_isinf64(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nstatic inline bool futrts_isfinite64(float x) {\n  return !isnan(x) && !futrts_isinf64(x);\n}\n\nstatic inline double fdiv64(double x, double y) {\n  return x / y;\n}\n\nstatic inline double fadd64(double x, double y) {\n  return x + y;\n}\n\nstatic inline double fsub64(double x, double y) {\n  return x - y;\n}\n\nstatic inline double fmul64(double x, double y) {\n  return x * y;\n}\n\nstatic inline bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nstatic inline bool cmple64(double x, double y) {\n  return x <= y;\n}\n\nstatic inline double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nstatic inline double fabs64(double x) {\n  return abs(x);\n}\n\nstatic inlin", "e double fmax64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nstatic inline double fmin64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nstatic inline double fpow64(double a, double b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\nstatic inline double futrts_log64(double x) {\n  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;\n}\n\nstatic inline double futrts_log2_64(double x) {\n  return futrts_log64(x)/log(2.0d);\n}\n\nstatic inline double futrts_log10_64(double x) {\n  return futrts_log64(x)/log(10.0d);\n}\n\nstatic inline double futrts_log1p_64(double x) {\n  if(x == -1.0d || (futrts_isinf64(x) && x > 0.0d)) return x / 0.0d;\n  double y = 1.0d + x;\n  double z = y - 1.0d;\n  return log(y) - (z-x)/y;\n}\n\nstatic inline double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked uniform double cbrt(uniform double);\nstatic inline double futrts_cbrt64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double futrts_exp64(double x) {\n  return exp(x);\n}\n\nstatic inline double futrts_cos64(double x) {\n  return cos(x);\n}\n\nstatic inline double futrts_sin64(double x) {\n  return sin(x);\n}\n\nstatic inline double futrts_tan64(double x) {\n  return tan(x);\n}\n\nstatic inline double futrts_acos64(double x) {\n  return acos(x);\n}\n\nstatic inline double futrts_asin64(double x) {\n  return asin(x);\n}\n\nstatic inline double futrts_atan64(double x) {\n  return atan(x);\n}\n\nstatic inline double futrts_cosh64(double x) {\n  return (exp(x)+exp(-x)) / 2.0d;\n}\n\nstatic inline double futrts_sinh64(double x) {\n  return (exp(x)-exp(-x)) / 2.0d;\n}\n\nstatic inline double futrts_tanh64(double x) {\n  return futrts_sinh64(x)/futrts_cosh64(x);\n}\n\nstatic inline double futrts_acosh64(double x) {\n  double f = x+sqrt(x*x", "-1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nstatic inline double futrts_asinh64(double x) {\n  double f = x+sqrt(x*x+1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nstatic inline double futrts_atanh64(double x) {\n  double f = (1.0d+x)/(1.0d-x);\n  if(futrts_isfinite64(f)) return log(f)/2.0d;\n  return f;\n\n}\n\nstatic inline double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nextern \"C\" unmasked uniform double hypot(uniform double x, uniform double y);\nstatic inline double futrts_hypot64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = hypot(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double tgamma(uniform double x);\nstatic inline double futrts_gamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = tgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double lgamma(uniform double x);\nstatic inline double futrts_lgamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = lgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erf(uniform double x);\nstatic inline double futrts_erf64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erfc(uniform double x);\nstatic inline double futrts_erfc64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erfc(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double futrts_fma64(double a, double b, double c) {\n  return a * b + c;\n}\n\nstatic inline double futrts_round64(double x) {\n  return round(x);\n}\n\nstatic inline double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform double nextafter(uniform float x, uniform double y);\nstatic inline float futrt",
                                     "s_nextafter64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = nextafter(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double futrts_floor64(double x) {\n  return floor(x);\n}\n\nstatic inline bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nstatic inline int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nstatic inline int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nstatic inline int32_t fptosi_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nstatic inline int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nstatic inline uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nstatic inline uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nstatic inline uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nstatic inline uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nstatic inline bool ftob_f64_bool(double x) {\n  return x != 0.0;\n}\n\nstatic inline double btof_bool_f64(bool x) {\n  return x ? 1.0 : 0.0;\n}\n\nstatic inline int64_t futrts_to_bits64(double x) {\n  int64_t res;\n  foreach_active (i) {\n    uniform double tmp = extract(x, i);\n    uniform int64_t r = *((uniform int64_t* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double futrts_from_", "bits64(int64_t x) {\n  double res;\n  foreach_active (i) {\n    uniform int64_t tmp = extract(x, i);\n    uniform double r = *((uniform double* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double fmod64(double x, double y) {\n  return x - y * trunc(x/y);\n}\n\nstatic inline double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);\n}\n\nstatic inline double futrts_lerp64(double v0, double v1, double t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline double futrts_mad64(double a, double b, double c) {\n  return a * b + c;\n}\n\nstatic inline float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nstatic inline float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#else\n\nstatic inline double fdiv64(double x, double y) {\n  return x / y;\n}\n\nstatic inline double fadd64(double x, double y) {\n  return x + y;\n}\n\nstatic inline double fsub64(double x, double y) {\n  return x - y;\n}\n\nstatic inline double fmul64(double x, double y) {\n  return x * y;\n}\n\nstatic inline bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nstatic inline bool cmple64(double x, double y) {\n  return x <= y;\n}\n\nstatic inline double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nstatic inline double fabs64(double x) {\n  return fabs(x);\n}\n\nstatic inline double fmax64(double x, double y) {\n", "  return fmax(x, y);\n}\n\nstatic inline double fmin64(double x, double y) {\n  return fmin(x, y);\n}\n\nstatic inline double fpow64(double x, double y) {\n  return pow(x, y);\n}\n\nstatic inline double futrts_log64(double x) {\n  return log(x);\n}\n\nstatic inline double futrts_log2_64(double x) {\n  return log2(x);\n}\n\nstatic inline double futrts_log10_64(double x) {\n  return log10(x);\n}\n\nstatic inline double futrts_log1p_64(double x) {\n  return log1p(x);\n}\n\nstatic inline double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nstatic inline double futrts_cbrt64(double x) {\n  return cbrt(x);\n}\n\nstatic inline double futrts_exp64(double x) {\n  return exp(x);\n}\n\nstatic inline double futrts_cos64(double x) {\n  return cos(x);\n}\n\nstatic inline double futrts_sin64(double x) {\n  return sin(x);\n}\n\nstatic inline double futrts_tan64(double x) {\n  return tan(x);\n}\n\nstatic inline double futrts_acos64(double x) {\n  return acos(x);\n}\n\nstatic inline double futrts_asin64(double x) {\n  return asin(x);\n}\n\nstatic inline double futrts_atan64(double x) {\n  return atan(x);\n}\n\nstatic inline double futrts_cosh64(double x) {\n  return cosh(x);\n}\n\nstatic inline double futrts_sinh64(double x) {\n  return sinh(x);\n}\n\nstatic inline double futrts_tanh64(double x) {\n  return tanh(x);\n}\n\nstatic inline double futrts_acosh64(double x) {\n  return acosh(x);\n}\n\nstatic inline double futrts_asinh64(double x) {\n  return asinh(x);\n}\n\nstatic inline double futrts_atanh64(double x) {\n  return atanh(x);\n}\n\nstatic inline double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nstatic inline double futrts_hypot64(double x, double y) {\n  return hypot(x, y);\n}\n\nstatic inline double futrts_gamma64(double x) {\n  return tgamma(x);\n}\n\nstatic inline double futrts_lgamma64(double x) {\n  return lgamma(x);\n}\n\nstatic inline double futrts_erf64(double x) {\n  return erf(x);\n}\n\nstatic inline double futrts_erfc64(double x) {\n  return erfc(x);\n}\n\nstatic inline double futrts_fma64(double a, double b, double c) {\n  return fma(a, b, c);\n}",
                                     "\n\nstatic inline double futrts_round64(double x) {\n  return rint(x);\n}\n\nstatic inline double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nstatic inline float futrts_nextafter64(float x, float y) {\n  return nextafter(x, y);\n}\n\nstatic inline double futrts_floor64(double x) {\n  return floor(x);\n}\n\nstatic inline bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nstatic inline bool futrts_isinf64(double x) {\n  return isinf(x);\n}\n\nstatic inline int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nstatic inline int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nstatic inline int32_t fptosi_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nstatic inline int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nstatic inline uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nstatic inline uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nstatic inline uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nstatic inline uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nstatic inline bool ftob_f64_bool(double x) {\n  return x != 0;\n}\n\nstatic inline double btof_bool_f64(bool x) {\n  return x ? 1 : 0;\n}\n\nstatic inline int64_t futrts_to_bits64(double x) {\n  union {\n    double f;\n    int64_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline double futrts_from_bits64(int", "64_t x) {\n  union {\n    int64_t f;\n    double t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline double fmod64(double x, double y) {\n  return fmod(x, y);\n}\n\nstatic inline double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);\n}\n\nstatic inline double futrts_lerp64(double v0, double v1, double t) {\n#ifdef __OPENCL_VERSION__\n  return mix(v0, v1, t);\n#else\n  return v0 + (v1 - v0) * t;\n#endif\n}\n\nstatic inline double futrts_mad64(double a, double b, double c) {\n#ifdef __OPENCL_VERSION__\n  return mad(a, b, c);\n#else\n  return a * b + c;\n#endif\n}\n\nstatic inline float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nstatic inline float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#endif\n\n#endif\n\n// End of scalar.h.\n// Start of scalar_f16.h.\n\n// Half-precision is emulated if needed (e.g. in straight C) with the\n// native type used if possible.  The emulation works by typedef'ing\n// 'float' to 'f16', and then implementing all operations on single\n// precision.  To cut down on duplication, we use the same code for\n// those Futhark functions that require just operators or casts.  The\n// in-memory representation for arrays will still be 16 bits even\n// under emulation, so the compiler will have to be careful when\n// generating reads or writes.\n\n#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))\n#define EMULATE_F16\n#endif\n\n#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)\n#pragma OPENCL EXTENSION cl_khr_fp16 : enable\n#endif\n\n#ifdef EMULATE_F16\n\n// Note that the half-precision storage format is still 16 bits - the\n// compiler will have to be real careful!\ntypedef float f16;\n\n#elif ISPC\ntypedef float16 f16;\n\n#else\n\n#ifdef __CUDA_ARCH__\n#include <cuda_fp16.h>\n#endif\n\ntypedef half f16;\n\n#endif\n\n// Some of these functions convert to single precision because ha", "lf\n// precision versions are not available.\n\nstatic inline f16 fadd16(f16 x, f16 y) {\n  return x + y;\n}\n\nstatic inline f16 fsub16(f16 x, f16 y) {\n  return x - y;\n}\n\nstatic inline f16 fmul16(f16 x, f16 y) {\n  return x * y;\n}\n\nstatic inline bool cmplt16(f16 x, f16 y) {\n  return x < y;\n}\n\nstatic inline bool cmple16(f16 x, f16 y) {\n  return x <= y;\n}\n\nstatic inline f16 sitofp_i8_f16(int8_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i16_f16(int16_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i32_f16(int32_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i64_f16(int64_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i8_f16(uint8_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i16_f16(uint16_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i32_f16(uint32_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i64_f16(uint64_t x) {\n  return (f16) x;\n}\n\nstatic inline int8_t fptosi_f16_i8(f16 x) {\n  return (int8_t) (float) x;\n}\n\nstatic inline int16_t fptosi_f16_i16(f16 x) {\n  return (int16_t) x;\n}\n\nstatic inline int32_t fptosi_f16_i32(f16 x) {\n  return (int32_t) x;\n}\n\nstatic inline int64_t fptosi_f16_i64(f16 x) {\n  return (int64_t) x;\n}\n\nstatic inline uint8_t fptoui_f16_i8(f16 x) {\n  return (uint8_t) (float) x;\n}\n\nstatic inline uint16_t fptoui_f16_i16(f16 x) {\n  return (uint16_t) x;\n}\n\nstatic inline uint32_t fptoui_f16_i32(f16 x) {\n  return (uint32_t) x;\n}\n\nstatic inline uint64_t fptoui_f16_i64(f16 x) {\n  return (uint64_t) x;\n}\n\nstatic inline bool ftob_f16_bool(f16 x) {\n  return x != (f16)0;\n}\n\nstatic inline f16 btof_bool_f16(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifndef EMULATE_F16\nstatic inline bool futrts_isnan16(f16 x) {\n  return isnan((float)x);\n}\n\n#ifdef __OPENCL_VERSION__\n\nstatic inline f16 fabs16(f16 x) {\n  return fabs(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmax(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fmin(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n\n#elif ISPC\nstatic inline f16",
                                     " fabs16(f16 x) {\n  return abs(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n#else // Assuming CUDA.\n\nstatic inline f16 fabs16(f16 x) {\n  return fabsf(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmaxf(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fminf(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return powf(x, y);\n}\n#endif\n\n#if ISPC\nstatic inline bool futrts_isinf16(float x) {\n  return !futrts_isnan16(x) && futrts_isnan16(x - x);\n}\nstatic inline bool futrts_isfinite16(float x) {\n  return !futrts_isnan16(x) && !futrts_isinf16(x);\n}\n\n#else\n\nstatic inline bool futrts_isinf16(f16 x) {\n  return isinf((float)x);\n}\n#endif\n\n#ifdef __OPENCL_VERSION__\nstatic inline f16 futrts_log16(f16 x) {\n  return log(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return log2(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return log10(x);\n}\n\nstatic inline f16 futrts_log1p_16(f16 x) {\n  return log1p(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return sqrt(x);\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  return cbrt(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return cos(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return sin(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return tan(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return acos(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return asin(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return atan(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return cosh(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return sinh(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return tanh(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return acosh(x);\n}\n\nstatic inline ", "f16 futrts_asinh16(f16 x) {\n  return asinh(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return atanh(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return hypot(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return tgamma(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return lgamma(x);\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  return erf(x);\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  return erfc(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmod(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return rint(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return floor(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return ceil(x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return nextafter(x, y);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return mix(v0, v1, t);\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return mad(a, b, c);\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fma(a, b, c);\n}\n#elif ISPC\n\nstatic inline f16 futrts_log16(f16 x) {\n  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return futrts_log16(x) / log(2.0f16);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return futrts_log16(x) / log(10.0f16);\n}\n\nstatic inline f16 futrts_log1p_16(f16 x) {\n  if(x == -1.0f16 || (futrts_isinf16(x) && x > 0.0f16)) return x / 0.0f16;\n  f16 y = 1.0f16 + x;\n  f16 z = y - 1.0f16;\n  return log(y) - (z-x)/y;\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return (float16)sqrt((float)x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return (float16)cos((float)x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return (float16)sin((float)x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return (float16)tan((float)x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  ", "return (float16)acos((float)x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return (float16)asin((float)x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return (float16)atan((float)x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return (exp(x)+exp(-x)) / 2.0f16;\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return (exp(x)-exp(-x)) / 2.0f16;\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return futrts_sinh16(x)/futrts_cosh16(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x-1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x+1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  float16 f = (1+x)/(1-x);\n  if(futrts_isfinite16(f)) return log(f)/2.0f16;\n  return f;\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return (float16)atan2((float)x, (float)y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return (float16)futrts_hypot32((float)x, (float)y);\n}\n\nextern \"C\" unmasked uniform float tgammaf(uniform float x);\nstatic inline f16 futrts_gamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)tgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nstatic inline f16 futrts_lgamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)lgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  f16 res = (f16)futrts_cbrt32((float)x);\n  return res;\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  f16 res = (f16)futrts_erf32((float)x);\n  return res;\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  f16 res = (f16)futrts_erfc32((float)x);\n  return res;\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return x - y * (float16)trunc((float) (x/y));\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return (float",
                                     "16)round((float)x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return (float16)floor((float)x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return (float16)ceil((float)x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return (float16)futrts_nextafter32((float)x, (float) y);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\n#else // Assume CUDA.\n\nstatic inline f16 futrts_log16(f16 x) {\n  return hlog(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return hlog2(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return hlog10(x);\n}\n\nstatic inline f16 futrts_log1p_16(f16 x) {\n  return (f16)log1pf((float)x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return hsqrt(x);\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  return cbrtf(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return hexp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return hcos(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return hsin(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return tanf(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return acosf(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return asinf(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return atanf(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return coshf(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return sinhf(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return tanhf(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return acoshf(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return asinhf(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return atanhf(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2f(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return hypotf(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return tgammaf(x);\n}\n\nstatic in", "line f16 futrts_lgamma16(f16 x) {\n  return lgammaf(x);\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  return erff(x);\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  return erfcf(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmodf(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return rintf(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return hfloor(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return hceil(x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fmaf(a, b, c);\n}\n\n#endif\n\n// The CUDA __half type cannot be put in unions for some reason, so we\n// use bespoke conversion functions instead.\n#ifdef __CUDA_ARCH__\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  return __half_as_ushort(x);\n}\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return __ushort_as_half(x);\n}\n#elif ISPC\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  varying int16_t y = *((varying int16_t * uniform)&x);\n  return y;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  varying f16 y = *((varying f16 * uniform)&x);\n  return y;\n}\n#else\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  union {\n    f16 f;\n    int16_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  union {\n    int16_t f;\n    f16 t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\n#else // No native f16 - emulate.\n\nstatic inline f16 fabs16(f16 x) {\n  return fabs32(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmax32(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fmin32(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return fpow32(x, y);\n}\n\nstatic inline bool futrts_isnan16(f16 x) {\n  return futrts_isnan32(x);\n", "}\n\nstatic inline bool futrts_isinf16(f16 x) {\n  return futrts_isinf32(x);\n}\n\nstatic inline f16 futrts_log16(f16 x) {\n  return futrts_log32(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return futrts_log2_32(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return futrts_log10_32(x);\n}\n\nstatic inline f16 futrts_log1p_16(f16 x) {\n  return futrts_log1p_32(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return futrts_sqrt32(x);\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  return futrts_cbrt32(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return futrts_exp32(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return futrts_cos32(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return futrts_sin32(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return futrts_tan32(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return futrts_acos32(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return futrts_asin32(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return futrts_atan32(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return futrts_cosh32(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return futrts_sinh32(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return futrts_tanh32(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return futrts_acosh32(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return futrts_asinh32(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return futrts_atanh32(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return futrts_atan2_32(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return futrts_hypot32(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return futrts_gamma32(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return futrts_lgamma32(x);\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  return futrts_erf32(x);\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  return futrts_erfc32(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmod32(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  r",
                                     "eturn futrts_round32(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return futrts_floor32(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return futrts_ceil32(x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return futrts_lerp32(v0, v1, t);\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return futrts_mad32(a, b, c);\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return futrts_fma32(a, b, c);\n}\n\n// Even when we are using an OpenCL that does not support cl_khr_fp16,\n// it must still support vload_half for actually creating a\n// half-precision number, which can then be efficiently converted to a\n// float.  Similarly for vstore_half.\n#ifdef __OPENCL_VERSION__\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  int16_t y;\n  // Violating strict aliasing here.\n  vstore_half((float)x, 0, (half*)&y);\n  return y;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return (f16)vload_half(0, (half*)&x);\n}\n\n#else\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  return (int16_t)float2halfbits(x);\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return halfbits2float((uint16_t)x);\n}\n\nstatic inline f16 fsignum16(f16 x) {\n  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#endif\n\n#endif\n\nstatic inline float fpconv_f16_f16(f16 x) {\n  return x;\n}\n\nstatic inline float fpconv_f16_f32(f16 x) {\n  return x;\n}\n\nstatic inline f16 fpconv_f32_f16(float x) {\n  return (f16) x;\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nstatic inline double fpconv_f16_f64(f16 x) {\n  return (double) x;\n}\n\n#if ISPC\nstatic inline f16 fpconv_f64_f16(double x) {\n  return (f16) ((float)x);\n}\n#else\nstatic inline f16 fpconv_f64_f16(double x) {\n  return (f16) x;\n}\n#endif\n#endif\n\n\n// End of scalar_f16.h.\n// Start of atomics.h\n\ninline int32_t atomic_xchg_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CU", "DA\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_xchg_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_cmpxchg_i32_global(volatile __global int32_t *p,\n                                         int32_t cmp, int32_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int32_t atomic_cmpxchg_i32_local(volatile __local int32_t *p,\n                                        int32_t cmp, int32_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int32_t atomic_add_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\ninline int32_t atomic_add_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\ninline float atomic_fadd_f32_global(volatile __global float *p, float x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_global((volatile __global int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline float atomic_fadd_f32_local(volatile __local float *p, float x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_local((volatile __local int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline int32_t atomic_s", "max_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline int32_t atomic_smax_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline int32_t atomic_smin_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline int32_t atomic_smin_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline uint32_t atomic_umax_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline uint32_t atomic_umax_i32_local(volatile __local uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline uint32_t atomic_umin_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline uint32_t atomic_umin_i32_local(volatile __local uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline int32_t atomic_and_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\ninline int32_t atomic_and_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\ninline int32_t atomic_or_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\ninline int32_t atomic_or_i32_local(volatile",
                                     " __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\ninline int32_t atomic_xor_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_xor_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\n// Start of 64 bit atomics\n\ninline int64_t atomic_xchg_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_xchg_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_cmpxchg_i64_global(volatile __global int64_t *p,\n                                         int64_t cmp, int64_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int64_t atomic_cmpxchg_i64_local(volatile __local int64_t *p,\n                                        int64_t cmp, int64_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int64_t atomic_add_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\ninline int64_t atomic_add_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\ninline double atomic_fadd_f64_global(volatile __global double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  union { int64_t i; double f", "; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_global((volatile __global int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline double atomic_fadd_f64_local(volatile __local double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  union { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_local((volatile __local int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\n#endif\n\ninline int64_t atomic_smax_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline int64_t atomic_smax_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline int64_t atomic_smin_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline int64_t atomic_smin_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline uint64_t atomic_umax_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline uint64_t atomic_umax_i64_local(volatile __local uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline uint64_t atomic_umin_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline uint64_t atomic_umin_i64_local(volatile __local u", "int64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline int64_t atomic_and_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\ninline int64_t atomic_and_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\ninline int64_t atomic_or_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\ninline int64_t atomic_or_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\ninline int64_t atomic_xor_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_xor_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\n// End of atomics.h\n\n\n\n__kernel void builtinzhreplicate_boolzireplicate_107905(int64_t num_elems_107901, unsigned char val_107902_bits, int64_t replicate_n_107904, int64_t virt_num_groups_107910, int64_t num_groups_107911, __global unsigned char *mem_107900)\n{\n    bool val_107902 = val_107902_bits;\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    int32_t replicate_ltid_107906;\n    int64_t group_sizze_107908;\n    int32_t replicate_gid_107907;\n    \n    replicate_ltid_107906 = get_local_id(0);\n    group_sizze_107908 = get_local_size(0);\n    replicate_gid_107907 = get_group_id(0);\n    \n    int32_t replicate_gtid_107905 = replicate_gid_107907 * group_sizze_107908 + replicate_ltid_107906;\n    int32_t phys_group_id_107912;\n    \n    phys_group_id_107912 = get_group_id(0);\n    \n ",
                                     "   int32_t iterations_107913 = sdiv_up32(sext_i64_i32(virt_num_groups_107910) - phys_group_id_107912, sext_i64_i32(num_groups_107911));\n    \n    for (int32_t i_107914 = 0; i_107914 < iterations_107913; i_107914++) {\n        int32_t virt_group_id_107915 = phys_group_id_107912 + i_107914 * sext_i64_i32(num_groups_107911);\n        int64_t global_tid_107916 = sext_i32_i64(virt_group_id_107915) * sext_i32_i64(group_sizze_107908) + sext_i32_i64(replicate_ltid_107906);\n        int64_t slice_107918 = num_elems_107901;\n        int64_t rep_i_107917 = global_tid_107916;\n        int64_t remnant_107919 = global_tid_107916 - rep_i_107917;\n        \n        if (slt64(global_tid_107916, replicate_n_107904)) {\n            ((__global bool *) mem_107900)[rep_i_107917] = val_107902;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n}\n__kernel void builtinzhreplicate_i16zireplicate_107925(int64_t num_elems_107921, int16_t val_107922, int64_t replicate_n_107924, int64_t virt_num_groups_107930, int64_t num_groups_107931, __global unsigned char *mem_107920)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    int32_t replicate_ltid_107926;\n    int64_t group_sizze_107928;\n    int32_t replicate_gid_107927;\n    \n    replicate_ltid_107926 = get_local_id(0);\n    group_sizze_107928 = get_local_size(0);\n    replicate_gid_107927 = get_group_id(0);\n    \n    int32_t replicate_gtid_107925 = replicate_gid_107927 * group_sizze_107928 + replicate_ltid_107926;\n    int32_t phys_group_id_107932;\n    \n    phys_group_id_107932 = get_group_id(0);\n    \n    int32_t iterations_107933 = sdiv_up32(sext_i64_i32(virt_num_groups_107930) - phys_group_id_107932, sext_i64_i32(num_groups_107931));\n    \n    for (int32_t i_107934 = 0; i_107934 < iterations_107933; i_107934++) {\n        int32_t virt_group_id_107935 = phys_group_id_107932 + i_107934 * sext_i64_i32(num_groups_107931);\n        int64_t global_tid_107936 = sext_i32_i", "64(virt_group_id_107935) * sext_i32_i64(group_sizze_107928) + sext_i32_i64(replicate_ltid_107926);\n        int64_t slice_107938 = num_elems_107921;\n        int64_t rep_i_107937 = global_tid_107936;\n        int64_t remnant_107939 = global_tid_107936 - rep_i_107937;\n        \n        if (slt64(global_tid_107936, replicate_n_107924)) {\n            ((__global int16_t *) mem_107920)[rep_i_107937] = val_107922;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n}\n__kernel void builtinzhreplicate_i32zireplicate_108350(int64_t num_elems_108346, int32_t val_108347, int64_t replicate_n_108349, int64_t virt_num_groups_108355, int64_t num_groups_108356, __global unsigned char *mem_108345)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    int32_t replicate_ltid_108351;\n    int64_t group_sizze_108353;\n    int32_t replicate_gid_108352;\n    \n    replicate_ltid_108351 = get_local_id(0);\n    group_sizze_108353 = get_local_size(0);\n    replicate_gid_108352 = get_group_id(0);\n    \n    int32_t replicate_gtid_108350 = replicate_gid_108352 * group_sizze_108353 + replicate_ltid_108351;\n    int32_t phys_group_id_108357;\n    \n    phys_group_id_108357 = get_group_id(0);\n    \n    int32_t iterations_108358 = sdiv_up32(sext_i64_i32(virt_num_groups_108355) - phys_group_id_108357, sext_i64_i32(num_groups_108356));\n    \n    for (int32_t i_108359 = 0; i_108359 < iterations_108358; i_108359++) {\n        int32_t virt_group_id_108360 = phys_group_id_108357 + i_108359 * sext_i64_i32(num_groups_108356);\n        int64_t global_tid_108361 = sext_i32_i64(virt_group_id_108360) * sext_i32_i64(group_sizze_108353) + sext_i32_i64(replicate_ltid_108351);\n        int64_t slice_108363 = num_elems_108346;\n        int64_t rep_i_108362 = global_tid_108361;\n        int64_t remnant_108364 = global_tid_108361 - rep_i_108362;\n        \n        if (slt64(global_tid_108361, replicate_n_108349)) {\n            ((__global int32_t ", "*) mem_108345)[rep_i_108362] = val_108347;\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_bool(const int block_dim0, const int block_dim1, const int block_dim2, uint block_9_backing_offset_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = destoffset_1 + our_array_offset_30;\n    int32_t idata_offset_34 = srcoffset_3 + our_array_offset_30;\n    int32_t x_index_31 = get_global_id_0_37;\n    int32_t y_index_32 = get_group_id_1_42 * 32 + get_local_id_1_39;\n    bool val_45;\n    \n    if (slt32(x_index_31, x_elems_5)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_in_35 = (y_index_32 + j_44 * 8) * x_elems_5 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, y_elems_6)) {\n                val_45 = ((__global bool *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n                ((__local bool *",
                                     ") block_9)[sext_i32_i64((get_local_id_1_39 + j_44 * 8) * 33 + get_local_id_0_38)] = val_45;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 32 + get_local_id_0_38;\n    y_index_32 = get_group_id_0_41 * 32 + get_local_id_1_39;\n    if (slt32(x_index_31, y_elems_6)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_out_36 = (y_index_32 + j_44 * 8) * y_elems_6 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, x_elems_5)) {\n                val_45 = ((__local bool *) block_9)[sext_i32_i64(get_local_id_0_38 * 33 + get_local_id_1_39 + j_44 * 8)];\n                ((__global bool *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_bool_low_height(const int block_dim0, const int block_dim1, const int block_dim2, uint block_9_backing_offset_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 ", "* x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = destoffset_1 + our_array_offset_30;\n    int32_t idata_offset_34 = srcoffset_3 + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_0_38 + srem32(get_local_id_1_39, mulx_7) * 16;\n    int32_t y_index_32 = get_group_id_1_42 * 16 + squot32(get_local_id_1_39, mulx_7);\n    bool val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global bool *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local bool *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 + squot32(get_local_id_0_38, mulx_7);\n    y_index_32 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_1_39 + srem32(get_local_id_0_38, mulx_7) * 16;\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local bool *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global bool *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_bool_low_width(const int block_dim0, const int block_dim1, const int block_dim2, uint block_9_backing_offset_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_", "39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = destoffset_1 + our_array_offset_30;\n    int32_t idata_offset_34 = srcoffset_3 + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 + squot32(get_local_id_0_38, muly_8);\n    int32_t y_index_32 = get_group_id_1_42 * 16 * muly_8 + get_local_id_1_39 + srem32(get_local_id_0_38, muly_8) * 16;\n    bool val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global bool *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local bool *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 * muly_8 + get_local_id_0_38 + srem32(get_local_id_1_39, muly_8) * 16;\n    y_index_32 = get_group_id_0_41 * 16 + squot32(get_local_id_1_39, muly_8);\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local bool *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global bool *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_bool_small(uint block_9_backing_offset_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_e",
                                     "lems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = squot32(get_global_id_0_37, y_elems_6 * x_elems_5) * (y_elems_6 * x_elems_5);\n    int32_t x_index_31 = squot32(srem32(get_global_id_0_37, y_elems_6 * x_elems_5), y_elems_6);\n    int32_t y_index_32 = srem32(get_global_id_0_37, y_elems_6);\n    bool val_45;\n    int32_t odata_offset_33 = destoffset_1 + our_array_offset_30;\n    int32_t idata_offset_34 = srcoffset_3 + our_array_offset_30;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    int32_t index_out_36 = x_index_31 * y_elems_6 + y_index_32;\n    \n    if (slt32(get_global_id_0_37, x_elems_5 * y_elems_6 * num_arrays_4)) {\n        val_45 = ((__global bool *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__global bool *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i16(const int block_dim0, const int block_dim1, const int block_dim2, uint block_9_backing_offset_0, int32_t destoffset_1, int32_t ", "srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 2) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 2) + our_array_offset_30;\n    int32_t x_index_31 = get_global_id_0_37;\n    int32_t y_index_32 = get_group_id_1_42 * 32 + get_local_id_1_39;\n    int16_t val_45;\n    \n    if (slt32(x_index_31, x_elems_5)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_in_35 = (y_index_32 + j_44 * 8) * x_elems_5 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, y_elems_6)) {\n                val_45 = ((__global int16_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n                ((__local int16_t *) block_9)[sext_i32_i64((get_local_id_1_39 + j_44 * 8) * 33 + get_local_id_0_38)] = val_45;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 32 + get_local_id_0_38;\n    y_index_32 = get_group_id_0_41 * 32 + get_local_id_1_39;\n   ", " if (slt32(x_index_31, y_elems_6)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_out_36 = (y_index_32 + j_44 * 8) * y_elems_6 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, x_elems_5)) {\n                val_45 = ((__local int16_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 33 + get_local_id_1_39 + j_44 * 8)];\n                ((__global int16_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i16_low_height(const int block_dim0, const int block_dim1, const int block_dim2, uint block_9_backing_offset_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 2) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 2) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_0_38 + srem32(get_local_",
                                     "id_1_39, mulx_7) * 16;\n    int32_t y_index_32 = get_group_id_1_42 * 16 + squot32(get_local_id_1_39, mulx_7);\n    int16_t val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global int16_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int16_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 + squot32(get_local_id_0_38, mulx_7);\n    y_index_32 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_1_39 + srem32(get_local_id_0_38, mulx_7) * 16;\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int16_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int16_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i16_low_width(const int block_dim0, const int block_dim1, const int block_dim2, uint block_9_backing_offset_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_gro", "up_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 2) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 2) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 + squot32(get_local_id_0_38, muly_8);\n    int32_t y_index_32 = get_group_id_1_42 * 16 * muly_8 + get_local_id_1_39 + srem32(get_local_id_0_38, muly_8) * 16;\n    int16_t val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global int16_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int16_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 * muly_8 + get_local_id_0_38 + srem32(get_local_id_1_39, muly_8) * 16;\n    y_index_32 = get_group_id_0_41 * 16 + squot32(get_local_id_1_39, muly_8);\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int16_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int16_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i16_small(uint block_9_backing_offset_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;", "\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = squot32(get_global_id_0_37, y_elems_6 * x_elems_5) * (y_elems_6 * x_elems_5);\n    int32_t x_index_31 = squot32(srem32(get_global_id_0_37, y_elems_6 * x_elems_5), y_elems_6);\n    int32_t y_index_32 = srem32(get_global_id_0_37, y_elems_6);\n    int16_t val_45;\n    int32_t odata_offset_33 = squot32(destoffset_1, 2) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 2) + our_array_offset_30;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    int32_t index_out_36 = x_index_31 * y_elems_6 + y_index_32;\n    \n    if (slt32(get_global_id_0_37, x_elems_5 * y_elems_6 * num_arrays_4)) {\n        val_45 = ((__global int16_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__global int16_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64(const int block_dim0, const int block_dim1, const int block_dim2, uint block_9_backing_offset_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *src",
                                     "mem_2)\n{\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t x_index_31 = get_global_id_0_37;\n    int32_t y_index_32 = get_group_id_1_42 * 32 + get_local_id_1_39;\n    int64_t val_45;\n    \n    if (slt32(x_index_31, x_elems_5)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_in_35 = (y_index_32 + j_44 * 8) * x_elems_5 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, y_elems_6)) {\n                val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n                ((__local int64_t *) block_9)[sext_i32_i64((get_local_id_1_39 + j_44 * 8) * 33 + get_local_id_0_38)] = val_45;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 32 + get_local_id_0_38;\n    y_index_32 = get_group_id_0_41 * 32 + get_local_id_1_39;\n    if (slt32(x_index_31, y_elems_6)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_out_36 = (y_index_32 + j_44 * 8) * y_elems_6 + x_inde", "x_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, x_elems_5)) {\n                val_45 = ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 33 + get_local_id_1_39 + j_44 * 8)];\n                ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64_low_height(const int block_dim0, const int block_dim1, const int block_dim2, uint block_9_backing_offset_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_0_38 + srem32(get_local_id_1_39, mulx_7) * 16;\n    int32_t y_index_32 = get_group_id_1_42 * 16 + squot32(get_local_id_1_39, mulx_7);\n    int64_t val_45;\n    int32_t index_in_35 = y_index_32 *", " x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 + squot32(get_local_id_0_38, mulx_7);\n    y_index_32 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_1_39 + srem32(get_local_id_0_38, mulx_7) * 16;\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64_low_width(const int block_dim0, const int block_dim1, const int block_dim2, uint block_9_backing_offset_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group",
                                     "_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 + squot32(get_local_id_0_38, muly_8);\n    int32_t y_index_32 = get_group_id_1_42 * 16 * muly_8 + get_local_id_1_39 + srem32(get_local_id_0_38, muly_8) * 16;\n    int64_t val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 * muly_8 + get_local_id_0_38 + srem32(get_local_id_1_39, muly_8) * 16;\n    y_index_32 = get_group_id_0_41 * 16 + squot32(get_local_id_1_39, muly_8);\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64_small(uint block_9_backing_offset_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile unsigned char *block_9_backing_0 = &shared_mem[block_9_backing_offset_0];\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *", ") block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = squot32(get_global_id_0_37, y_elems_6 * x_elems_5) * (y_elems_6 * x_elems_5);\n    int32_t x_index_31 = squot32(srem32(get_global_id_0_37, y_elems_6 * x_elems_5), y_elems_6);\n    int32_t y_index_32 = srem32(get_global_id_0_37, y_elems_6);\n    int64_t val_45;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    int32_t index_out_36 = x_index_31 * y_elems_6 + y_index_32;\n    \n    if (slt32(get_global_id_0_37, x_elems_5 * y_elems_6 * num_arrays_4)) {\n        val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpuseq_108469(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, __global unsigned char *ext_mem_107604, __global unsigned char *ext_mem_107605, __global unsigned char *mem_107608, __global unsigned char *mem_107610, __global unsigned char *mem_107612, __global unsigned char *mem_107614, __global unsigned char *mem_107616, __global unsigned char *mem_107618, __global unsigned char *mem_107620, __global unsigned char *mem_107622)\n{\n    ", "const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_108471;\n    int64_t group_sizze_108474;\n    int32_t wave_sizze_108473;\n    int32_t group_tid_108472;\n    \n    local_tid_108471 = get_local_id(0);\n    group_sizze_108474 = get_local_size(0);\n    wave_sizze_108473 = LOCKSTEP_WIDTH;\n    group_tid_108472 = get_group_id(0);\n    \n    int32_t global_tid_108470 = group_tid_108472 * group_sizze_108474 + local_tid_108471;\n    int32_t tid_108469 = global_tid_108470;\n    int64_t defunc_0_reduce_res_106425 = ((__global int64_t *) mem_107608)[(int64_t) 0];\n    bool cond_106428 = defunc_0_reduce_res_106425 == (int64_t) 262144;\n    int64_t findidx_res_106432;\n    \n    if (cond_106428 == 1) {\n        findidx_res_106432 = (int64_t) -1;\n    } else {\n        findidx_res_106432 = defunc_0_reduce_res_106425;\n    }\n    \n    bool x_106435 = sle64((int64_t) 0, findidx_res_106432);\n    bool y_106438 = slt64(findidx_res_106432, (int64_t) 262144);\n    bool bounds_check_106442 = x_106435 && y_106438;\n    bool index_certs_106446;\n    \n    if (!bounds_check_106442) {\n        {\n            if (atomic_cmpxchg_i32_global(global_failure, -1, 54) == -1) {\n                global_failure_args[0] = (int64_t) findidx_res_106432;\n                global_failure_args[1] = (int64_t) (int64_t) 262144;\n                ;\n            }\n            return;\n        }\n    }\n    \n    int64_t new_index_106449 = squot64(findidx_res_106432, (int64_t) 32768);\n    int64_t binop_y_106452 = (int64_t) 32768 * new_index_106449;\n    int64_t binop_x_106456 = findidx_res_106432 - binop_y_106452;\n    int64_t new_index_106459 = squot64(binop_x_106456, (int64_t) 4096);\n    int64_t binop_y_106462 = (int64_t) 4096 * new_index_106459;\n    int64_t binop_x_106466 = binop_x_106456 - binop_y_106462;\n    int64_t new_index_106469 = squot64(binop_x_106466, (int64_t) 512);\n    int64_t binop_y_106472 = (int64_t) 512 * new_index_1064",
                                     "69;\n    int64_t binop_x_106476 = binop_x_106466 - binop_y_106472;\n    int64_t new_index_106479 = squot64(binop_x_106476, (int64_t) 64);\n    int64_t binop_y_106482 = (int64_t) 64 * new_index_106479;\n    int64_t binop_x_106486 = binop_x_106476 - binop_y_106482;\n    int64_t new_index_106489 = squot64(binop_x_106486, (int64_t) 8);\n    int64_t binop_y_106492 = (int64_t) 8 * new_index_106489;\n    int64_t new_index_106496 = binop_x_106486 - binop_y_106492;\n    bool loopres_106504 = ((__global bool *) ext_mem_107605)[new_index_106449 * (int64_t) 32768 + new_index_106459 * (int64_t) 4096 + new_index_106469 * (int64_t) 512 + new_index_106479 * (int64_t) 64 + new_index_106489 * (int64_t) 8 + new_index_106496];\n    int64_t binop_x_106507 = (int64_t) 6 * findidx_res_106432;\n    int64_t new_index_106510 = squot64(binop_x_106507, (int64_t) 196608);\n    int64_t binop_y_106513 = (int64_t) 196608 * new_index_106510;\n    int64_t binop_x_106517 = binop_x_106507 - binop_y_106513;\n    int64_t new_index_106520 = squot64(binop_x_106517, (int64_t) 24576);\n    int64_t binop_y_106523 = (int64_t) 24576 * new_index_106520;\n    int64_t binop_x_106527 = binop_x_106517 - binop_y_106523;\n    int64_t new_index_106530 = squot64(binop_x_106527, (int64_t) 3072);\n    int64_t binop_y_106533 = (int64_t) 3072 * new_index_106530;\n    int64_t binop_x_106537 = binop_x_106527 - binop_y_106533;\n    int64_t new_index_106540 = squot64(binop_x_106537, (int64_t) 384);\n    int64_t binop_y_106543 = (int64_t) 384 * new_index_106540;\n    int64_t binop_x_106547 = binop_x_106537 - binop_y_106543;\n    int64_t new_index_106550 = squot64(binop_x_106547, (int64_t) 48);\n    int64_t binop_y_106553 = (int64_t) 48 * new_index_106550;\n    int64_t binop_x_106557 = binop_x_106547 - binop_y_106553;\n    int64_t new_index_106560 = squot64(binop_x_106557, (int64_t) 6);\n    int64_t binop_y_106563 = (int64_t) 6 * new_index_106560;\n    int64_t new_index_106567 = binop_x_106557 - binop_y_106563;\n    int16_t loopres_106576 = ((__global int1", "6_t *) ext_mem_107604)[new_index_106510 * (int64_t) 196608 + new_index_106520 * (int64_t) 24576 + new_index_106530 * (int64_t) 3072 + new_index_106540 * (int64_t) 384 + new_index_106550 * (int64_t) 48 + new_index_106560 * (int64_t) 6 + new_index_106567];\n    int64_t binop_x_106579 = (int64_t) 1 + binop_x_106507;\n    int64_t new_index_106582 = squot64(binop_x_106579, (int64_t) 196608);\n    int64_t binop_y_106585 = (int64_t) 196608 * new_index_106582;\n    int64_t binop_x_106589 = binop_x_106579 - binop_y_106585;\n    int64_t new_index_106592 = squot64(binop_x_106589, (int64_t) 24576);\n    int64_t binop_y_106595 = (int64_t) 24576 * new_index_106592;\n    int64_t binop_x_106599 = binop_x_106589 - binop_y_106595;\n    int64_t new_index_106602 = squot64(binop_x_106599, (int64_t) 3072);\n    int64_t binop_y_106605 = (int64_t) 3072 * new_index_106602;\n    int64_t binop_x_106609 = binop_x_106599 - binop_y_106605;\n    int64_t new_index_106612 = squot64(binop_x_106609, (int64_t) 384);\n    int64_t binop_y_106615 = (int64_t) 384 * new_index_106612;\n    int64_t binop_x_106619 = binop_x_106609 - binop_y_106615;\n    int64_t new_index_106622 = squot64(binop_x_106619, (int64_t) 48);\n    int64_t binop_y_106625 = (int64_t) 48 * new_index_106622;\n    int64_t binop_x_106629 = binop_x_106619 - binop_y_106625;\n    int64_t new_index_106632 = squot64(binop_x_106629, (int64_t) 6);\n    int64_t binop_y_106635 = (int64_t) 6 * new_index_106632;\n    int64_t new_index_106639 = binop_x_106629 - binop_y_106635;\n    int16_t loopres_106648 = ((__global int16_t *) ext_mem_107604)[new_index_106582 * (int64_t) 196608 + new_index_106592 * (int64_t) 24576 + new_index_106602 * (int64_t) 3072 + new_index_106612 * (int64_t) 384 + new_index_106622 * (int64_t) 48 + new_index_106632 * (int64_t) 6 + new_index_106639];\n    int64_t binop_x_106651 = (int64_t) 2 + binop_x_106507;\n    int64_t new_index_106654 = squot64(binop_x_106651, (int64_t) 196608);\n    int64_t binop_y_106657 = (int64_t) 196608 * new_index_106654;\n    ", "int64_t binop_x_106661 = binop_x_106651 - binop_y_106657;\n    int64_t new_index_106664 = squot64(binop_x_106661, (int64_t) 24576);\n    int64_t binop_y_106667 = (int64_t) 24576 * new_index_106664;\n    int64_t binop_x_106671 = binop_x_106661 - binop_y_106667;\n    int64_t new_index_106674 = squot64(binop_x_106671, (int64_t) 3072);\n    int64_t binop_y_106677 = (int64_t) 3072 * new_index_106674;\n    int64_t binop_x_106681 = binop_x_106671 - binop_y_106677;\n    int64_t new_index_106684 = squot64(binop_x_106681, (int64_t) 384);\n    int64_t binop_y_106687 = (int64_t) 384 * new_index_106684;\n    int64_t binop_x_106691 = binop_x_106681 - binop_y_106687;\n    int64_t new_index_106694 = squot64(binop_x_106691, (int64_t) 48);\n    int64_t binop_y_106697 = (int64_t) 48 * new_index_106694;\n    int64_t binop_x_106701 = binop_x_106691 - binop_y_106697;\n    int64_t new_index_106704 = squot64(binop_x_106701, (int64_t) 6);\n    int64_t binop_y_106707 = (int64_t) 6 * new_index_106704;\n    int64_t new_index_106711 = binop_x_106701 - binop_y_106707;\n    int16_t loopres_106720 = ((__global int16_t *) ext_mem_107604)[new_index_106654 * (int64_t) 196608 + new_index_106664 * (int64_t) 24576 + new_index_106674 * (int64_t) 3072 + new_index_106684 * (int64_t) 384 + new_index_106694 * (int64_t) 48 + new_index_106704 * (int64_t) 6 + new_index_106711];\n    int64_t binop_x_106723 = (int64_t) 3 + binop_x_106507;\n    int64_t new_index_106726 = squot64(binop_x_106723, (int64_t) 196608);\n    int64_t binop_y_106729 = (int64_t) 196608 * new_index_106726;\n    int64_t binop_x_106733 = binop_x_106723 - binop_y_106729;\n    int64_t new_index_106736 = squot64(binop_x_106733, (int64_t) 24576);\n    int64_t binop_y_106739 = (int64_t) 24576 * new_index_106736;\n    int64_t binop_x_106743 = binop_x_106733 - binop_y_106739;\n    int64_t new_index_106746 = squot64(binop_x_106743, (int64_t) 3072);\n    int64_t binop_y_106749 = (int64_t) 3072 * new_index_106746;\n    int64_t binop_x_106753 = binop_x_106743 - binop_y_106749;\n  ",
                                     "  int64_t new_index_106756 = squot64(binop_x_106753, (int64_t) 384);\n    int64_t binop_y_106759 = (int64_t) 384 * new_index_106756;\n    int64_t binop_x_106763 = binop_x_106753 - binop_y_106759;\n    int64_t new_index_106766 = squot64(binop_x_106763, (int64_t) 48);\n    int64_t binop_y_106769 = (int64_t) 48 * new_index_106766;\n    int64_t binop_x_106773 = binop_x_106763 - binop_y_106769;\n    int64_t new_index_106776 = squot64(binop_x_106773, (int64_t) 6);\n    int64_t binop_y_106779 = (int64_t) 6 * new_index_106776;\n    int64_t new_index_106783 = binop_x_106773 - binop_y_106779;\n    int16_t loopres_106792 = ((__global int16_t *) ext_mem_107604)[new_index_106726 * (int64_t) 196608 + new_index_106736 * (int64_t) 24576 + new_index_106746 * (int64_t) 3072 + new_index_106756 * (int64_t) 384 + new_index_106766 * (int64_t) 48 + new_index_106776 * (int64_t) 6 + new_index_106783];\n    int64_t binop_x_106795 = (int64_t) 4 + binop_x_106507;\n    int64_t new_index_106798 = squot64(binop_x_106795, (int64_t) 196608);\n    int64_t binop_y_106801 = (int64_t) 196608 * new_index_106798;\n    int64_t binop_x_106805 = binop_x_106795 - binop_y_106801;\n    int64_t new_index_106808 = squot64(binop_x_106805, (int64_t) 24576);\n    int64_t binop_y_106811 = (int64_t) 24576 * new_index_106808;\n    int64_t binop_x_106815 = binop_x_106805 - binop_y_106811;\n    int64_t new_index_106818 = squot64(binop_x_106815, (int64_t) 3072);\n    int64_t binop_y_106821 = (int64_t) 3072 * new_index_106818;\n    int64_t binop_x_106825 = binop_x_106815 - binop_y_106821;\n    int64_t new_index_106828 = squot64(binop_x_106825, (int64_t) 384);\n    int64_t binop_y_106831 = (int64_t) 384 * new_index_106828;\n    int64_t binop_x_106835 = binop_x_106825 - binop_y_106831;\n    int64_t new_index_106838 = squot64(binop_x_106835, (int64_t) 48);\n    int64_t binop_y_106841 = (int64_t) 48 * new_index_106838;\n    int64_t binop_x_106845 = binop_x_106835 - binop_y_106841;\n    int64_t new_index_106848 = squot64(binop_x_106845, (int64_t) 6);\n ", "   int64_t binop_y_106851 = (int64_t) 6 * new_index_106848;\n    int64_t new_index_106855 = binop_x_106845 - binop_y_106851;\n    int16_t loopres_106864 = ((__global int16_t *) ext_mem_107604)[new_index_106798 * (int64_t) 196608 + new_index_106808 * (int64_t) 24576 + new_index_106818 * (int64_t) 3072 + new_index_106828 * (int64_t) 384 + new_index_106838 * (int64_t) 48 + new_index_106848 * (int64_t) 6 + new_index_106855];\n    int64_t binop_x_106867 = (int64_t) 5 + binop_x_106507;\n    int64_t new_index_106870 = squot64(binop_x_106867, (int64_t) 196608);\n    int64_t binop_y_106873 = (int64_t) 196608 * new_index_106870;\n    int64_t binop_x_106877 = binop_x_106867 - binop_y_106873;\n    int64_t new_index_106880 = squot64(binop_x_106877, (int64_t) 24576);\n    int64_t binop_y_106883 = (int64_t) 24576 * new_index_106880;\n    int64_t binop_x_106887 = binop_x_106877 - binop_y_106883;\n    int64_t new_index_106890 = squot64(binop_x_106887, (int64_t) 3072);\n    int64_t binop_y_106893 = (int64_t) 3072 * new_index_106890;\n    int64_t binop_x_106897 = binop_x_106887 - binop_y_106893;\n    int64_t new_index_106900 = squot64(binop_x_106897, (int64_t) 384);\n    int64_t binop_y_106903 = (int64_t) 384 * new_index_106900;\n    int64_t binop_x_106907 = binop_x_106897 - binop_y_106903;\n    int64_t new_index_106910 = squot64(binop_x_106907, (int64_t) 48);\n    int64_t binop_y_106913 = (int64_t) 48 * new_index_106910;\n    int64_t binop_x_106917 = binop_x_106907 - binop_y_106913;\n    int64_t new_index_106920 = squot64(binop_x_106917, (int64_t) 6);\n    int64_t binop_y_106923 = (int64_t) 6 * new_index_106920;\n    int64_t new_index_106927 = binop_x_106917 - binop_y_106923;\n    int16_t loopres_106936 = ((__global int16_t *) ext_mem_107604)[new_index_106870 * (int64_t) 196608 + new_index_106880 * (int64_t) 24576 + new_index_106890 * (int64_t) 3072 + new_index_106900 * (int64_t) 384 + new_index_106910 * (int64_t) 48 + new_index_106920 * (int64_t) 6 + new_index_106927];\n    \n    ((__global bool *) mem_107", "610)[(int64_t) 0] = loopres_106504;\n    ((__global int16_t *) mem_107612)[(int64_t) 0] = loopres_106576;\n    ((__global int16_t *) mem_107614)[(int64_t) 0] = loopres_106648;\n    ((__global int16_t *) mem_107616)[(int64_t) 0] = loopres_106720;\n    ((__global int16_t *) mem_107618)[(int64_t) 0] = loopres_106792;\n    ((__global int16_t *) mem_107620)[(int64_t) 0] = loopres_106864;\n    ((__global int16_t *) mem_107622)[(int64_t) 0] = loopres_106936;\n    \n  error_0:\n    return;\n}\n__kernel void segmap_24679(__global int *global_failure, __global unsigned char *mem_107209, __global unsigned char *mem_107216)\n{\n    #define segmap_group_sizze_24673 (segmap_group_sizze_24462)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_107708;\n    int64_t group_sizze_107711;\n    int32_t wave_sizze_107710;\n    int32_t group_tid_107709;\n    \n    local_tid_107708 = get_local_id(0);\n    group_sizze_107711 = get_local_size(0);\n    wave_sizze_107710 = LOCKSTEP_WIDTH;\n    group_tid_107709 = get_group_id(0);\n    \n    int32_t global_tid_107707 = group_tid_107709 * group_sizze_107711 + local_tid_107708;\n    int32_t phys_tid_24679 = global_tid_107707;\n    int64_t global_tid_107712 = sext_i32_i64(group_tid_107709) * segmap_group_sizze_24673 + sext_i32_i64(local_tid_107708);\n    int64_t slice_107713 = (int64_t) 2;\n    int64_t slice_107714 = (int64_t) 16 * slice_107713;\n    int64_t slice_107715 = (int64_t) 16 * slice_107714;\n    int64_t gtid_24676 = squot64(global_tid_107712, slice_107714);\n    int64_t remnant_107716 = global_tid_107712 - gtid_24676 * slice_107714;\n    int64_t gtid_24677 = squot64(remnant_107716, slice_107713);\n    int64_t remnant_107717 = remnant_107716 - gtid_24677 * slice_107713;\n    int64_t gtid_24678 = remnant_107717;\n    int64_t remnant_107718 = remnant_107717 - gtid_24678;\n    \n    if ((slt64(gtid_24676, (int64_t) 16) && slt64(gtid_24677, (int64_t) 16)) &&",
                                     " slt64(gtid_24678, (int64_t) 2)) {\n        int8_t x_24680 = ((__global int8_t *) mem_107209)[gtid_24678];\n        bool u8_res_24681 = itob_i8_bool(x_24680);\n        \n        ((__global bool *) mem_107216)[gtid_24676 * (int64_t) 32 + gtid_24677 * (int64_t) 2 + gtid_24678] = u8_res_24681;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_24673\n}\n__kernel void segmap_24700(__global int *global_failure, __global unsigned char *mem_107209, __global unsigned char *mem_107219)\n{\n    #define segmap_group_sizze_24693 (segmap_group_sizze_24376)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_107721;\n    int64_t group_sizze_107724;\n    int32_t wave_sizze_107723;\n    int32_t group_tid_107722;\n    \n    local_tid_107721 = get_local_id(0);\n    group_sizze_107724 = get_local_size(0);\n    wave_sizze_107723 = LOCKSTEP_WIDTH;\n    group_tid_107722 = get_group_id(0);\n    \n    int32_t global_tid_107720 = group_tid_107722 * group_sizze_107724 + local_tid_107721;\n    int32_t phys_tid_24700 = global_tid_107720;\n    int64_t global_tid_107725 = sext_i32_i64(group_tid_107722) * segmap_group_sizze_24693 + sext_i32_i64(local_tid_107721);\n    int64_t slice_107726 = (int64_t) 2;\n    int64_t slice_107727 = (int64_t) 2 * slice_107726;\n    int64_t slice_107728 = (int64_t) 16 * slice_107727;\n    int64_t slice_107729 = (int64_t) 16 * slice_107728;\n    int64_t gtid_24696 = squot64(global_tid_107725, slice_107728);\n    int64_t remnant_107730 = global_tid_107725 - gtid_24696 * slice_107728;\n    int64_t gtid_24697 = squot64(remnant_107730, slice_107727);\n    int64_t remnant_107731 = remnant_107730 - gtid_24697 * slice_107727;\n    int64_t gtid_24698 = squot64(remnant_107731, slice_107726);\n    int64_t remnant_107732 = remnant_107731 - gtid_24698 * slice_107726;\n    int64_t gtid_24699 = remnant_107732;\n    int64_t remnant_107733 = remnant_107732 - gtid_24699;\n    \n    if ", "(((slt64(gtid_24696, (int64_t) 16) && slt64(gtid_24697, (int64_t) 16)) && slt64(gtid_24698, (int64_t) 2)) && slt64(gtid_24699, (int64_t) 2)) {\n        int8_t x_24701 = ((__global int8_t *) mem_107209)[gtid_24699];\n        bool u8_res_24702 = itob_i8_bool(x_24701);\n        \n        ((__global bool *) mem_107219)[gtid_24696 * (int64_t) 64 + gtid_24697 * (int64_t) 4 + gtid_24698 * (int64_t) 2 + gtid_24699] = u8_res_24702;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_24693\n}\n__kernel void segmap_24723(__global int *global_failure, __global unsigned char *mem_107211, __global unsigned char *mem_107216, __global unsigned char *mem_107219, __global unsigned char *mem_107222)\n{\n    #define segmap_group_sizze_24715 (segmap_group_sizze_24314)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_107736;\n    int64_t group_sizze_107739;\n    int32_t wave_sizze_107738;\n    int32_t group_tid_107737;\n    \n    local_tid_107736 = get_local_id(0);\n    group_sizze_107739 = get_local_size(0);\n    wave_sizze_107738 = LOCKSTEP_WIDTH;\n    group_tid_107737 = get_group_id(0);\n    \n    int32_t global_tid_107735 = group_tid_107737 * group_sizze_107739 + local_tid_107736;\n    int32_t phys_tid_24723 = global_tid_107735;\n    int64_t global_tid_107740 = sext_i32_i64(group_tid_107737) * segmap_group_sizze_24715 + sext_i32_i64(local_tid_107736);\n    int64_t slice_107741 = (int64_t) 16;\n    int64_t slice_107742 = (int64_t) 2 * slice_107741;\n    int64_t slice_107743 = (int64_t) 2 * slice_107742;\n    int64_t slice_107744 = (int64_t) 16 * slice_107743;\n    int64_t slice_107745 = (int64_t) 16 * slice_107744;\n    int64_t gtid_24718 = squot64(global_tid_107740, slice_107744);\n    int64_t remnant_107746 = global_tid_107740 - gtid_24718 * slice_107744;\n    int64_t gtid_24719 = squot64(remnant_107746, slice_107743);\n    int64_t remnant_107747 = remnant_107746 - gtid_24719 *", " slice_107743;\n    int64_t gtid_24720 = squot64(remnant_107747, slice_107742);\n    int64_t remnant_107748 = remnant_107747 - gtid_24720 * slice_107742;\n    int64_t gtid_24721 = squot64(remnant_107748, slice_107741);\n    int64_t remnant_107749 = remnant_107748 - gtid_24721 * slice_107741;\n    int64_t gtid_24722 = remnant_107749;\n    int64_t remnant_107750 = remnant_107749 - gtid_24722;\n    \n    if ((((slt64(gtid_24718, (int64_t) 16) && slt64(gtid_24719, (int64_t) 16)) && slt64(gtid_24720, (int64_t) 2)) && slt64(gtid_24721, (int64_t) 2)) && slt64(gtid_24722, (int64_t) 16)) {\n        int8_t x_24724 = ((__global int8_t *) mem_107211)[gtid_24718];\n        int8_t x_24725 = ((__global int8_t *) mem_107211)[gtid_24719];\n        int8_t x_24728 = ((__global int8_t *) mem_107211)[gtid_24722];\n        bool cond_24729 = ult8(x_24728, x_24724);\n        int8_t comperator_res_24730;\n        \n        if (cond_24729 == 1) {\n            comperator_res_24730 = (int8_t) 0;\n        } else {\n            bool u8_res_24726 = ((__global bool *) mem_107216)[gtid_24718 * (int64_t) 32 + gtid_24719 * (int64_t) 2 + gtid_24720];\n            int8_t comperator_res_f_res_24731;\n            \n            if (u8_res_24726 == 1) {\n                int8_t comperator_res_f_res_t_res_24732 = sub8(x_24728, x_24724);\n                \n                comperator_res_f_res_24731 = comperator_res_f_res_t_res_24732;\n            } else {\n                comperator_res_f_res_24731 = x_24728;\n            }\n            comperator_res_24730 = comperator_res_f_res_24731;\n        }\n        \n        bool cond_24733 = ult8(x_24725, x_24728);\n        int8_t comperator_res_24734;\n        \n        if (cond_24733 == 1) {\n            comperator_res_24734 = (int8_t) 0;\n        } else {\n            bool u8_res_24727 = ((__global bool *) mem_107219)[gtid_24718 * (int64_t) 64 + gtid_24719 * (int64_t) 4 + gtid_24720 * (int64_t) 2 + gtid_24721];\n            int8_t comperator_res_f_res_24735;\n            \n            if (u8_res_24727 =",
                                     "= 1) {\n                int8_t comperator_res_f_res_t_res_24736 = sub8(x_24725, x_24728);\n                \n                comperator_res_f_res_24735 = comperator_res_f_res_t_res_24736;\n            } else {\n                comperator_res_f_res_24735 = x_24725;\n            }\n            comperator_res_24734 = comperator_res_f_res_24735;\n        }\n        \n        bool cond_24737 = ult8(comperator_res_24734, comperator_res_24730);\n        int8_t layer_res_24738;\n        \n        if (cond_24737 == 1) {\n            layer_res_24738 = comperator_res_24730;\n        } else {\n            layer_res_24738 = comperator_res_24734;\n        }\n        ((__global int8_t *) mem_107222)[gtid_24718 * (int64_t) 1024 + gtid_24719 * (int64_t) 64 + gtid_24720 * (int64_t) 32 + gtid_24721 * (int64_t) 16 + gtid_24722] = layer_res_24738;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_24715\n}\n__kernel void segmap_24752(__global int *global_failure, int64_t num_groups_24745, int32_t virt_num_groups_107752, __global unsigned char *mem_107209, __global unsigned char *mem_107211, __global unsigned char *mem_107226)\n{\n    #define segmap_group_sizze_24744 (segmap_group_sizze_24270)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_107754;\n    int64_t group_sizze_107757;\n    int32_t wave_sizze_107756;\n    int32_t group_tid_107755;\n    \n    local_tid_107754 = get_local_id(0);\n    group_sizze_107757 = get_local_size(0);\n    wave_sizze_107756 = LOCKSTEP_WIDTH;\n    group_tid_107755 = get_group_id(0);\n    \n    int32_t global_tid_107753 = group_tid_107755 * group_sizze_107757 + local_tid_107754;\n    int32_t phys_tid_24752 = global_tid_107753;\n    int32_t phys_group_id_107758;\n    \n    phys_group_id_107758 = get_group_id(0);\n    \n    int32_t iterations_107759 = sdiv_up32(virt_num_groups_107752 - phys_group_id_107758, sext_i64_i32(num_groups_24745));\n    \n    for (int32_t ", "i_107760 = 0; i_107760 < iterations_107759; i_107760++) {\n        int32_t virt_group_id_107761 = phys_group_id_107758 + i_107760 * sext_i64_i32(num_groups_24745);\n        int64_t global_tid_107762 = sext_i32_i64(virt_group_id_107761) * segmap_group_sizze_24744 + sext_i32_i64(local_tid_107754);\n        int64_t slice_107763 = (int64_t) 2;\n        int64_t slice_107764 = (int64_t) 2 * slice_107763;\n        int64_t slice_107765 = (int64_t) 16 * slice_107764;\n        int64_t slice_107766 = (int64_t) 16 * slice_107765;\n        int64_t gtid_24748 = squot64(global_tid_107762, slice_107765);\n        int64_t remnant_107767 = global_tid_107762 - gtid_24748 * slice_107765;\n        int64_t gtid_24749 = squot64(remnant_107767, slice_107764);\n        int64_t remnant_107768 = remnant_107767 - gtid_24749 * slice_107764;\n        int64_t gtid_24750 = squot64(remnant_107768, slice_107763);\n        int64_t remnant_107769 = remnant_107768 - gtid_24750 * slice_107763;\n        int64_t gtid_24751 = remnant_107769;\n        int64_t remnant_107770 = remnant_107769 - gtid_24751;\n        \n        if (((slt64(gtid_24748, (int64_t) 16) && slt64(gtid_24749, (int64_t) 16)) && slt64(gtid_24750, (int64_t) 2)) && slt64(gtid_24751, (int64_t) 2)) {\n            int8_t x_24753 = ((__global int8_t *) mem_107211)[gtid_24748];\n            int8_t x_24754 = ((__global int8_t *) mem_107211)[gtid_24749];\n            int8_t x_24755 = ((__global int8_t *) mem_107209)[gtid_24750];\n            int8_t x_24756 = ((__global int8_t *) mem_107209)[gtid_24751];\n            int8_t mem_107224[(int64_t) 4];\n            \n            mem_107224[(int64_t) 0] = x_24753;\n            mem_107224[(int64_t) 1] = x_24754;\n            mem_107224[(int64_t) 2] = x_24755;\n            mem_107224[(int64_t) 3] = x_24756;\n            for (int64_t i_107771 = 0; i_107771 < (int64_t) 4; i_107771++) {\n                int8_t tmp_107772 = mem_107224[i_107771];\n                \n                ((__global int8_t *) mem_107226)[gtid_24748 * (int64_t) 25", "6 + gtid_24749 * (int64_t) 16 + gtid_24750 * (int64_t) 8 + gtid_24751 * (int64_t) 4 + i_107771] = tmp_107772;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_24744\n}\n__kernel void segmap_24790(__global int *global_failure, int64_t num_groups_24786, int32_t virt_num_groups_107774, __global unsigned char *mem_107229)\n{\n    #define segmap_group_sizze_24785 (segmap_group_sizze_24767)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_107776;\n    int64_t group_sizze_107779;\n    int32_t wave_sizze_107778;\n    int32_t group_tid_107777;\n    \n    local_tid_107776 = get_local_id(0);\n    group_sizze_107779 = get_local_size(0);\n    wave_sizze_107778 = LOCKSTEP_WIDTH;\n    group_tid_107777 = get_group_id(0);\n    \n    int32_t global_tid_107775 = group_tid_107777 * group_sizze_107779 + local_tid_107776;\n    int32_t phys_tid_24790 = global_tid_107775;\n    int32_t phys_group_id_107780;\n    \n    phys_group_id_107780 = get_group_id(0);\n    \n    int32_t iterations_107781 = sdiv_up32(virt_num_groups_107774 - phys_group_id_107780, sext_i64_i32(num_groups_24786));\n    \n    for (int32_t i_107782 = 0; i_107782 < iterations_107781; i_107782++) {\n        int32_t virt_group_id_107783 = phys_group_id_107780 + i_107782 * sext_i64_i32(num_groups_24786);\n        int64_t global_tid_107784 = sext_i32_i64(virt_group_id_107783) * segmap_group_sizze_24785 + sext_i32_i64(local_tid_107776);\n        int64_t slice_107785 = (int64_t) 512;\n        int64_t gtid_24789 = global_tid_107784;\n        int64_t remnant_107786 = global_tid_107784 - gtid_24789;\n        \n        if (slt64(gtid_24789, (int64_t) 512)) {\n            int64_t arg_24792 = mul64((int64_t) 2, gtid_24789);\n            int64_t arr_elem_24793 = add64((int64_t) 1, arg_24792);\n            int64_t arr_elem_24794 = add64((int64_t) 2,",
                                     " arg_24792);\n            int64_t arr_elem_24795 = add64((int64_t) 3, arg_24792);\n            int64_t arr_elem_24796 = add64((int64_t) 4, arg_24792);\n            int64_t arr_elem_24797 = add64((int64_t) 5, arg_24792);\n            int64_t arr_elem_24798 = add64((int64_t) 6, arg_24792);\n            int64_t arr_elem_24799 = add64((int64_t) 7, arg_24792);\n            int64_t mem_107228[(int64_t) 8];\n            \n            mem_107228[(int64_t) 0] = arg_24792;\n            mem_107228[(int64_t) 1] = arr_elem_24793;\n            mem_107228[(int64_t) 2] = arr_elem_24794;\n            mem_107228[(int64_t) 3] = arr_elem_24795;\n            mem_107228[(int64_t) 4] = arr_elem_24796;\n            mem_107228[(int64_t) 5] = arr_elem_24797;\n            mem_107228[(int64_t) 6] = arr_elem_24798;\n            mem_107228[(int64_t) 7] = arr_elem_24799;\n            for (int64_t i_107787 = 0; i_107787 < (int64_t) 8; i_107787++) {\n                int64_t tmp_107788 = mem_107228[i_107787];\n                \n                ((__global int64_t *) mem_107229)[gtid_24789 + i_107787 * (int64_t) 512] = tmp_107788;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_24785\n}\n__kernel void segmap_25802(__global int *global_failure, __global unsigned char *mem_107230, __global unsigned char *mem_107233)\n{\n    #define segmap_group_sizze_25796 (segmap_group_sizze_25496)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_107791;\n    int64_t group_sizze_107794;\n    int32_t wave_sizze_107793;\n    int32_t group_tid_107792;\n    \n    local_tid_107791 = get_local_id(0);\n    group_sizze_107794 = get_local_size(0);\n    wave_sizze_107793 = LOCKSTEP_WIDTH;\n    group_tid_107792 = get_group_id(0);\n    \n    int32_t global_tid_107790 = group_tid_107792 * group_sizze_107794 + local_tid_107791;\n    int32_t phys", "_tid_25802 = global_tid_107790;\n    int64_t global_tid_107795 = sext_i32_i64(group_tid_107792) * segmap_group_sizze_25796 + sext_i32_i64(local_tid_107791);\n    int64_t slice_107796 = (int64_t) 8;\n    int64_t slice_107797 = (int64_t) 512 * slice_107796;\n    int64_t slice_107798 = (int64_t) 512 * slice_107797;\n    int64_t gtid_25800 = squot64(global_tid_107795, slice_107797);\n    int64_t remnant_107799 = global_tid_107795 - gtid_25800 * slice_107797;\n    int64_t gtid_25801 = squot64(remnant_107799, slice_107796);\n    int64_t remnant_107800 = remnant_107799 - gtid_25801 * slice_107796;\n    int64_t gtid_slice_25799 = remnant_107800;\n    int64_t remnant_107801 = remnant_107800 - gtid_slice_25799;\n    \n    if ((slt64(gtid_25800, (int64_t) 512) && slt64(gtid_25801, (int64_t) 512)) && slt64(gtid_slice_25799, (int64_t) 8)) {\n        int64_t v_25806 = ((__global int64_t *) mem_107230)[gtid_25801 * (int64_t) 8 + gtid_slice_25799];\n        \n        ((__global int64_t *) mem_107233)[gtid_25800 * (int64_t) 4096 + gtid_25801 * (int64_t) 8 + gtid_slice_25799] = v_25806;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_25796\n}\n__kernel void segmap_25839(__global int *global_failure, __global unsigned char *mem_107230, __global unsigned char *mem_107236)\n{\n    #define segmap_group_sizze_25832 (segmap_group_sizze_25287)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_107804;\n    int64_t group_sizze_107807;\n    int32_t wave_sizze_107806;\n    int32_t group_tid_107805;\n    \n    local_tid_107804 = get_local_id(0);\n    group_sizze_107807 = get_local_size(0);\n    wave_sizze_107806 = LOCKSTEP_WIDTH;\n    group_tid_107805 = get_group_id(0);\n    \n    int32_t global_tid_107803 = group_tid_107805 * group_sizze_107807 + local_tid_107804;\n    int32_t phys_tid_25839 = global_tid_107803;\n    int64_t global_tid_107808 = sext_i32_i64(group_tid_107805) * segmap_grou", "p_sizze_25832 + sext_i32_i64(local_tid_107804);\n    int64_t slice_107809 = (int64_t) 8;\n    int64_t slice_107810 = (int64_t) 512 * slice_107809;\n    int64_t slice_107811 = (int64_t) 512 * slice_107810;\n    int64_t slice_107812 = (int64_t) 512 * slice_107811;\n    int64_t gtid_25836 = squot64(global_tid_107808, slice_107811);\n    int64_t remnant_107813 = global_tid_107808 - gtid_25836 * slice_107811;\n    int64_t gtid_25837 = squot64(remnant_107813, slice_107810);\n    int64_t remnant_107814 = remnant_107813 - gtid_25837 * slice_107810;\n    int64_t gtid_25838 = squot64(remnant_107814, slice_107809);\n    int64_t remnant_107815 = remnant_107814 - gtid_25838 * slice_107809;\n    int64_t gtid_slice_25835 = remnant_107815;\n    int64_t remnant_107816 = remnant_107815 - gtid_slice_25835;\n    \n    if (((slt64(gtid_25836, (int64_t) 512) && slt64(gtid_25837, (int64_t) 512)) && slt64(gtid_25838, (int64_t) 512)) && slt64(gtid_slice_25835, (int64_t) 8)) {\n        int64_t v_25844 = ((__global int64_t *) mem_107230)[gtid_25838 * (int64_t) 8 + gtid_slice_25835];\n        \n        ((__global int64_t *) mem_107236)[gtid_25836 * (int64_t) 2097152 + gtid_25837 * (int64_t) 4096 + gtid_25838 * (int64_t) 8 + gtid_slice_25835] = v_25844;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_25832\n}\n__kernel void segmap_25882(__global int *global_failure, __global unsigned char *mem_107230, __global unsigned char *mem_107239)\n{\n    #define segmap_group_sizze_25874 (segmap_group_sizze_25110)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_107819;\n    int64_t group_sizze_107822;\n    int32_t wave_sizze_107821;\n    int32_t group_tid_107820;\n    \n    local_tid_107819 = get_local_id(0);\n    group_sizze_107822 = get_local_size(0);\n    wave_sizze_107821 = LOCKSTEP_WIDTH;\n    group_tid_107820 = get_group_id(0);\n    \n    int32_t global_tid_107818 = group_tid_107820 * group_",
                                     "sizze_107822 + local_tid_107819;\n    int32_t phys_tid_25882 = global_tid_107818;\n    int64_t global_tid_107823 = sext_i32_i64(group_tid_107820) * segmap_group_sizze_25874 + sext_i32_i64(local_tid_107819);\n    int64_t slice_107824 = (int64_t) 8;\n    int64_t slice_107825 = (int64_t) 512 * slice_107824;\n    int64_t slice_107826 = (int64_t) 512 * slice_107825;\n    int64_t slice_107827 = (int64_t) 512 * slice_107826;\n    int64_t slice_107828 = (int64_t) 512 * slice_107827;\n    int64_t gtid_25878 = squot64(global_tid_107823, slice_107827);\n    int64_t remnant_107829 = global_tid_107823 - gtid_25878 * slice_107827;\n    int64_t gtid_25879 = squot64(remnant_107829, slice_107826);\n    int64_t remnant_107830 = remnant_107829 - gtid_25879 * slice_107826;\n    int64_t gtid_25880 = squot64(remnant_107830, slice_107825);\n    int64_t remnant_107831 = remnant_107830 - gtid_25880 * slice_107825;\n    int64_t gtid_25881 = squot64(remnant_107831, slice_107824);\n    int64_t remnant_107832 = remnant_107831 - gtid_25881 * slice_107824;\n    int64_t gtid_slice_25877 = remnant_107832;\n    int64_t remnant_107833 = remnant_107832 - gtid_slice_25877;\n    \n    if ((((slt64(gtid_25878, (int64_t) 512) && slt64(gtid_25879, (int64_t) 512)) && slt64(gtid_25880, (int64_t) 512)) && slt64(gtid_25881, (int64_t) 512)) && slt64(gtid_slice_25877, (int64_t) 8)) {\n        int64_t v_25888 = ((__global int64_t *) mem_107230)[gtid_25881 * (int64_t) 8 + gtid_slice_25877];\n        \n        ((__global int64_t *) mem_107239)[gtid_25878 * (int64_t) 1073741824 + gtid_25879 * (int64_t) 2097152 + gtid_25880 * (int64_t) 4096 + gtid_25881 * (int64_t) 8 + gtid_slice_25877] = v_25888;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_25874\n}\n__kernel void segmap_25931(__global int *global_failure, __global unsigned char *mem_107230, __global unsigned char *mem_107242)\n{\n    #define segmap_group_sizze_25922 (segmap_group_sizze_24971)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int b", "lock_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_107836;\n    int64_t group_sizze_107839;\n    int32_t wave_sizze_107838;\n    int32_t group_tid_107837;\n    \n    local_tid_107836 = get_local_id(0);\n    group_sizze_107839 = get_local_size(0);\n    wave_sizze_107838 = LOCKSTEP_WIDTH;\n    group_tid_107837 = get_group_id(0);\n    \n    int32_t global_tid_107835 = group_tid_107837 * group_sizze_107839 + local_tid_107836;\n    int32_t phys_tid_25931 = global_tid_107835;\n    int64_t global_tid_107840 = sext_i32_i64(group_tid_107837) * segmap_group_sizze_25922 + sext_i32_i64(local_tid_107836);\n    int64_t slice_107841 = (int64_t) 8;\n    int64_t slice_107842 = (int64_t) 512 * slice_107841;\n    int64_t slice_107843 = (int64_t) 512 * slice_107842;\n    int64_t slice_107844 = (int64_t) 512 * slice_107843;\n    int64_t slice_107845 = (int64_t) 512 * slice_107844;\n    int64_t slice_107846 = (int64_t) 512 * slice_107845;\n    int64_t gtid_25926 = squot64(global_tid_107840, slice_107845);\n    int64_t remnant_107847 = global_tid_107840 - gtid_25926 * slice_107845;\n    int64_t gtid_25927 = squot64(remnant_107847, slice_107844);\n    int64_t remnant_107848 = remnant_107847 - gtid_25927 * slice_107844;\n    int64_t gtid_25928 = squot64(remnant_107848, slice_107843);\n    int64_t remnant_107849 = remnant_107848 - gtid_25928 * slice_107843;\n    int64_t gtid_25929 = squot64(remnant_107849, slice_107842);\n    int64_t remnant_107850 = remnant_107849 - gtid_25929 * slice_107842;\n    int64_t gtid_25930 = squot64(remnant_107850, slice_107841);\n    int64_t remnant_107851 = remnant_107850 - gtid_25930 * slice_107841;\n    int64_t gtid_slice_25925 = remnant_107851;\n    int64_t remnant_107852 = remnant_107851 - gtid_slice_25925;\n    \n    if (((((slt64(gtid_25926, (int64_t) 512) && slt64(gtid_25927, (int64_t) 512)) && slt64(gtid_25928, (int64_t) 512)) && slt64(gtid_25929, (int64_t) 512)) && slt64(gtid_25930, (int64_t) 512)) && slt64(gtid_slice_25925, (int64_t) 8)) {\n  ", "      int64_t v_25938 = ((__global int64_t *) mem_107230)[gtid_25930 * (int64_t) 8 + gtid_slice_25925];\n        \n        ((__global int64_t *) mem_107242)[gtid_25926 * (int64_t) 549755813888 + gtid_25927 * (int64_t) 1073741824 + gtid_25928 * (int64_t) 2097152 + gtid_25929 * (int64_t) 4096 + gtid_25930 * (int64_t) 8 + gtid_slice_25925] = v_25938;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_25922\n}\n__kernel void segmap_25964(__global int *global_failure, int64_t num_groups_25955, int32_t virt_num_groups_107854, __global unsigned char *mem_107229, __global unsigned char *mem_107230, __global unsigned char *mem_107233, __global unsigned char *mem_107236, __global unsigned char *mem_107239, __global unsigned char *mem_107242, __global unsigned char *mem_107245)\n{\n    #define segmap_group_sizze_25954 (segmap_group_sizze_24899)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_107856;\n    int64_t group_sizze_107859;\n    int32_t wave_sizze_107858;\n    int32_t group_tid_107857;\n    \n    local_tid_107856 = get_local_id(0);\n    group_sizze_107859 = get_local_size(0);\n    wave_sizze_107858 = LOCKSTEP_WIDTH;\n    group_tid_107857 = get_group_id(0);\n    \n    int32_t global_tid_107855 = group_tid_107857 * group_sizze_107859 + local_tid_107856;\n    int32_t phys_tid_25964 = global_tid_107855;\n    int32_t phys_group_id_107860;\n    \n    phys_group_id_107860 = get_group_id(0);\n    \n    int32_t iterations_107861 = sdiv_up32(virt_num_groups_107854 - phys_group_id_107860, sext_i64_i32(num_groups_25955));\n    \n    for (int32_t i_107862 = 0; i_107862 < iterations_107861; i_107862++) {\n        int32_t virt_group_id_107863 = phys_group_id_107860 + i_107862 * sext_i64_i32(num_groups_25955);\n        int64_t global_tid_107864 = sext_i32_i64(virt_group_id_107863) * segmap_group_sizze_25954 + sext_i32_i64(local_tid_107856);\n        int64_t slice_107865 = (in",
                                     "t64_t) 512;\n        int64_t slice_107866 = (int64_t) 512 * slice_107865;\n        int64_t slice_107867 = (int64_t) 512 * slice_107866;\n        int64_t slice_107868 = (int64_t) 512 * slice_107867;\n        int64_t slice_107869 = (int64_t) 512 * slice_107868;\n        int64_t slice_107870 = (int64_t) 512 * slice_107869;\n        int64_t gtid_25958 = squot64(global_tid_107864, slice_107869);\n        int64_t remnant_107871 = global_tid_107864 - gtid_25958 * slice_107869;\n        int64_t gtid_25959 = squot64(remnant_107871, slice_107868);\n        int64_t remnant_107872 = remnant_107871 - gtid_25959 * slice_107868;\n        int64_t gtid_25960 = squot64(remnant_107872, slice_107867);\n        int64_t remnant_107873 = remnant_107872 - gtid_25960 * slice_107867;\n        int64_t gtid_25961 = squot64(remnant_107873, slice_107866);\n        int64_t remnant_107874 = remnant_107873 - gtid_25961 * slice_107866;\n        int64_t gtid_25962 = squot64(remnant_107874, slice_107865);\n        int64_t remnant_107875 = remnant_107874 - gtid_25962 * slice_107865;\n        int64_t gtid_25963 = remnant_107875;\n        int64_t remnant_107876 = remnant_107875 - gtid_25963;\n        \n        if (((((slt64(gtid_25958, (int64_t) 512) && slt64(gtid_25959, (int64_t) 512)) && slt64(gtid_25960, (int64_t) 512)) && slt64(gtid_25961, (int64_t) 512)) && slt64(gtid_25962, (int64_t) 512)) && slt64(gtid_25963, (int64_t) 512)) {\n            int64_t mem_107244[(int64_t) 6 * (int64_t) 8];\n            \n            for (int64_t i_107877 = 0; i_107877 < (int64_t) 8; i_107877++) {\n                int64_t tmp_107878 = ((__global int64_t *) mem_107230)[gtid_25958 * (int64_t) 8 + i_107877];\n                \n                mem_107244[i_107877] = tmp_107878;\n            }\n            for (int64_t i_107879 = 0; i_107879 < (int64_t) 8; i_107879++) {\n                int64_t tmp_107880 = ((__global int64_t *) mem_107233)[gtid_25958 * (int64_t) 4096 + gtid_25959 * (int64_t) 8 + i_107879];\n                \n                mem_107244[", "(int64_t) 8 + i_107879] = tmp_107880;\n            }\n            for (int64_t i_107881 = 0; i_107881 < (int64_t) 8; i_107881++) {\n                int64_t tmp_107882 = ((__global int64_t *) mem_107236)[gtid_25958 * (int64_t) 2097152 + gtid_25959 * (int64_t) 4096 + gtid_25960 * (int64_t) 8 + i_107881];\n                \n                mem_107244[(int64_t) 16 + i_107881] = tmp_107882;\n            }\n            for (int64_t i_107883 = 0; i_107883 < (int64_t) 8; i_107883++) {\n                int64_t tmp_107884 = ((__global int64_t *) mem_107239)[gtid_25958 * (int64_t) 1073741824 + gtid_25959 * (int64_t) 2097152 + gtid_25960 * (int64_t) 4096 + gtid_25961 * (int64_t) 8 + i_107883];\n                \n                mem_107244[(int64_t) 24 + i_107883] = tmp_107884;\n            }\n            for (int64_t i_107885 = 0; i_107885 < (int64_t) 8; i_107885++) {\n                int64_t tmp_107886 = ((__global int64_t *) mem_107242)[gtid_25958 * (int64_t) 549755813888 + gtid_25959 * (int64_t) 1073741824 + gtid_25960 * (int64_t) 2097152 + gtid_25961 * (int64_t) 4096 + gtid_25962 * (int64_t) 8 + i_107885];\n                \n                mem_107244[(int64_t) 32 + i_107885] = tmp_107886;\n            }\n            for (int64_t i_107887 = 0; i_107887 < (int64_t) 8; i_107887++) {\n                int64_t tmp_107888 = ((__global int64_t *) mem_107229)[gtid_25963 + i_107887 * (int64_t) 512];\n                \n                mem_107244[(int64_t) 40 + i_107887] = tmp_107888;\n            }\n            for (int64_t i_107889 = 0; i_107889 < (int64_t) 6; i_107889++) {\n                for (int64_t i_107890 = 0; i_107890 < (int64_t) 8; i_107890++) {\n                    int64_t tmp_107891 = mem_107244[i_107889 * (int64_t) 8 + i_107890];\n                    \n                    ((__global int64_t *) mem_107245)[gtid_25958 * (int64_t) 35184372088832 + gtid_25959 * (int64_t) 68719476736 + gtid_25960 * (int64_t) 134217728 + gtid_25961 * (int64_t) 262144 + gtid_25962 * (int64_t) 512 + gtid_25963 + (i_10788", "9 * (int64_t) 144115188075855872 + i_107890 * (int64_t) 18014398509481984)] = tmp_107891;\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_25954\n}\n__kernel void segmap_26175(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t num_groups_26170, int64_t binop_x_73009, int64_t binop_x_74524, int64_t binop_x_76039, int64_t binop_x_77554, int64_t binop_x_79069, int64_t binop_x_80583, int32_t virt_num_groups_107954, __global unsigned char *mem_107211, __global unsigned char *mem_107213, __global unsigned char *mem_107222, __global unsigned char *mem_107245, __global unsigned char *mem_107523, __global unsigned char *mem_107596, __global unsigned char *mem_107597)\n{\n    #define segmap_group_sizze_26169 (segmap_group_sizze_25987)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_107956;\n    int64_t group_sizze_107959;\n    int32_t wave_sizze_107958;\n    int32_t group_tid_107957;\n    \n    local_tid_107956 = get_local_id(0);\n    group_sizze_107959 = get_local_size(0);\n    wave_sizze_107958 = LOCKSTEP_WIDTH;\n    group_tid_107957 = get_group_id(0);\n    \n    int32_t global_tid_107955 = group_tid_107957 * group_sizze_107959 + local_tid_107956;\n    int32_t phys_tid_26175 = global_tid_107955;\n    int32_t phys_group_id_107960;\n    \n    phys_group_id_107960 = get_group_id(0);\n    \n    int32_t iterations_107961 = sdiv_up32(virt_num_groups_107954 - phys_group_id_107960, sext_i64_i32(num_groups_26170));\n    \n    for (int32_t i_107962 = 0; i_107962 < iterations_107961; i_107962++) {\n        int32_t virt_group_id_107963 = phy",
                                     "s_group_id_107960 + i_107962 * sext_i64_i32(num_groups_26170);\n        int64_t global_tid_107964 = sext_i32_i64(virt_group_id_107963) * segmap_group_sizze_26169 + sext_i32_i64(local_tid_107956);\n        int64_t slice_107965 = (int64_t) 8;\n        int64_t gtid_26174 = global_tid_107964;\n        int64_t remnant_107966 = global_tid_107964 - gtid_26174;\n        \n        if (slt64(gtid_26174, (int64_t) 8)) {\n            int64_t binop_x_32430 = gtid_26174 + binop_x_80583;\n            int64_t new_index_32431 = squot64(binop_x_32430, (int64_t) 1688849860263936);\n            int64_t binop_y_32437 = (int64_t) 1688849860263936 * new_index_32431;\n            int64_t binop_x_32438 = binop_x_32430 - binop_y_32437;\n            int64_t new_index_32439 = squot64(binop_x_32438, (int64_t) 3298534883328);\n            int64_t binop_y_32455 = (int64_t) 3298534883328 * new_index_32439;\n            int64_t binop_x_32456 = binop_x_32438 - binop_y_32455;\n            int64_t new_index_32457 = squot64(binop_x_32456, (int64_t) 6442450944);\n            int64_t binop_y_32493 = (int64_t) 6442450944 * new_index_32457;\n            int64_t binop_x_32494 = binop_x_32456 - binop_y_32493;\n            int64_t new_index_32495 = squot64(binop_x_32494, (int64_t) 12582912);\n            int64_t binop_y_32571 = (int64_t) 12582912 * new_index_32495;\n            int64_t binop_x_32572 = binop_x_32494 - binop_y_32571;\n            int64_t new_index_32573 = squot64(binop_x_32572, (int64_t) 24576);\n            int64_t binop_y_32729 = (int64_t) 24576 * new_index_32573;\n            int64_t binop_x_32730 = binop_x_32572 - binop_y_32729;\n            int64_t new_index_32731 = squot64(binop_x_32730, (int64_t) 48);\n            int64_t binop_y_33047 = (int64_t) 48 * new_index_32731;\n            int64_t binop_x_33048 = binop_x_32730 - binop_y_33047;\n            int64_t new_index_33049 = squot64(binop_x_33048, (int64_t) 8);\n            int64_t binop_y_33685 = (int64_t) 8 * new_index_33049;\n            int64_t new_index_33686 =", " binop_x_33048 - binop_y_33685;\n            int64_t x_26176 = ((__global int64_t *) mem_107523)[new_index_32431 * (int64_t) 1688849860263936 + new_index_32439 * (int64_t) 3298534883328 + new_index_32457 * (int64_t) 6442450944 + new_index_32495 * (int64_t) 12582912 + new_index_32573 * (int64_t) 24576 + new_index_32731 * (int64_t) 48 + new_index_33049 * (int64_t) 8 + new_index_33686];\n            int16_t i64_res_26177 = sext_i64_i16(x_26176);\n            bool x_26178 = sle64((int64_t) 0, x_26176);\n            bool y_26179 = slt64(x_26176, (int64_t) 1024);\n            bool bounds_check_26180 = x_26178 && y_26179;\n            int64_t binop_x_26181 = (int64_t) 16 * x_26176;\n            bool mem_107525[(int64_t) 8 * (int64_t) 8 * (int64_t) 8 * (int64_t) 8 * (int64_t) 8];\n            int16_t mem_107526[(int64_t) 8 * (int64_t) 8 * (int64_t) 8 * (int64_t) 8 * (int64_t) 8 * (int64_t) 6];\n            int16_t mem_107557[(int64_t) 6];\n            \n            for (int64_t i_83594 = 0; i_83594 < (int64_t) 8; i_83594++) {\n                int64_t binop_x_83711 = binop_x_79069 + i_83594;\n                int64_t new_index_83712 = squot64(binop_x_83711, (int64_t) 1688849860263936);\n                int64_t binop_y_83720 = (int64_t) 1688849860263936 * new_index_83712;\n                int64_t binop_x_83721 = binop_x_83711 - binop_y_83720;\n                int64_t new_index_83722 = squot64(binop_x_83721, (int64_t) 3298534883328);\n                int64_t binop_y_83742 = (int64_t) 3298534883328 * new_index_83722;\n                int64_t binop_x_83743 = binop_x_83721 - binop_y_83742;\n                int64_t new_index_83744 = squot64(binop_x_83743, (int64_t) 6442450944);\n                int64_t binop_y_83788 = (int64_t) 6442450944 * new_index_83744;\n                int64_t binop_x_83789 = binop_x_83743 - binop_y_83788;\n                int64_t new_index_83790 = squot64(binop_x_83789, (int64_t) 12582912);\n                int64_t binop_y_83882 = (int64_t) 12582912 * new_index_83790;\n             ", "   int64_t binop_x_83883 = binop_x_83789 - binop_y_83882;\n                int64_t new_index_83884 = squot64(binop_x_83883, (int64_t) 24576);\n                int64_t binop_y_84072 = (int64_t) 24576 * new_index_83884;\n                int64_t binop_x_84073 = binop_x_83883 - binop_y_84072;\n                int64_t new_index_84074 = squot64(binop_x_84073, (int64_t) 48);\n                int64_t binop_y_84454 = (int64_t) 48 * new_index_84074;\n                int64_t binop_x_84455 = binop_x_84073 - binop_y_84454;\n                int64_t new_index_84456 = squot64(binop_x_84455, (int64_t) 8);\n                int64_t binop_y_85220 = (int64_t) 8 * new_index_84456;\n                int64_t new_index_85221 = binop_x_84455 - binop_y_85220;\n                int64_t x_26184 = ((__global int64_t *) mem_107245)[new_index_84456 * (int64_t) 144115188075855872 + new_index_85221 * (int64_t) 18014398509481984 + new_index_83712 * (int64_t) 35184372088832 + new_index_83722 * (int64_t) 68719476736 + new_index_83744 * (int64_t) 134217728 + new_index_83790 * (int64_t) 262144 + new_index_83884 * (int64_t) 512 + new_index_84074];\n                int16_t i64_res_26185 = sext_i64_i16(x_26184);\n                bool x_26186 = sle64((int64_t) 0, x_26184);\n                bool y_26187 = slt64(x_26184, (int64_t) 1024);\n                bool bounds_check_26188 = x_26186 && y_26187;\n                int64_t binop_x_26189 = (int64_t) 16 * x_26184;\n                \n                for (int64_t i_83601 = 0; i_83601 < (int64_t) 8; i_83601++) {\n                    int64_t binop_x_85224 = binop_x_77554 + i_83601;\n                    int64_t new_index_85225 = squot64(binop_x_85224, (int64_t) 1688849860263936);\n                    int64_t binop_y_85233 = (int64_t) 1688849860263936 * new_index_85225;\n                    int64_t binop_x_85234 = binop_x_85224 - binop_y_85233;\n                    int64_t new_index_85235 = squot64(binop_x_85234, (int64_t) 3298534883328);\n                    int64_t binop_y_85255 = (int64_t",
                                     ") 3298534883328 * new_index_85235;\n                    int64_t binop_x_85256 = binop_x_85234 - binop_y_85255;\n                    int64_t new_index_85257 = squot64(binop_x_85256, (int64_t) 6442450944);\n                    int64_t binop_y_85301 = (int64_t) 6442450944 * new_index_85257;\n                    int64_t binop_x_85302 = binop_x_85256 - binop_y_85301;\n                    int64_t new_index_85303 = squot64(binop_x_85302, (int64_t) 12582912);\n                    int64_t binop_y_85395 = (int64_t) 12582912 * new_index_85303;\n                    int64_t binop_x_85396 = binop_x_85302 - binop_y_85395;\n                    int64_t new_index_85397 = squot64(binop_x_85396, (int64_t) 24576);\n                    int64_t binop_y_85585 = (int64_t) 24576 * new_index_85397;\n                    int64_t binop_x_85586 = binop_x_85396 - binop_y_85585;\n                    int64_t new_index_85587 = squot64(binop_x_85586, (int64_t) 48);\n                    int64_t binop_y_85967 = (int64_t) 48 * new_index_85587;\n                    int64_t binop_x_85968 = binop_x_85586 - binop_y_85967;\n                    int64_t new_index_85969 = squot64(binop_x_85968, (int64_t) 8);\n                    int64_t binop_y_86733 = (int64_t) 8 * new_index_85969;\n                    int64_t new_index_86734 = binop_x_85968 - binop_y_86733;\n                    int64_t x_26192 = ((__global int64_t *) mem_107245)[new_index_85969 * (int64_t) 144115188075855872 + new_index_86734 * (int64_t) 18014398509481984 + new_index_85225 * (int64_t) 35184372088832 + new_index_85235 * (int64_t) 68719476736 + new_index_85257 * (int64_t) 134217728 + new_index_85303 * (int64_t) 262144 + new_index_85397 * (int64_t) 512 + new_index_85587];\n                    int16_t i64_res_26193 = sext_i64_i16(x_26192);\n                    bool x_26194 = sle64((int64_t) 0, x_26192);\n                    bool y_26195 = slt64(x_26192, (int64_t) 1024);\n                    bool bounds_check_26196 = x_26194 && y_26195;\n                    int64_t bino", "p_x_26197 = (int64_t) 16 * x_26192;\n                    \n                    for (int64_t i_83608 = 0; i_83608 < (int64_t) 8; i_83608++) {\n                        int64_t binop_x_86737 = binop_x_76039 + i_83608;\n                        int64_t new_index_86738 = squot64(binop_x_86737, (int64_t) 1688849860263936);\n                        int64_t binop_y_86746 = (int64_t) 1688849860263936 * new_index_86738;\n                        int64_t binop_x_86747 = binop_x_86737 - binop_y_86746;\n                        int64_t new_index_86748 = squot64(binop_x_86747, (int64_t) 3298534883328);\n                        int64_t binop_y_86768 = (int64_t) 3298534883328 * new_index_86748;\n                        int64_t binop_x_86769 = binop_x_86747 - binop_y_86768;\n                        int64_t new_index_86770 = squot64(binop_x_86769, (int64_t) 6442450944);\n                        int64_t binop_y_86814 = (int64_t) 6442450944 * new_index_86770;\n                        int64_t binop_x_86815 = binop_x_86769 - binop_y_86814;\n                        int64_t new_index_86816 = squot64(binop_x_86815, (int64_t) 12582912);\n                        int64_t binop_y_86908 = (int64_t) 12582912 * new_index_86816;\n                        int64_t binop_x_86909 = binop_x_86815 - binop_y_86908;\n                        int64_t new_index_86910 = squot64(binop_x_86909, (int64_t) 24576);\n                        int64_t binop_y_87098 = (int64_t) 24576 * new_index_86910;\n                        int64_t binop_x_87099 = binop_x_86909 - binop_y_87098;\n                        int64_t new_index_87100 = squot64(binop_x_87099, (int64_t) 48);\n                        int64_t binop_y_87480 = (int64_t) 48 * new_index_87100;\n                        int64_t binop_x_87481 = binop_x_87099 - binop_y_87480;\n                        int64_t new_index_87482 = squot64(binop_x_87481, (int64_t) 8);\n                        int64_t binop_y_88246 = (int64_t) 8 * new_index_87482;\n                        int64_t new_index_88247 = binop_", "x_87481 - binop_y_88246;\n                        int64_t x_26200 = ((__global int64_t *) mem_107245)[new_index_87482 * (int64_t) 144115188075855872 + new_index_88247 * (int64_t) 18014398509481984 + new_index_86738 * (int64_t) 35184372088832 + new_index_86748 * (int64_t) 68719476736 + new_index_86770 * (int64_t) 134217728 + new_index_86816 * (int64_t) 262144 + new_index_86910 * (int64_t) 512 + new_index_87100];\n                        int16_t i64_res_26201 = sext_i64_i16(x_26200);\n                        bool x_26202 = sle64((int64_t) 0, x_26200);\n                        bool y_26203 = slt64(x_26200, (int64_t) 1024);\n                        bool bounds_check_26204 = x_26202 && y_26203;\n                        int64_t binop_x_26205 = (int64_t) 16 * x_26200;\n                        \n                        for (int64_t i_83615 = 0; i_83615 < (int64_t) 8; i_83615++) {\n                            int64_t binop_x_88250 = binop_x_74524 + i_83615;\n                            int64_t new_index_88251 = squot64(binop_x_88250, (int64_t) 1688849860263936);\n                            int64_t binop_y_88259 = (int64_t) 1688849860263936 * new_index_88251;\n                            int64_t binop_x_88260 = binop_x_88250 - binop_y_88259;\n                            int64_t new_index_88261 = squot64(binop_x_88260, (int64_t) 3298534883328);\n                            int64_t binop_y_88281 = (int64_t) 3298534883328 * new_index_88261;\n                            int64_t binop_x_88282 = binop_x_88260 - binop_y_88281;\n                            int64_t new_index_88283 = squot64(binop_x_88282, (int64_t) 6442450944);\n                            int64_t binop_y_88327 = (int64_t) 6442450944 * new_index_88283;\n                            int64_t binop_x_88328 = binop_x_88282 - binop_y_88327;\n                            int64_t new_index_88329 = squot64(binop_x_88328, (int64_t) 12582912);\n                            int64_t binop_y_88421 = (int64_t) 12582912 * new_index_88329;\n               ",
                                     "             int64_t binop_x_88422 = binop_x_88328 - binop_y_88421;\n                            int64_t new_index_88423 = squot64(binop_x_88422, (int64_t) 24576);\n                            int64_t binop_y_88611 = (int64_t) 24576 * new_index_88423;\n                            int64_t binop_x_88612 = binop_x_88422 - binop_y_88611;\n                            int64_t new_index_88613 = squot64(binop_x_88612, (int64_t) 48);\n                            int64_t binop_y_88993 = (int64_t) 48 * new_index_88613;\n                            int64_t binop_x_88994 = binop_x_88612 - binop_y_88993;\n                            int64_t new_index_88995 = squot64(binop_x_88994, (int64_t) 8);\n                            int64_t binop_y_89759 = (int64_t) 8 * new_index_88995;\n                            int64_t new_index_89760 = binop_x_88994 - binop_y_89759;\n                            int64_t x_26208 = ((__global int64_t *) mem_107245)[new_index_88995 * (int64_t) 144115188075855872 + new_index_89760 * (int64_t) 18014398509481984 + new_index_88251 * (int64_t) 35184372088832 + new_index_88261 * (int64_t) 68719476736 + new_index_88283 * (int64_t) 134217728 + new_index_88329 * (int64_t) 262144 + new_index_88423 * (int64_t) 512 + new_index_88613];\n                            int16_t i64_res_26209 = sext_i64_i16(x_26208);\n                            bool x_26210 = sle64((int64_t) 0, x_26208);\n                            bool y_26211 = slt64(x_26208, (int64_t) 1024);\n                            bool bounds_check_26212 = x_26210 && y_26211;\n                            int64_t binop_x_26213 = (int64_t) 16 * x_26208;\n                            \n                            for (int64_t i_83622 = 0; i_83622 < (int64_t) 8; i_83622++) {\n                                int64_t binop_x_89763 = binop_x_73009 + i_83622;\n                                int64_t new_index_89764 = squot64(binop_x_89763, (int64_t) 1688849860263936);\n                                int64_t binop_y_89772 = (int64_t) 16888498", "60263936 * new_index_89764;\n                                int64_t binop_x_89773 = binop_x_89763 - binop_y_89772;\n                                int64_t new_index_89774 = squot64(binop_x_89773, (int64_t) 3298534883328);\n                                int64_t binop_y_89794 = (int64_t) 3298534883328 * new_index_89774;\n                                int64_t binop_x_89795 = binop_x_89773 - binop_y_89794;\n                                int64_t new_index_89796 = squot64(binop_x_89795, (int64_t) 6442450944);\n                                int64_t binop_y_89840 = (int64_t) 6442450944 * new_index_89796;\n                                int64_t binop_x_89841 = binop_x_89795 - binop_y_89840;\n                                int64_t new_index_89842 = squot64(binop_x_89841, (int64_t) 12582912);\n                                int64_t binop_y_89934 = (int64_t) 12582912 * new_index_89842;\n                                int64_t binop_x_89935 = binop_x_89841 - binop_y_89934;\n                                int64_t new_index_89936 = squot64(binop_x_89935, (int64_t) 24576);\n                                int64_t binop_y_90124 = (int64_t) 24576 * new_index_89936;\n                                int64_t binop_x_90125 = binop_x_89935 - binop_y_90124;\n                                int64_t new_index_90126 = squot64(binop_x_90125, (int64_t) 48);\n                                int64_t binop_y_90506 = (int64_t) 48 * new_index_90126;\n                                int64_t binop_x_90507 = binop_x_90125 - binop_y_90506;\n                                int64_t new_index_90508 = squot64(binop_x_90507, (int64_t) 8);\n                                int64_t binop_y_91272 = (int64_t) 8 * new_index_90508;\n                                int64_t new_index_91273 = binop_x_90507 - binop_y_91272;\n                                int64_t x_26216 = ((__global int64_t *) mem_107245)[new_index_90508 * (int64_t) 144115188075855872 + new_index_91273 * (int64_t) 18014398509481984 + new_index_89764 * (int", "64_t) 35184372088832 + new_index_89774 * (int64_t) 68719476736 + new_index_89796 * (int64_t) 134217728 + new_index_89842 * (int64_t) 262144 + new_index_89936 * (int64_t) 512 + new_index_90126];\n                                bool x_26217 = sle64((int64_t) 0, x_26216);\n                                bool y_26218 = slt64(x_26216, (int64_t) 1024);\n                                bool bounds_check_26219 = x_26217 && y_26218;\n                                int64_t binop_x_26220 = (int64_t) 16 * x_26216;\n                                bool all_equal_26221;\n                                bool redout_83625 = 1;\n                                \n                                for (int64_t i_83626 = 0; i_83626 < (int64_t) 16; i_83626++) {\n                                    int8_t x_26225 = ((__global int8_t *) mem_107211)[i_83626];\n                                    int8_t y_26226 = ((__global int8_t *) mem_107213)[i_83626];\n                                    int64_t u8_res_26227 = zext_i8_i64(x_26225);\n                                    bool x_26228 = sle64((int64_t) 0, u8_res_26227);\n                                    bool y_26229 = slt64(u8_res_26227, (int64_t) 16);\n                                    bool bounds_check_26230 = x_26228 && y_26229;\n                                    bool index_ok_26231 = bounds_check_26219 && bounds_check_26230;\n                                    bool index_certs_26232;\n                                    \n                                    if (!index_ok_26231) {\n                                        {\n                                            if (atomic_cmpxchg_i32_global(global_failure, -1, 0) == -1) {\n                                                global_failure_args[0] = (int64_t) x_26216;\n                                                global_failure_args[1] = (int64_t) u8_res_26227;\n                                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                      ",
                                     "          global_failure_args[3] = (int64_t) (int64_t) 16;\n                                                ;\n                                            }\n                                            local_failure = 1;\n                                            goto error_0;\n                                        }\n                                    }\n                                    \n                                    int64_t binop_x_26233 = binop_x_26220 + u8_res_26227;\n                                    int64_t new_index_26234 = squot64(binop_x_26233, (int64_t) 1024);\n                                    int64_t binop_y_26235 = (int64_t) 1024 * new_index_26234;\n                                    int64_t binop_x_26236 = binop_x_26233 - binop_y_26235;\n                                    int64_t new_index_26237 = squot64(binop_x_26236, (int64_t) 64);\n                                    int64_t binop_y_26238 = (int64_t) 64 * new_index_26237;\n                                    int64_t binop_x_26239 = binop_x_26236 - binop_y_26238;\n                                    int64_t new_index_26240 = squot64(binop_x_26239, (int64_t) 32);\n                                    int64_t binop_y_26241 = (int64_t) 32 * new_index_26240;\n                                    int64_t binop_x_26242 = binop_x_26239 - binop_y_26241;\n                                    int64_t new_index_26243 = squot64(binop_x_26242, (int64_t) 16);\n                                    int64_t binop_y_26244 = (int64_t) 16 * new_index_26243;\n                                    int64_t new_index_26245 = binop_x_26242 - binop_y_26244;\n                                    int8_t defunc_0_f_res_26246 = ((__global int8_t *) mem_107222)[new_index_26234 * (int64_t) 1024 + new_index_26237 * (int64_t) 64 + new_index_26240 * (int64_t) 32 + new_index_26243 * (int64_t) 16 + new_index_26245];\n                                    int64_t u8_res_26247 = zext_i8_i64(defunc_0_f_res_26246);\n                                  ", "  bool x_26248 = sle64((int64_t) 0, u8_res_26247);\n                                    bool y_26249 = slt64(u8_res_26247, (int64_t) 16);\n                                    bool bounds_check_26250 = x_26248 && y_26249;\n                                    bool index_ok_26251 = bounds_check_26212 && bounds_check_26250;\n                                    bool index_certs_26252;\n                                    \n                                    if (!index_ok_26251) {\n                                        {\n                                            if (atomic_cmpxchg_i32_global(global_failure, -1, 1) == -1) {\n                                                global_failure_args[0] = (int64_t) x_26208;\n                                                global_failure_args[1] = (int64_t) u8_res_26247;\n                                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                                global_failure_args[3] = (int64_t) (int64_t) 16;\n                                                ;\n                                            }\n                                            local_failure = 1;\n                                            goto error_0;\n                                        }\n                                    }\n                                    \n                                    int64_t binop_x_26253 = binop_x_26213 + u8_res_26247;\n                                    int64_t new_index_26254 = squot64(binop_x_26253, (int64_t) 1024);\n                                    int64_t binop_y_26255 = (int64_t) 1024 * new_index_26254;\n                                    int64_t binop_x_26256 = binop_x_26253 - binop_y_26255;\n                                    int64_t new_index_26257 = squot64(binop_x_26256, (int64_t) 64);\n                                    int64_t binop_y_26258 = (int64_t) 64 * new_index_26257;\n                                    int64_t binop_x_26259 = binop_x_26256 - binop_y_26258", ";\n                                    int64_t new_index_26260 = squot64(binop_x_26259, (int64_t) 32);\n                                    int64_t binop_y_26261 = (int64_t) 32 * new_index_26260;\n                                    int64_t binop_x_26262 = binop_x_26259 - binop_y_26261;\n                                    int64_t new_index_26263 = squot64(binop_x_26262, (int64_t) 16);\n                                    int64_t binop_y_26264 = (int64_t) 16 * new_index_26263;\n                                    int64_t new_index_26265 = binop_x_26262 - binop_y_26264;\n                                    int8_t defunc_0_f_res_26266 = ((__global int8_t *) mem_107222)[new_index_26254 * (int64_t) 1024 + new_index_26257 * (int64_t) 64 + new_index_26260 * (int64_t) 32 + new_index_26263 * (int64_t) 16 + new_index_26265];\n                                    int64_t u8_res_26267 = zext_i8_i64(defunc_0_f_res_26266);\n                                    bool x_26268 = sle64((int64_t) 0, u8_res_26267);\n                                    bool y_26269 = slt64(u8_res_26267, (int64_t) 16);\n                                    bool bounds_check_26270 = x_26268 && y_26269;\n                                    bool index_ok_26271 = bounds_check_26204 && bounds_check_26270;\n                                    bool index_certs_26272;\n                                    \n                                    if (!index_ok_26271) {\n                                        {\n                                            if (atomic_cmpxchg_i32_global(global_failure, -1, 2) == -1) {\n                                                global_failure_args[0] = (int64_t) x_26200;\n                                                global_failure_args[1] = (int64_t) u8_res_26267;\n                                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                                global_failure_args[3] = (int64_t) (int64_t) 16;\n                                           ",
                                     "     ;\n                                            }\n                                            local_failure = 1;\n                                            goto error_0;\n                                        }\n                                    }\n                                    \n                                    int64_t binop_x_26273 = binop_x_26205 + u8_res_26267;\n                                    int64_t new_index_26274 = squot64(binop_x_26273, (int64_t) 1024);\n                                    int64_t binop_y_26275 = (int64_t) 1024 * new_index_26274;\n                                    int64_t binop_x_26276 = binop_x_26273 - binop_y_26275;\n                                    int64_t new_index_26277 = squot64(binop_x_26276, (int64_t) 64);\n                                    int64_t binop_y_26278 = (int64_t) 64 * new_index_26277;\n                                    int64_t binop_x_26279 = binop_x_26276 - binop_y_26278;\n                                    int64_t new_index_26280 = squot64(binop_x_26279, (int64_t) 32);\n                                    int64_t binop_y_26281 = (int64_t) 32 * new_index_26280;\n                                    int64_t binop_x_26282 = binop_x_26279 - binop_y_26281;\n                                    int64_t new_index_26283 = squot64(binop_x_26282, (int64_t) 16);\n                                    int64_t binop_y_26284 = (int64_t) 16 * new_index_26283;\n                                    int64_t new_index_26285 = binop_x_26282 - binop_y_26284;\n                                    int8_t defunc_0_f_res_26286 = ((__global int8_t *) mem_107222)[new_index_26274 * (int64_t) 1024 + new_index_26277 * (int64_t) 64 + new_index_26280 * (int64_t) 32 + new_index_26283 * (int64_t) 16 + new_index_26285];\n                                    int64_t u8_res_26287 = zext_i8_i64(defunc_0_f_res_26286);\n                                    bool x_26288 = sle64((int64_t) 0, u8_res_26287);\n                                    bool y_26289 = ", "slt64(u8_res_26287, (int64_t) 16);\n                                    bool bounds_check_26290 = x_26288 && y_26289;\n                                    bool index_ok_26291 = bounds_check_26196 && bounds_check_26290;\n                                    bool index_certs_26292;\n                                    \n                                    if (!index_ok_26291) {\n                                        {\n                                            if (atomic_cmpxchg_i32_global(global_failure, -1, 3) == -1) {\n                                                global_failure_args[0] = (int64_t) x_26192;\n                                                global_failure_args[1] = (int64_t) u8_res_26287;\n                                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                                global_failure_args[3] = (int64_t) (int64_t) 16;\n                                                ;\n                                            }\n                                            local_failure = 1;\n                                            goto error_0;\n                                        }\n                                    }\n                                    \n                                    int64_t binop_x_26293 = binop_x_26197 + u8_res_26287;\n                                    int64_t new_index_26294 = squot64(binop_x_26293, (int64_t) 1024);\n                                    int64_t binop_y_26295 = (int64_t) 1024 * new_index_26294;\n                                    int64_t binop_x_26296 = binop_x_26293 - binop_y_26295;\n                                    int64_t new_index_26297 = squot64(binop_x_26296, (int64_t) 64);\n                                    int64_t binop_y_26298 = (int64_t) 64 * new_index_26297;\n                                    int64_t binop_x_26299 = binop_x_26296 - binop_y_26298;\n                                    int64_t new_index_26300 = squot64(binop_x_26299, (int64_t) 32);\n", "                                    int64_t binop_y_26301 = (int64_t) 32 * new_index_26300;\n                                    int64_t binop_x_26302 = binop_x_26299 - binop_y_26301;\n                                    int64_t new_index_26303 = squot64(binop_x_26302, (int64_t) 16);\n                                    int64_t binop_y_26304 = (int64_t) 16 * new_index_26303;\n                                    int64_t new_index_26305 = binop_x_26302 - binop_y_26304;\n                                    int8_t defunc_0_f_res_26306 = ((__global int8_t *) mem_107222)[new_index_26294 * (int64_t) 1024 + new_index_26297 * (int64_t) 64 + new_index_26300 * (int64_t) 32 + new_index_26303 * (int64_t) 16 + new_index_26305];\n                                    int64_t u8_res_26307 = zext_i8_i64(defunc_0_f_res_26306);\n                                    bool x_26308 = sle64((int64_t) 0, u8_res_26307);\n                                    bool y_26309 = slt64(u8_res_26307, (int64_t) 16);\n                                    bool bounds_check_26310 = x_26308 && y_26309;\n                                    bool index_ok_26311 = bounds_check_26188 && bounds_check_26310;\n                                    bool index_certs_26312;\n                                    \n                                    if (!index_ok_26311) {\n                                        {\n                                            if (atomic_cmpxchg_i32_global(global_failure, -1, 4) == -1) {\n                                                global_failure_args[0] = (int64_t) x_26184;\n                                                global_failure_args[1] = (int64_t) u8_res_26307;\n                                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                                global_failure_args[3] = (int64_t) (int64_t) 16;\n                                                ;\n                                            }\n                                            local",
                                     "_failure = 1;\n                                            goto error_0;\n                                        }\n                                    }\n                                    \n                                    int64_t binop_x_26313 = binop_x_26189 + u8_res_26307;\n                                    int64_t new_index_26314 = squot64(binop_x_26313, (int64_t) 1024);\n                                    int64_t binop_y_26315 = (int64_t) 1024 * new_index_26314;\n                                    int64_t binop_x_26316 = binop_x_26313 - binop_y_26315;\n                                    int64_t new_index_26317 = squot64(binop_x_26316, (int64_t) 64);\n                                    int64_t binop_y_26318 = (int64_t) 64 * new_index_26317;\n                                    int64_t binop_x_26319 = binop_x_26316 - binop_y_26318;\n                                    int64_t new_index_26320 = squot64(binop_x_26319, (int64_t) 32);\n                                    int64_t binop_y_26321 = (int64_t) 32 * new_index_26320;\n                                    int64_t binop_x_26322 = binop_x_26319 - binop_y_26321;\n                                    int64_t new_index_26323 = squot64(binop_x_26322, (int64_t) 16);\n                                    int64_t binop_y_26324 = (int64_t) 16 * new_index_26323;\n                                    int64_t new_index_26325 = binop_x_26322 - binop_y_26324;\n                                    int8_t defunc_0_f_res_26326 = ((__global int8_t *) mem_107222)[new_index_26314 * (int64_t) 1024 + new_index_26317 * (int64_t) 64 + new_index_26320 * (int64_t) 32 + new_index_26323 * (int64_t) 16 + new_index_26325];\n                                    int64_t u8_res_26327 = zext_i8_i64(defunc_0_f_res_26326);\n                                    bool x_26328 = sle64((int64_t) 0, u8_res_26327);\n                                    bool y_26329 = slt64(u8_res_26327, (int64_t) 16);\n                                    bool bounds_check_26330 = x_263", "28 && y_26329;\n                                    bool index_ok_26331 = bounds_check_26180 && bounds_check_26330;\n                                    bool index_certs_26332;\n                                    \n                                    if (!index_ok_26331) {\n                                        {\n                                            if (atomic_cmpxchg_i32_global(global_failure, -1, 5) == -1) {\n                                                global_failure_args[0] = (int64_t) x_26176;\n                                                global_failure_args[1] = (int64_t) u8_res_26327;\n                                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                                global_failure_args[3] = (int64_t) (int64_t) 16;\n                                                ;\n                                            }\n                                            local_failure = 1;\n                                            goto error_0;\n                                        }\n                                    }\n                                    \n                                    int64_t binop_x_26333 = binop_x_26181 + u8_res_26327;\n                                    int64_t new_index_26334 = squot64(binop_x_26333, (int64_t) 1024);\n                                    int64_t binop_y_26335 = (int64_t) 1024 * new_index_26334;\n                                    int64_t binop_x_26336 = binop_x_26333 - binop_y_26335;\n                                    int64_t new_index_26337 = squot64(binop_x_26336, (int64_t) 64);\n                                    int64_t binop_y_26338 = (int64_t) 64 * new_index_26337;\n                                    int64_t binop_x_26339 = binop_x_26336 - binop_y_26338;\n                                    int64_t new_index_26340 = squot64(binop_x_26339, (int64_t) 32);\n                                    int64_t binop_y_26341 = (int64_t) 32 * new_index_26340;\n          ", "                          int64_t binop_x_26342 = binop_x_26339 - binop_y_26341;\n                                    int64_t new_index_26343 = squot64(binop_x_26342, (int64_t) 16);\n                                    int64_t binop_y_26344 = (int64_t) 16 * new_index_26343;\n                                    int64_t new_index_26345 = binop_x_26342 - binop_y_26344;\n                                    int8_t defunc_0_f_res_26346 = ((__global int8_t *) mem_107222)[new_index_26334 * (int64_t) 1024 + new_index_26337 * (int64_t) 64 + new_index_26340 * (int64_t) 32 + new_index_26343 * (int64_t) 16 + new_index_26345];\n                                    bool binlam_res_26347 = defunc_0_f_res_26346 == y_26226;\n                                    bool binlam_res_26224 = binlam_res_26347 && redout_83625;\n                                    bool redout_tmp_107977 = binlam_res_26224;\n                                    \n                                    redout_83625 = redout_tmp_107977;\n                                }\n                                all_equal_26221 = redout_83625;\n                                \n                                int16_t i64_res_26348 = sext_i64_i16(x_26216);\n                                \n                                mem_107557[(int64_t) 0] = i64_res_26177;\n                                mem_107557[(int64_t) 1] = i64_res_26185;\n                                mem_107557[(int64_t) 2] = i64_res_26193;\n                                mem_107557[(int64_t) 3] = i64_res_26201;\n                                mem_107557[(int64_t) 4] = i64_res_26209;\n                                mem_107557[(int64_t) 5] = i64_res_26348;\n                                mem_107525[i_83594 * (int64_t) 4096 + i_83601 * (int64_t) 512 + i_83608 * (int64_t) 64 + i_83615 * (int64_t) 8 + i_83622] = all_equal_26221;\n                                for (int64_t i_107978 = 0; i_107978 < (int64_t) 6; i_107978++) {\n                                    int16_t tmp_107979 = me",
                                     "m_107557[i_107978];\n                                    \n                                    mem_107526[i_83594 * (int64_t) 24576 + i_83601 * (int64_t) 3072 + i_83608 * (int64_t) 384 + i_83615 * (int64_t) 48 + i_83622 * (int64_t) 6 + i_107978] = tmp_107979;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            for (int64_t i_107980 = 0; i_107980 < (int64_t) 8; i_107980++) {\n                for (int64_t i_107981 = 0; i_107981 < (int64_t) 8; i_107981++) {\n                    for (int64_t i_107982 = 0; i_107982 < (int64_t) 8; i_107982++) {\n                        for (int64_t i_107983 = 0; i_107983 < (int64_t) 8; i_107983++) {\n                            for (int64_t i_107984 = 0; i_107984 < (int64_t) 8; i_107984++) {\n                                bool tmp_107985 = mem_107525[i_107980 * (int64_t) 4096 + i_107981 * (int64_t) 512 + i_107982 * (int64_t) 64 + i_107983 * (int64_t) 8 + i_107984];\n                                \n                                ((__global bool *) mem_107596)[gtid_26174 + (i_107980 * (int64_t) 32768 + i_107981 * (int64_t) 4096 + i_107982 * (int64_t) 512 + i_107983 * (int64_t) 64 + i_107984 * (int64_t) 8)] = tmp_107985;\n                            }\n                        }\n                    }\n                }\n            }\n            for (int64_t i_107986 = 0; i_107986 < (int64_t) 8; i_107986++) {\n                for (int64_t i_107987 = 0; i_107987 < (int64_t) 8; i_107987++) {\n                    for (int64_t i_107988 = 0; i_107988 < (int64_t) 8; i_107988++) {\n                        for (int64_t i_107989 = 0; i_107989 < (int64_t) 8; i_107989++) {\n                            for (int64_t i_107990 = 0; i_107990 < (int64_t) 8; i_107990++) {\n                                for (int64_t i_107991 = 0; i_107991 < (int64_t) 6; i_107991++) {\n                                    int16_t tmp_107992 = mem_107526[i_107986 * (int64_t) 24576 + i_10798", "7 * (int64_t) 3072 + i_107988 * (int64_t) 384 + i_107989 * (int64_t) 48 + i_107990 * (int64_t) 6 + i_107991];\n                                    \n                                    ((__global int16_t *) mem_107597)[gtid_26174 + (i_107986 * (int64_t) 196608 + i_107987 * (int64_t) 24576 + i_107988 * (int64_t) 3072 + i_107989 * (int64_t) 384 + i_107990 * (int64_t) 48 + i_107991 * (int64_t) 8)] = tmp_107992;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_26169\n}\n__kernel void segmap_30967(__global int *global_failure, int64_t binop_x_80583, __global unsigned char *mem_107285, __global unsigned char *mem_107288, __global unsigned char *mem_107290, __global unsigned char *mem_107292)\n{\n    #define segmap_group_sizze_30961 (segmap_group_sizze_30949)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_107995;\n    int64_t group_sizze_107998;\n    int32_t wave_sizze_107997;\n    int32_t group_tid_107996;\n    \n    local_tid_107995 = get_local_id(0);\n    group_sizze_107998 = get_local_size(0);\n    wave_sizze_107997 = LOCKSTEP_WIDTH;\n    group_tid_107996 = get_group_id(0);\n    \n    int32_t global_tid_107994 = group_tid_107996 * group_sizze_107998 + local_tid_107995;\n    int32_t phys_tid_30967 = global_tid_107994;\n    int64_t global_tid_107999 = sext_i32_i64(group_tid_107996) * segmap_group_sizze_30961 + sext_i32_i64(local_tid_107995);\n    int64_t slice_108000 = (int64_t) 8;\n    int64_t gtid_30966 = global_tid_107999;\n    int64_t remnant_108001 = global_tid_107999 - gtid_30966;\n    \n    if (slt64(gtid_30966, (int64_t) 8)) {\n        int64_t binop_x_80584 = gtid_30966 + binop_x_80583;\n        int64_t new_index_80585 = squot64(binop_x_8", "0584, (int64_t) 1688849860263936);\n        int64_t binop_y_80591 = (int64_t) 1688849860263936 * new_index_80585;\n        int64_t binop_x_80592 = binop_x_80584 - binop_y_80591;\n        int64_t new_index_80593 = squot64(binop_x_80592, (int64_t) 3298534883328);\n        int64_t binop_y_80609 = (int64_t) 3298534883328 * new_index_80593;\n        int64_t binop_x_80610 = binop_x_80592 - binop_y_80609;\n        int64_t new_index_80611 = squot64(binop_x_80610, (int64_t) 6442450944);\n        int64_t binop_y_80647 = (int64_t) 6442450944 * new_index_80611;\n        int64_t binop_x_80648 = binop_x_80610 - binop_y_80647;\n        int64_t new_index_80649 = squot64(binop_x_80648, (int64_t) 12582912);\n        int64_t binop_y_80725 = (int64_t) 12582912 * new_index_80649;\n        int64_t binop_x_80726 = binop_x_80648 - binop_y_80725;\n        int64_t new_index_80727 = squot64(binop_x_80726, (int64_t) 24576);\n        int64_t binop_y_80883 = (int64_t) 24576 * new_index_80727;\n        int64_t binop_x_80884 = binop_x_80726 - binop_y_80883;\n        int64_t new_index_80885 = squot64(binop_x_80884, (int64_t) 48);\n        int64_t binop_y_81201 = (int64_t) 48 * new_index_80885;\n        int64_t binop_x_81202 = binop_x_80884 - binop_y_81201;\n        int64_t new_index_81203 = squot64(binop_x_81202, (int64_t) 8);\n        int64_t binop_y_81839 = (int64_t) 8 * new_index_81203;\n        int64_t new_index_81840 = binop_x_81202 - binop_y_81839;\n        int64_t x_30968 = ((__global int64_t *) mem_107285)[new_index_80585 * (int64_t) 1688849860263936 + new_index_80593 * (int64_t) 3298534883328 + new_index_80611 * (int64_t) 6442450944 + new_index_80649 * (int64_t) 12582912 + new_index_80727 * (int64_t) 24576 + new_index_80885 * (int64_t) 48 + new_index_81203 * (int64_t) 8 + new_index_81840];\n        int16_t i64_res_30969 = sext_i64_i16(x_30968);\n        bool x_30970 = sle64((int64_t) 0, x_30968);\n        bool y_30971 = slt64(x_30968, (int64_t) 1024);\n        bool bounds_check_30972 = x_30970 && y_30971;\n        ",
                                     "int64_t binop_x_30973 = (int64_t) 16 * x_30968;\n        \n        ((__global int16_t *) mem_107288)[gtid_30966] = i64_res_30969;\n        ((__global bool *) mem_107290)[gtid_30966] = bounds_check_30972;\n        ((__global int64_t *) mem_107292)[gtid_30966] = binop_x_30973;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_30961\n}\n__kernel void segmap_30988(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t num_groups_30977, int64_t binop_x_73009, int64_t binop_x_74524, int64_t binop_x_76039, int64_t binop_x_77554, int64_t binop_x_79069, int64_t binop_x_80583, int32_t virt_num_groups_108002, __global unsigned char *mem_107211, __global unsigned char *mem_107213, __global unsigned char *mem_107222, __global unsigned char *mem_107245, __global unsigned char *mem_107285, __global unsigned char *mem_107288, __global unsigned char *mem_107290, __global unsigned char *mem_107292, __global unsigned char *mem_107513, __global unsigned char *mem_107514)\n{\n    #define segmap_group_sizze_30976 (segmap_group_sizze_26358)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_108004;\n    int64_t group_sizze_108007;\n    int32_t wave_sizze_108006;\n    int32_t group_tid_108005;\n    \n    local_tid_108004 = get_local_id(0);\n    group_sizze_108007 = get_local_size(0);\n    wave_sizze_108006 = LOCKSTEP_WIDTH;\n    group_tid_108005 = get_group_id(0);\n    \n    int32_t global_tid_108003 = group_tid_108005 * group_sizze_108007 + local_tid_108004;\n    int32_t phys_tid_30988 = global_tid_108003;\n    int32_t phys_group_id_108008;\n    \n    phys_group_id_108008 = get_group_id(0);\n    \n    int32_t iterations_108009 = sdiv_up32(virt_num_groups", "_108002 - phys_group_id_108008, sext_i64_i32(num_groups_30977));\n    \n    for (int32_t i_108010 = 0; i_108010 < iterations_108009; i_108010++) {\n        int32_t virt_group_id_108011 = phys_group_id_108008 + i_108010 * sext_i64_i32(num_groups_30977);\n        int64_t global_tid_108012 = sext_i32_i64(virt_group_id_108011) * segmap_group_sizze_30976 + sext_i32_i64(local_tid_108004);\n        int64_t slice_108013 = (int64_t) 8;\n        int64_t slice_108014 = (int64_t) 8 * slice_108013;\n        int64_t gtid_30986 = squot64(global_tid_108012, slice_108013);\n        int64_t remnant_108015 = global_tid_108012 - gtid_30986 * slice_108013;\n        int64_t gtid_30987 = remnant_108015;\n        int64_t remnant_108016 = remnant_108015 - gtid_30987;\n        \n        if (slt64(gtid_30986, (int64_t) 8) && slt64(gtid_30987, (int64_t) 8)) {\n            int64_t binop_x_33688 = gtid_30986 + binop_x_80583;\n            int64_t new_index_33689 = squot64(binop_x_33688, (int64_t) 1688849860263936);\n            int64_t binop_y_33695 = (int64_t) 1688849860263936 * new_index_33689;\n            int64_t binop_x_33696 = binop_x_33688 - binop_y_33695;\n            int64_t new_index_33697 = squot64(binop_x_33696, (int64_t) 3298534883328);\n            int64_t binop_y_33713 = (int64_t) 3298534883328 * new_index_33697;\n            int64_t binop_x_33714 = binop_x_33696 - binop_y_33713;\n            int64_t new_index_33715 = squot64(binop_x_33714, (int64_t) 6442450944);\n            int64_t binop_y_33751 = (int64_t) 6442450944 * new_index_33715;\n            int64_t binop_x_33752 = binop_x_33714 - binop_y_33751;\n            int64_t new_index_33753 = squot64(binop_x_33752, (int64_t) 12582912);\n            int64_t binop_y_33829 = (int64_t) 12582912 * new_index_33753;\n            int64_t binop_x_33830 = binop_x_33752 - binop_y_33829;\n            int64_t new_index_33831 = squot64(binop_x_33830, (int64_t) 24576);\n            int64_t binop_y_33987 = (int64_t) 24576 * new_index_33831;\n            int64_t binop_x_3398", "8 = binop_x_33830 - binop_y_33987;\n            int64_t new_index_33989 = squot64(binop_x_33988, (int64_t) 48);\n            int64_t binop_y_34305 = (int64_t) 48 * new_index_33989;\n            int64_t binop_x_34306 = binop_x_33988 - binop_y_34305;\n            int64_t new_index_34307 = squot64(binop_x_34306, (int64_t) 8);\n            int64_t binop_y_34943 = (int64_t) 8 * new_index_34307;\n            int64_t new_index_34944 = binop_x_34306 - binop_y_34943;\n            int64_t x_30989 = ((__global int64_t *) mem_107285)[new_index_33689 * (int64_t) 1688849860263936 + new_index_33697 * (int64_t) 3298534883328 + new_index_33715 * (int64_t) 6442450944 + new_index_33753 * (int64_t) 12582912 + new_index_33831 * (int64_t) 24576 + new_index_33989 * (int64_t) 48 + new_index_34307 * (int64_t) 8 + new_index_34944];\n            int16_t i64_res_30990 = ((__global int16_t *) mem_107288)[gtid_30986];\n            bool bounds_check_30991 = ((__global bool *) mem_107290)[gtid_30986];\n            int64_t binop_x_30992 = ((__global int64_t *) mem_107292)[gtid_30986];\n            int64_t binop_x_34947 = gtid_30987 + binop_x_79069;\n            int64_t new_index_34948 = squot64(binop_x_34947, (int64_t) 1688849860263936);\n            int64_t binop_y_34956 = (int64_t) 1688849860263936 * new_index_34948;\n            int64_t binop_x_34957 = binop_x_34947 - binop_y_34956;\n            int64_t new_index_34958 = squot64(binop_x_34957, (int64_t) 3298534883328);\n            int64_t binop_y_34978 = (int64_t) 3298534883328 * new_index_34958;\n            int64_t binop_x_34979 = binop_x_34957 - binop_y_34978;\n            int64_t new_index_34980 = squot64(binop_x_34979, (int64_t) 6442450944);\n            int64_t binop_y_35024 = (int64_t) 6442450944 * new_index_34980;\n            int64_t binop_x_35025 = binop_x_34979 - binop_y_35024;\n            int64_t new_index_35026 = squot64(binop_x_35025, (int64_t) 12582912);\n            int64_t binop_y_35118 = (int64_t) 12582912 * new_index_35026;\n            int64_t bi",
                                     "nop_x_35119 = binop_x_35025 - binop_y_35118;\n            int64_t new_index_35120 = squot64(binop_x_35119, (int64_t) 24576);\n            int64_t binop_y_35308 = (int64_t) 24576 * new_index_35120;\n            int64_t binop_x_35309 = binop_x_35119 - binop_y_35308;\n            int64_t new_index_35310 = squot64(binop_x_35309, (int64_t) 48);\n            int64_t binop_y_35690 = (int64_t) 48 * new_index_35310;\n            int64_t binop_x_35691 = binop_x_35309 - binop_y_35690;\n            int64_t new_index_35692 = squot64(binop_x_35691, (int64_t) 8);\n            int64_t binop_y_36456 = (int64_t) 8 * new_index_35692;\n            int64_t new_index_36457 = binop_x_35691 - binop_y_36456;\n            int64_t x_30993 = ((__global int64_t *) mem_107285)[new_index_34948 * (int64_t) 1688849860263936 + new_index_34958 * (int64_t) 3298534883328 + new_index_34980 * (int64_t) 6442450944 + new_index_35026 * (int64_t) 12582912 + new_index_35120 * (int64_t) 24576 + new_index_35310 * (int64_t) 48 + new_index_35692 * (int64_t) 8 + new_index_36457];\n            int16_t i64_res_30994 = sext_i64_i16(x_30993);\n            bool x_30995 = sle64((int64_t) 0, x_30993);\n            bool y_30996 = slt64(x_30993, (int64_t) 1024);\n            bool bounds_check_30997 = x_30995 && y_30996;\n            int64_t binop_x_30998 = (int64_t) 16 * x_30993;\n            bool mem_107464[(int64_t) 8 * (int64_t) 8 * (int64_t) 8 * (int64_t) 8];\n            int16_t mem_107465[(int64_t) 8 * (int64_t) 8 * (int64_t) 8 * (int64_t) 8 * (int64_t) 6];\n            int16_t mem_107486[(int64_t) 6];\n            \n            for (int64_t i_83631 = 0; i_83631 < (int64_t) 8; i_83631++) {\n                int64_t binop_x_91276 = binop_x_77554 + i_83631;\n                int64_t new_index_91277 = squot64(binop_x_91276, (int64_t) 1688849860263936);\n                int64_t binop_y_91285 = (int64_t) 1688849860263936 * new_index_91277;\n                int64_t binop_x_91286 = binop_x_91276 - binop_y_91285;\n                int64_t new_index_912", "87 = squot64(binop_x_91286, (int64_t) 3298534883328);\n                int64_t binop_y_91307 = (int64_t) 3298534883328 * new_index_91287;\n                int64_t binop_x_91308 = binop_x_91286 - binop_y_91307;\n                int64_t new_index_91309 = squot64(binop_x_91308, (int64_t) 6442450944);\n                int64_t binop_y_91353 = (int64_t) 6442450944 * new_index_91309;\n                int64_t binop_x_91354 = binop_x_91308 - binop_y_91353;\n                int64_t new_index_91355 = squot64(binop_x_91354, (int64_t) 12582912);\n                int64_t binop_y_91447 = (int64_t) 12582912 * new_index_91355;\n                int64_t binop_x_91448 = binop_x_91354 - binop_y_91447;\n                int64_t new_index_91449 = squot64(binop_x_91448, (int64_t) 24576);\n                int64_t binop_y_91637 = (int64_t) 24576 * new_index_91449;\n                int64_t binop_x_91638 = binop_x_91448 - binop_y_91637;\n                int64_t new_index_91639 = squot64(binop_x_91638, (int64_t) 48);\n                int64_t binop_y_92019 = (int64_t) 48 * new_index_91639;\n                int64_t binop_x_92020 = binop_x_91638 - binop_y_92019;\n                int64_t new_index_92021 = squot64(binop_x_92020, (int64_t) 8);\n                int64_t binop_y_92785 = (int64_t) 8 * new_index_92021;\n                int64_t new_index_92786 = binop_x_92020 - binop_y_92785;\n                int64_t x_31001 = ((__global int64_t *) mem_107245)[new_index_92021 * (int64_t) 144115188075855872 + new_index_92786 * (int64_t) 18014398509481984 + new_index_91277 * (int64_t) 35184372088832 + new_index_91287 * (int64_t) 68719476736 + new_index_91309 * (int64_t) 134217728 + new_index_91355 * (int64_t) 262144 + new_index_91449 * (int64_t) 512 + new_index_91639];\n                int16_t i64_res_31002 = sext_i64_i16(x_31001);\n                bool x_31003 = sle64((int64_t) 0, x_31001);\n                bool y_31004 = slt64(x_31001, (int64_t) 1024);\n                bool bounds_check_31005 = x_31003 && y_31004;\n              ", "  int64_t binop_x_31006 = (int64_t) 16 * x_31001;\n                \n                for (int64_t i_83638 = 0; i_83638 < (int64_t) 8; i_83638++) {\n                    int64_t binop_x_92789 = binop_x_76039 + i_83638;\n                    int64_t new_index_92790 = squot64(binop_x_92789, (int64_t) 1688849860263936);\n                    int64_t binop_y_92798 = (int64_t) 1688849860263936 * new_index_92790;\n                    int64_t binop_x_92799 = binop_x_92789 - binop_y_92798;\n                    int64_t new_index_92800 = squot64(binop_x_92799, (int64_t) 3298534883328);\n                    int64_t binop_y_92820 = (int64_t) 3298534883328 * new_index_92800;\n                    int64_t binop_x_92821 = binop_x_92799 - binop_y_92820;\n                    int64_t new_index_92822 = squot64(binop_x_92821, (int64_t) 6442450944);\n                    int64_t binop_y_92866 = (int64_t) 6442450944 * new_index_92822;\n                    int64_t binop_x_92867 = binop_x_92821 - binop_y_92866;\n                    int64_t new_index_92868 = squot64(binop_x_92867, (int64_t) 12582912);\n                    int64_t binop_y_92960 = (int64_t) 12582912 * new_index_92868;\n                    int64_t binop_x_92961 = binop_x_92867 - binop_y_92960;\n                    int64_t new_index_92962 = squot64(binop_x_92961, (int64_t) 24576);\n                    int64_t binop_y_93150 = (int64_t) 24576 * new_index_92962;\n                    int64_t binop_x_93151 = binop_x_92961 - binop_y_93150;\n                    int64_t new_index_93152 = squot64(binop_x_93151, (int64_t) 48);\n                    int64_t binop_y_93532 = (int64_t) 48 * new_index_93152;\n                    int64_t binop_x_93533 = binop_x_93151 - binop_y_93532;\n                    int64_t new_index_93534 = squot64(binop_x_93533, (int64_t) 8);\n                    int64_t binop_y_94298 = (int64_t) 8 * new_index_93534;\n                    int64_t new_index_94299 = binop_x_93533 - binop_y_94298;\n                    int64_t x_31009 = ((__global int64_t ",
                                     "*) mem_107245)[new_index_93534 * (int64_t) 144115188075855872 + new_index_94299 * (int64_t) 18014398509481984 + new_index_92790 * (int64_t) 35184372088832 + new_index_92800 * (int64_t) 68719476736 + new_index_92822 * (int64_t) 134217728 + new_index_92868 * (int64_t) 262144 + new_index_92962 * (int64_t) 512 + new_index_93152];\n                    int16_t i64_res_31010 = sext_i64_i16(x_31009);\n                    bool x_31011 = sle64((int64_t) 0, x_31009);\n                    bool y_31012 = slt64(x_31009, (int64_t) 1024);\n                    bool bounds_check_31013 = x_31011 && y_31012;\n                    int64_t binop_x_31014 = (int64_t) 16 * x_31009;\n                    \n                    for (int64_t i_83645 = 0; i_83645 < (int64_t) 8; i_83645++) {\n                        int64_t binop_x_94302 = binop_x_74524 + i_83645;\n                        int64_t new_index_94303 = squot64(binop_x_94302, (int64_t) 1688849860263936);\n                        int64_t binop_y_94311 = (int64_t) 1688849860263936 * new_index_94303;\n                        int64_t binop_x_94312 = binop_x_94302 - binop_y_94311;\n                        int64_t new_index_94313 = squot64(binop_x_94312, (int64_t) 3298534883328);\n                        int64_t binop_y_94333 = (int64_t) 3298534883328 * new_index_94313;\n                        int64_t binop_x_94334 = binop_x_94312 - binop_y_94333;\n                        int64_t new_index_94335 = squot64(binop_x_94334, (int64_t) 6442450944);\n                        int64_t binop_y_94379 = (int64_t) 6442450944 * new_index_94335;\n                        int64_t binop_x_94380 = binop_x_94334 - binop_y_94379;\n                        int64_t new_index_94381 = squot64(binop_x_94380, (int64_t) 12582912);\n                        int64_t binop_y_94473 = (int64_t) 12582912 * new_index_94381;\n                        int64_t binop_x_94474 = binop_x_94380 - binop_y_94473;\n                        int64_t new_index_94475 = squot64(binop_x_94474, (int64_t) 24576);\n       ", "                 int64_t binop_y_94663 = (int64_t) 24576 * new_index_94475;\n                        int64_t binop_x_94664 = binop_x_94474 - binop_y_94663;\n                        int64_t new_index_94665 = squot64(binop_x_94664, (int64_t) 48);\n                        int64_t binop_y_95045 = (int64_t) 48 * new_index_94665;\n                        int64_t binop_x_95046 = binop_x_94664 - binop_y_95045;\n                        int64_t new_index_95047 = squot64(binop_x_95046, (int64_t) 8);\n                        int64_t binop_y_95811 = (int64_t) 8 * new_index_95047;\n                        int64_t new_index_95812 = binop_x_95046 - binop_y_95811;\n                        int64_t x_31017 = ((__global int64_t *) mem_107245)[new_index_95047 * (int64_t) 144115188075855872 + new_index_95812 * (int64_t) 18014398509481984 + new_index_94303 * (int64_t) 35184372088832 + new_index_94313 * (int64_t) 68719476736 + new_index_94335 * (int64_t) 134217728 + new_index_94381 * (int64_t) 262144 + new_index_94475 * (int64_t) 512 + new_index_94665];\n                        int16_t i64_res_31018 = sext_i64_i16(x_31017);\n                        bool x_31019 = sle64((int64_t) 0, x_31017);\n                        bool y_31020 = slt64(x_31017, (int64_t) 1024);\n                        bool bounds_check_31021 = x_31019 && y_31020;\n                        int64_t binop_x_31022 = (int64_t) 16 * x_31017;\n                        \n                        for (int64_t i_83652 = 0; i_83652 < (int64_t) 8; i_83652++) {\n                            int64_t binop_x_95815 = binop_x_73009 + i_83652;\n                            int64_t new_index_95816 = squot64(binop_x_95815, (int64_t) 1688849860263936);\n                            int64_t binop_y_95824 = (int64_t) 1688849860263936 * new_index_95816;\n                            int64_t binop_x_95825 = binop_x_95815 - binop_y_95824;\n                            int64_t new_index_95826 = squot64(binop_x_95825, (int64_t) 3298534883328);\n                            int6", "4_t binop_y_95846 = (int64_t) 3298534883328 * new_index_95826;\n                            int64_t binop_x_95847 = binop_x_95825 - binop_y_95846;\n                            int64_t new_index_95848 = squot64(binop_x_95847, (int64_t) 6442450944);\n                            int64_t binop_y_95892 = (int64_t) 6442450944 * new_index_95848;\n                            int64_t binop_x_95893 = binop_x_95847 - binop_y_95892;\n                            int64_t new_index_95894 = squot64(binop_x_95893, (int64_t) 12582912);\n                            int64_t binop_y_95986 = (int64_t) 12582912 * new_index_95894;\n                            int64_t binop_x_95987 = binop_x_95893 - binop_y_95986;\n                            int64_t new_index_95988 = squot64(binop_x_95987, (int64_t) 24576);\n                            int64_t binop_y_96176 = (int64_t) 24576 * new_index_95988;\n                            int64_t binop_x_96177 = binop_x_95987 - binop_y_96176;\n                            int64_t new_index_96178 = squot64(binop_x_96177, (int64_t) 48);\n                            int64_t binop_y_96558 = (int64_t) 48 * new_index_96178;\n                            int64_t binop_x_96559 = binop_x_96177 - binop_y_96558;\n                            int64_t new_index_96560 = squot64(binop_x_96559, (int64_t) 8);\n                            int64_t binop_y_97324 = (int64_t) 8 * new_index_96560;\n                            int64_t new_index_97325 = binop_x_96559 - binop_y_97324;\n                            int64_t x_31025 = ((__global int64_t *) mem_107245)[new_index_96560 * (int64_t) 144115188075855872 + new_index_97325 * (int64_t) 18014398509481984 + new_index_95816 * (int64_t) 35184372088832 + new_index_95826 * (int64_t) 68719476736 + new_index_95848 * (int64_t) 134217728 + new_index_95894 * (int64_t) 262144 + new_index_95988 * (int64_t) 512 + new_index_96178];\n                            bool x_31026 = sle64((int64_t) 0, x_31025);\n                            bool y_31027 = slt64(x_31025, (i",
                                     "nt64_t) 1024);\n                            bool bounds_check_31028 = x_31026 && y_31027;\n                            int64_t binop_x_31029 = (int64_t) 16 * x_31025;\n                            bool all_equal_31030;\n                            bool redout_83655 = 1;\n                            \n                            for (int64_t i_83656 = 0; i_83656 < (int64_t) 16; i_83656++) {\n                                int8_t x_31034 = ((__global int8_t *) mem_107211)[i_83656];\n                                int8_t y_31035 = ((__global int8_t *) mem_107213)[i_83656];\n                                int64_t u8_res_31036 = zext_i8_i64(x_31034);\n                                bool x_31037 = sle64((int64_t) 0, u8_res_31036);\n                                bool y_31038 = slt64(u8_res_31036, (int64_t) 16);\n                                bool bounds_check_31039 = x_31037 && y_31038;\n                                bool index_ok_31040 = bounds_check_31028 && bounds_check_31039;\n                                bool index_certs_31041;\n                                \n                                if (!index_ok_31040) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 6) == -1) {\n                                            global_failure_args[0] = (int64_t) x_31025;\n                                            global_failure_args[1] = (int64_t) u8_res_31036;\n                                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_0;\n                                    }\n                                }\n                                \n                                int64_t binop_x_31042 = b", "inop_x_31029 + u8_res_31036;\n                                int64_t new_index_31043 = squot64(binop_x_31042, (int64_t) 1024);\n                                int64_t binop_y_31044 = (int64_t) 1024 * new_index_31043;\n                                int64_t binop_x_31045 = binop_x_31042 - binop_y_31044;\n                                int64_t new_index_31046 = squot64(binop_x_31045, (int64_t) 64);\n                                int64_t binop_y_31047 = (int64_t) 64 * new_index_31046;\n                                int64_t binop_x_31048 = binop_x_31045 - binop_y_31047;\n                                int64_t new_index_31049 = squot64(binop_x_31048, (int64_t) 32);\n                                int64_t binop_y_31050 = (int64_t) 32 * new_index_31049;\n                                int64_t binop_x_31051 = binop_x_31048 - binop_y_31050;\n                                int64_t new_index_31052 = squot64(binop_x_31051, (int64_t) 16);\n                                int64_t binop_y_31053 = (int64_t) 16 * new_index_31052;\n                                int64_t new_index_31054 = binop_x_31051 - binop_y_31053;\n                                int8_t defunc_0_f_res_31055 = ((__global int8_t *) mem_107222)[new_index_31043 * (int64_t) 1024 + new_index_31046 * (int64_t) 64 + new_index_31049 * (int64_t) 32 + new_index_31052 * (int64_t) 16 + new_index_31054];\n                                int64_t u8_res_31056 = zext_i8_i64(defunc_0_f_res_31055);\n                                bool x_31057 = sle64((int64_t) 0, u8_res_31056);\n                                bool y_31058 = slt64(u8_res_31056, (int64_t) 16);\n                                bool bounds_check_31059 = x_31057 && y_31058;\n                                bool index_ok_31060 = bounds_check_31021 && bounds_check_31059;\n                                bool index_certs_31061;\n                                \n                                if (!index_ok_31060) {\n                                    {\n                         ", "               if (atomic_cmpxchg_i32_global(global_failure, -1, 7) == -1) {\n                                            global_failure_args[0] = (int64_t) x_31017;\n                                            global_failure_args[1] = (int64_t) u8_res_31056;\n                                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_0;\n                                    }\n                                }\n                                \n                                int64_t binop_x_31062 = binop_x_31022 + u8_res_31056;\n                                int64_t new_index_31063 = squot64(binop_x_31062, (int64_t) 1024);\n                                int64_t binop_y_31064 = (int64_t) 1024 * new_index_31063;\n                                int64_t binop_x_31065 = binop_x_31062 - binop_y_31064;\n                                int64_t new_index_31066 = squot64(binop_x_31065, (int64_t) 64);\n                                int64_t binop_y_31067 = (int64_t) 64 * new_index_31066;\n                                int64_t binop_x_31068 = binop_x_31065 - binop_y_31067;\n                                int64_t new_index_31069 = squot64(binop_x_31068, (int64_t) 32);\n                                int64_t binop_y_31070 = (int64_t) 32 * new_index_31069;\n                                int64_t binop_x_31071 = binop_x_31068 - binop_y_31070;\n                                int64_t new_index_31072 = squot64(binop_x_31071, (int64_t) 16);\n                                int64_t binop_y_31073 = (int64_t) 16 * new_index_31072;\n                                int64_t new_index_31074 = binop_x_31071 - binop_y_31073;\n                                int8_t defunc_0_f_res_31075 = ((__global",
                                     " int8_t *) mem_107222)[new_index_31063 * (int64_t) 1024 + new_index_31066 * (int64_t) 64 + new_index_31069 * (int64_t) 32 + new_index_31072 * (int64_t) 16 + new_index_31074];\n                                int64_t u8_res_31076 = zext_i8_i64(defunc_0_f_res_31075);\n                                bool x_31077 = sle64((int64_t) 0, u8_res_31076);\n                                bool y_31078 = slt64(u8_res_31076, (int64_t) 16);\n                                bool bounds_check_31079 = x_31077 && y_31078;\n                                bool index_ok_31080 = bounds_check_31013 && bounds_check_31079;\n                                bool index_certs_31081;\n                                \n                                if (!index_ok_31080) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 8) == -1) {\n                                            global_failure_args[0] = (int64_t) x_31009;\n                                            global_failure_args[1] = (int64_t) u8_res_31076;\n                                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_0;\n                                    }\n                                }\n                                \n                                int64_t binop_x_31082 = binop_x_31014 + u8_res_31076;\n                                int64_t new_index_31083 = squot64(binop_x_31082, (int64_t) 1024);\n                                int64_t binop_y_31084 = (int64_t) 1024 * new_index_31083;\n                                int64_t binop_x_31085 = binop_x_31082 - binop_y_31084;\n                                int64_t new_index_31086 = squot64(binop_x_3108", "5, (int64_t) 64);\n                                int64_t binop_y_31087 = (int64_t) 64 * new_index_31086;\n                                int64_t binop_x_31088 = binop_x_31085 - binop_y_31087;\n                                int64_t new_index_31089 = squot64(binop_x_31088, (int64_t) 32);\n                                int64_t binop_y_31090 = (int64_t) 32 * new_index_31089;\n                                int64_t binop_x_31091 = binop_x_31088 - binop_y_31090;\n                                int64_t new_index_31092 = squot64(binop_x_31091, (int64_t) 16);\n                                int64_t binop_y_31093 = (int64_t) 16 * new_index_31092;\n                                int64_t new_index_31094 = binop_x_31091 - binop_y_31093;\n                                int8_t defunc_0_f_res_31095 = ((__global int8_t *) mem_107222)[new_index_31083 * (int64_t) 1024 + new_index_31086 * (int64_t) 64 + new_index_31089 * (int64_t) 32 + new_index_31092 * (int64_t) 16 + new_index_31094];\n                                int64_t u8_res_31096 = zext_i8_i64(defunc_0_f_res_31095);\n                                bool x_31097 = sle64((int64_t) 0, u8_res_31096);\n                                bool y_31098 = slt64(u8_res_31096, (int64_t) 16);\n                                bool bounds_check_31099 = x_31097 && y_31098;\n                                bool index_ok_31100 = bounds_check_31005 && bounds_check_31099;\n                                bool index_certs_31101;\n                                \n                                if (!index_ok_31100) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 9) == -1) {\n                                            global_failure_args[0] = (int64_t) x_31001;\n                                            global_failure_args[1] = (int64_t) u8_res_31096;\n                                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                             ", "               global_failure_args[3] = (int64_t) (int64_t) 16;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_0;\n                                    }\n                                }\n                                \n                                int64_t binop_x_31102 = binop_x_31006 + u8_res_31096;\n                                int64_t new_index_31103 = squot64(binop_x_31102, (int64_t) 1024);\n                                int64_t binop_y_31104 = (int64_t) 1024 * new_index_31103;\n                                int64_t binop_x_31105 = binop_x_31102 - binop_y_31104;\n                                int64_t new_index_31106 = squot64(binop_x_31105, (int64_t) 64);\n                                int64_t binop_y_31107 = (int64_t) 64 * new_index_31106;\n                                int64_t binop_x_31108 = binop_x_31105 - binop_y_31107;\n                                int64_t new_index_31109 = squot64(binop_x_31108, (int64_t) 32);\n                                int64_t binop_y_31110 = (int64_t) 32 * new_index_31109;\n                                int64_t binop_x_31111 = binop_x_31108 - binop_y_31110;\n                                int64_t new_index_31112 = squot64(binop_x_31111, (int64_t) 16);\n                                int64_t binop_y_31113 = (int64_t) 16 * new_index_31112;\n                                int64_t new_index_31114 = binop_x_31111 - binop_y_31113;\n                                int8_t defunc_0_f_res_31115 = ((__global int8_t *) mem_107222)[new_index_31103 * (int64_t) 1024 + new_index_31106 * (int64_t) 64 + new_index_31109 * (int64_t) 32 + new_index_31112 * (int64_t) 16 + new_index_31114];\n                                int64_t u8_res_31116 = zext_i8_i64(defunc_0_f_res_31115);\n                                bool x_31117 = sle64((int64_t) 0, u8_res_31116);\n                                bool",
                                     " y_31118 = slt64(u8_res_31116, (int64_t) 16);\n                                bool bounds_check_31119 = x_31117 && y_31118;\n                                bool index_ok_31120 = bounds_check_30997 && bounds_check_31119;\n                                bool index_certs_31121;\n                                \n                                if (!index_ok_31120) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 10) == -1) {\n                                            global_failure_args[0] = (int64_t) x_30993;\n                                            global_failure_args[1] = (int64_t) u8_res_31116;\n                                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_0;\n                                    }\n                                }\n                                \n                                int64_t binop_x_31122 = binop_x_30998 + u8_res_31116;\n                                int64_t new_index_31123 = squot64(binop_x_31122, (int64_t) 1024);\n                                int64_t binop_y_31124 = (int64_t) 1024 * new_index_31123;\n                                int64_t binop_x_31125 = binop_x_31122 - binop_y_31124;\n                                int64_t new_index_31126 = squot64(binop_x_31125, (int64_t) 64);\n                                int64_t binop_y_31127 = (int64_t) 64 * new_index_31126;\n                                int64_t binop_x_31128 = binop_x_31125 - binop_y_31127;\n                                int64_t new_index_31129 = squot64(binop_x_31128, (int64_t) 32);\n                                int64_t binop_y_31130 = (int64_t) 32 * new_index_31129;\n    ", "                            int64_t binop_x_31131 = binop_x_31128 - binop_y_31130;\n                                int64_t new_index_31132 = squot64(binop_x_31131, (int64_t) 16);\n                                int64_t binop_y_31133 = (int64_t) 16 * new_index_31132;\n                                int64_t new_index_31134 = binop_x_31131 - binop_y_31133;\n                                int8_t defunc_0_f_res_31135 = ((__global int8_t *) mem_107222)[new_index_31123 * (int64_t) 1024 + new_index_31126 * (int64_t) 64 + new_index_31129 * (int64_t) 32 + new_index_31132 * (int64_t) 16 + new_index_31134];\n                                int64_t u8_res_31136 = zext_i8_i64(defunc_0_f_res_31135);\n                                bool x_31137 = sle64((int64_t) 0, u8_res_31136);\n                                bool y_31138 = slt64(u8_res_31136, (int64_t) 16);\n                                bool bounds_check_31139 = x_31137 && y_31138;\n                                bool index_ok_31140 = bounds_check_30991 && bounds_check_31139;\n                                bool index_certs_31141;\n                                \n                                if (!index_ok_31140) {\n                                    {\n                                        if (atomic_cmpxchg_i32_global(global_failure, -1, 11) == -1) {\n                                            global_failure_args[0] = (int64_t) x_30989;\n                                            global_failure_args[1] = (int64_t) u8_res_31136;\n                                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                                            ;\n                                        }\n                                        local_failure = 1;\n                                        goto error_0;\n                                    }\n                                }\n                                \n          ", "                      int64_t binop_x_31142 = binop_x_30992 + u8_res_31136;\n                                int64_t new_index_31143 = squot64(binop_x_31142, (int64_t) 1024);\n                                int64_t binop_y_31144 = (int64_t) 1024 * new_index_31143;\n                                int64_t binop_x_31145 = binop_x_31142 - binop_y_31144;\n                                int64_t new_index_31146 = squot64(binop_x_31145, (int64_t) 64);\n                                int64_t binop_y_31147 = (int64_t) 64 * new_index_31146;\n                                int64_t binop_x_31148 = binop_x_31145 - binop_y_31147;\n                                int64_t new_index_31149 = squot64(binop_x_31148, (int64_t) 32);\n                                int64_t binop_y_31150 = (int64_t) 32 * new_index_31149;\n                                int64_t binop_x_31151 = binop_x_31148 - binop_y_31150;\n                                int64_t new_index_31152 = squot64(binop_x_31151, (int64_t) 16);\n                                int64_t binop_y_31153 = (int64_t) 16 * new_index_31152;\n                                int64_t new_index_31154 = binop_x_31151 - binop_y_31153;\n                                int8_t defunc_0_f_res_31155 = ((__global int8_t *) mem_107222)[new_index_31143 * (int64_t) 1024 + new_index_31146 * (int64_t) 64 + new_index_31149 * (int64_t) 32 + new_index_31152 * (int64_t) 16 + new_index_31154];\n                                bool binlam_res_31156 = defunc_0_f_res_31155 == y_31035;\n                                bool binlam_res_31033 = binlam_res_31156 && redout_83655;\n                                bool redout_tmp_108025 = binlam_res_31033;\n                                \n                                redout_83655 = redout_tmp_108025;\n                            }\n                            all_equal_31030 = redout_83655;\n                            \n                            int16_t i64_res_31157 = sext_i64_i16(x_31025);\n                            \n           ",
                                     "                 mem_107486[(int64_t) 0] = i64_res_30990;\n                            mem_107486[(int64_t) 1] = i64_res_30994;\n                            mem_107486[(int64_t) 2] = i64_res_31002;\n                            mem_107486[(int64_t) 3] = i64_res_31010;\n                            mem_107486[(int64_t) 4] = i64_res_31018;\n                            mem_107486[(int64_t) 5] = i64_res_31157;\n                            mem_107464[i_83631 * (int64_t) 512 + i_83638 * (int64_t) 64 + i_83645 * (int64_t) 8 + i_83652] = all_equal_31030;\n                            for (int64_t i_108026 = 0; i_108026 < (int64_t) 6; i_108026++) {\n                                int16_t tmp_108027 = mem_107486[i_108026];\n                                \n                                mem_107465[i_83631 * (int64_t) 3072 + i_83638 * (int64_t) 384 + i_83645 * (int64_t) 48 + i_83652 * (int64_t) 6 + i_108026] = tmp_108027;\n                            }\n                        }\n                    }\n                }\n            }\n            for (int64_t i_108028 = 0; i_108028 < (int64_t) 8; i_108028++) {\n                for (int64_t i_108029 = 0; i_108029 < (int64_t) 8; i_108029++) {\n                    for (int64_t i_108030 = 0; i_108030 < (int64_t) 8; i_108030++) {\n                        for (int64_t i_108031 = 0; i_108031 < (int64_t) 8; i_108031++) {\n                            bool tmp_108032 = mem_107464[i_108028 * (int64_t) 512 + i_108029 * (int64_t) 64 + i_108030 * (int64_t) 8 + i_108031];\n                            \n                            ((__global bool *) mem_107513)[gtid_30986 * (int64_t) 8 + gtid_30987 + (i_108028 * (int64_t) 32768 + i_108029 * (int64_t) 4096 + i_108030 * (int64_t) 512 + i_108031 * (int64_t) 64)] = tmp_108032;\n                        }\n                    }\n                }\n            }\n            for (int64_t i_108033 = 0; i_108033 < (int64_t) 8; i_108033++) {\n                for (int64_t i_108034 = 0; i_108034 < (int64_t) 8; i_108034++) {\n      ", "              for (int64_t i_108035 = 0; i_108035 < (int64_t) 8; i_108035++) {\n                        for (int64_t i_108036 = 0; i_108036 < (int64_t) 8; i_108036++) {\n                            for (int64_t i_108037 = 0; i_108037 < (int64_t) 6; i_108037++) {\n                                int16_t tmp_108038 = mem_107465[i_108033 * (int64_t) 3072 + i_108034 * (int64_t) 384 + i_108035 * (int64_t) 48 + i_108036 * (int64_t) 6 + i_108037];\n                                \n                                ((__global int16_t *) mem_107514)[gtid_30986 * (int64_t) 8 + gtid_30987 + (i_108033 * (int64_t) 196608 + i_108034 * (int64_t) 24576 + i_108035 * (int64_t) 3072 + i_108036 * (int64_t) 384 + i_108037 * (int64_t) 64)] = tmp_108038;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_30976\n}\n__kernel void segmap_31168(__global int *global_failure, int64_t binop_x_79069, __global unsigned char *mem_107285, __global unsigned char *mem_107295, __global unsigned char *mem_107297, __global unsigned char *mem_107299)\n{\n    #define segmap_group_sizze_31161 (segmap_group_sizze_29878)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_108041;\n    int64_t group_sizze_108044;\n    int32_t wave_sizze_108043;\n    int32_t group_tid_108042;\n    \n    local_tid_108041 = get_local_id(0);\n    group_sizze_108044 = get_local_size(0);\n    wave_sizze_108043 = LOCKSTEP_WIDTH;\n    group_tid_108042 = get_group_id(0);\n    \n    int32_t global_tid_108040 = group_tid_108042 * group_sizze_108044 + local_tid_108041;\n    int32_t phys_tid_31168 = global_tid_108040;\n    int64_t global_tid_108045 = sext_i32_i64(group_tid_108042) * segmap_group_sizze_31161 + sext_i32_i64(local_tid_108041);\n    int64_t", " slice_108046 = (int64_t) 8;\n    int64_t slice_108047 = (int64_t) 8 * slice_108046;\n    int64_t gtid_31166 = squot64(global_tid_108045, slice_108046);\n    int64_t remnant_108048 = global_tid_108045 - gtid_31166 * slice_108046;\n    int64_t gtid_31167 = remnant_108048;\n    int64_t remnant_108049 = remnant_108048 - gtid_31167;\n    \n    if (slt64(gtid_31166, (int64_t) 8) && slt64(gtid_31167, (int64_t) 8)) {\n        int64_t binop_x_79070 = gtid_31167 + binop_x_79069;\n        int64_t new_index_79071 = squot64(binop_x_79070, (int64_t) 1688849860263936);\n        int64_t binop_y_79079 = (int64_t) 1688849860263936 * new_index_79071;\n        int64_t binop_x_79080 = binop_x_79070 - binop_y_79079;\n        int64_t new_index_79081 = squot64(binop_x_79080, (int64_t) 3298534883328);\n        int64_t binop_y_79101 = (int64_t) 3298534883328 * new_index_79081;\n        int64_t binop_x_79102 = binop_x_79080 - binop_y_79101;\n        int64_t new_index_79103 = squot64(binop_x_79102, (int64_t) 6442450944);\n        int64_t binop_y_79147 = (int64_t) 6442450944 * new_index_79103;\n        int64_t binop_x_79148 = binop_x_79102 - binop_y_79147;\n        int64_t new_index_79149 = squot64(binop_x_79148, (int64_t) 12582912);\n        int64_t binop_y_79241 = (int64_t) 12582912 * new_index_79149;\n        int64_t binop_x_79242 = binop_x_79148 - binop_y_79241;\n        int64_t new_index_79243 = squot64(binop_x_79242, (int64_t) 24576);\n        int64_t binop_y_79431 = (int64_t) 24576 * new_index_79243;\n        int64_t binop_x_79432 = binop_x_79242 - binop_y_79431;\n        int64_t new_index_79433 = squot64(binop_x_79432, (int64_t) 48);\n        int64_t binop_y_79813 = (int64_t) 48 * new_index_79433;\n        int64_t binop_x_79814 = binop_x_79432 - binop_y_79813;\n        int64_t new_index_79815 = squot64(binop_x_79814, (int64_t) 8);\n        int64_t binop_y_80579 = (int64_t) 8 * new_index_79815;\n        int64_t new_index_80580 = binop_x_79814 - binop_y_80579;\n        int64_t x_31169 = ((__global int64_t *) mem_1072",
                                     "85)[new_index_79071 * (int64_t) 1688849860263936 + new_index_79081 * (int64_t) 3298534883328 + new_index_79103 * (int64_t) 6442450944 + new_index_79149 * (int64_t) 12582912 + new_index_79243 * (int64_t) 24576 + new_index_79433 * (int64_t) 48 + new_index_79815 * (int64_t) 8 + new_index_80580];\n        int16_t i64_res_31170 = sext_i64_i16(x_31169);\n        bool x_31171 = sle64((int64_t) 0, x_31169);\n        bool y_31172 = slt64(x_31169, (int64_t) 1024);\n        bool bounds_check_31173 = x_31171 && y_31172;\n        int64_t binop_x_31174 = (int64_t) 16 * x_31169;\n        \n        ((__global int16_t *) mem_107295)[gtid_31166 * (int64_t) 8 + gtid_31167] = i64_res_31170;\n        ((__global bool *) mem_107297)[gtid_31166 * (int64_t) 8 + gtid_31167] = bounds_check_31173;\n        ((__global int64_t *) mem_107299)[gtid_31166 * (int64_t) 8 + gtid_31167] = binop_x_31174;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_31161\n}\n__kernel void segmap_31192(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t num_groups_31179, int64_t binop_x_73009, int64_t binop_x_74524, int64_t binop_x_76039, int64_t binop_x_77554, int64_t binop_x_79069, int64_t binop_x_80583, int32_t virt_num_groups_108050, __global unsigned char *mem_107211, __global unsigned char *mem_107213, __global unsigned char *mem_107222, __global unsigned char *mem_107245, __global unsigned char *mem_107285, __global unsigned char *mem_107288, __global unsigned char *mem_107290, __global unsigned char *mem_107292, __global unsigned char *mem_107295, __global unsigned char *mem_107297, __global unsigned char *mem_107299, __global unsigned char *mem_107453, __global unsigned char *mem_107454)\n{\n    #define segmap_group_sizze_31178 (segmap_group_sizze_26554)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_fail", "ure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_108052;\n    int64_t group_sizze_108055;\n    int32_t wave_sizze_108054;\n    int32_t group_tid_108053;\n    \n    local_tid_108052 = get_local_id(0);\n    group_sizze_108055 = get_local_size(0);\n    wave_sizze_108054 = LOCKSTEP_WIDTH;\n    group_tid_108053 = get_group_id(0);\n    \n    int32_t global_tid_108051 = group_tid_108053 * group_sizze_108055 + local_tid_108052;\n    int32_t phys_tid_31192 = global_tid_108051;\n    int32_t phys_group_id_108056;\n    \n    phys_group_id_108056 = get_group_id(0);\n    \n    int32_t iterations_108057 = sdiv_up32(virt_num_groups_108050 - phys_group_id_108056, sext_i64_i32(num_groups_31179));\n    \n    for (int32_t i_108058 = 0; i_108058 < iterations_108057; i_108058++) {\n        int32_t virt_group_id_108059 = phys_group_id_108056 + i_108058 * sext_i64_i32(num_groups_31179);\n        int64_t global_tid_108060 = sext_i32_i64(virt_group_id_108059) * segmap_group_sizze_31178 + sext_i32_i64(local_tid_108052);\n        int64_t slice_108061 = (int64_t) 8;\n        int64_t slice_108062 = (int64_t) 8 * slice_108061;\n        int64_t slice_108063 = (int64_t) 8 * slice_108062;\n        int64_t gtid_31189 = squot64(global_tid_108060, slice_108062);\n        int64_t remnant_108064 = global_tid_108060 - gtid_31189 * slice_108062;\n        int64_t gtid_31190 = squot64(remnant_108064, slice_108061);\n        int64_t remnant_108065 = remnant_108064 - gtid_31190 * slice_108061;\n        int64_t gtid_31191 = remnant_108065;\n        int64_t remnant_108066 = remnant_108065 - gtid_31191;\n        \n        if ((slt64(gtid_31189, (int64_t) 8) && slt64(gtid_31190, (int64_t) 8)) && slt64(gtid_31191, (int64_t) 8)) {\n            int64_t binop_x_36459 = gtid_31189 + binop_x_80583;\n            int64_t new_index_36460 = squot64(binop_x_36459, (int64_t) 1688849860263936);\n            int64_t binop_y_36466 = (int64_t) 1688849860263936 * ne", "w_index_36460;\n            int64_t binop_x_36467 = binop_x_36459 - binop_y_36466;\n            int64_t new_index_36468 = squot64(binop_x_36467, (int64_t) 3298534883328);\n            int64_t binop_y_36484 = (int64_t) 3298534883328 * new_index_36468;\n            int64_t binop_x_36485 = binop_x_36467 - binop_y_36484;\n            int64_t new_index_36486 = squot64(binop_x_36485, (int64_t) 6442450944);\n            int64_t binop_y_36522 = (int64_t) 6442450944 * new_index_36486;\n            int64_t binop_x_36523 = binop_x_36485 - binop_y_36522;\n            int64_t new_index_36524 = squot64(binop_x_36523, (int64_t) 12582912);\n            int64_t binop_y_36600 = (int64_t) 12582912 * new_index_36524;\n            int64_t binop_x_36601 = binop_x_36523 - binop_y_36600;\n            int64_t new_index_36602 = squot64(binop_x_36601, (int64_t) 24576);\n            int64_t binop_y_36758 = (int64_t) 24576 * new_index_36602;\n            int64_t binop_x_36759 = binop_x_36601 - binop_y_36758;\n            int64_t new_index_36760 = squot64(binop_x_36759, (int64_t) 48);\n            int64_t binop_y_37076 = (int64_t) 48 * new_index_36760;\n            int64_t binop_x_37077 = binop_x_36759 - binop_y_37076;\n            int64_t new_index_37078 = squot64(binop_x_37077, (int64_t) 8);\n            int64_t binop_y_37714 = (int64_t) 8 * new_index_37078;\n            int64_t new_index_37715 = binop_x_37077 - binop_y_37714;\n            int64_t x_31193 = ((__global int64_t *) mem_107285)[new_index_36460 * (int64_t) 1688849860263936 + new_index_36468 * (int64_t) 3298534883328 + new_index_36486 * (int64_t) 6442450944 + new_index_36524 * (int64_t) 12582912 + new_index_36602 * (int64_t) 24576 + new_index_36760 * (int64_t) 48 + new_index_37078 * (int64_t) 8 + new_index_37715];\n            int16_t i64_res_31194 = ((__global int16_t *) mem_107288)[gtid_31189];\n            bool bounds_check_31195 = ((__global bool *) mem_107290)[gtid_31189];\n            int64_t binop_x_31196 = ((__global int64_t *) mem_107292)[gtid_31",
                                     "189];\n            int64_t binop_x_37718 = gtid_31190 + binop_x_79069;\n            int64_t new_index_37719 = squot64(binop_x_37718, (int64_t) 1688849860263936);\n            int64_t binop_y_37727 = (int64_t) 1688849860263936 * new_index_37719;\n            int64_t binop_x_37728 = binop_x_37718 - binop_y_37727;\n            int64_t new_index_37729 = squot64(binop_x_37728, (int64_t) 3298534883328);\n            int64_t binop_y_37749 = (int64_t) 3298534883328 * new_index_37729;\n            int64_t binop_x_37750 = binop_x_37728 - binop_y_37749;\n            int64_t new_index_37751 = squot64(binop_x_37750, (int64_t) 6442450944);\n            int64_t binop_y_37795 = (int64_t) 6442450944 * new_index_37751;\n            int64_t binop_x_37796 = binop_x_37750 - binop_y_37795;\n            int64_t new_index_37797 = squot64(binop_x_37796, (int64_t) 12582912);\n            int64_t binop_y_37889 = (int64_t) 12582912 * new_index_37797;\n            int64_t binop_x_37890 = binop_x_37796 - binop_y_37889;\n            int64_t new_index_37891 = squot64(binop_x_37890, (int64_t) 24576);\n            int64_t binop_y_38079 = (int64_t) 24576 * new_index_37891;\n            int64_t binop_x_38080 = binop_x_37890 - binop_y_38079;\n            int64_t new_index_38081 = squot64(binop_x_38080, (int64_t) 48);\n            int64_t binop_y_38461 = (int64_t) 48 * new_index_38081;\n            int64_t binop_x_38462 = binop_x_38080 - binop_y_38461;\n            int64_t new_index_38463 = squot64(binop_x_38462, (int64_t) 8);\n            int64_t binop_y_39227 = (int64_t) 8 * new_index_38463;\n            int64_t new_index_39228 = binop_x_38462 - binop_y_39227;\n            int64_t x_31197 = ((__global int64_t *) mem_107285)[new_index_37719 * (int64_t) 1688849860263936 + new_index_37729 * (int64_t) 3298534883328 + new_index_37751 * (int64_t) 6442450944 + new_index_37797 * (int64_t) 12582912 + new_index_37891 * (int64_t) 24576 + new_index_38081 * (int64_t) 48 + new_index_38463 * (int64_t) 8 + new_index_39228];\n            int", "16_t i64_res_31198 = ((__global int16_t *) mem_107295)[gtid_31189 * (int64_t) 8 + gtid_31190];\n            bool bounds_check_31199 = ((__global bool *) mem_107297)[gtid_31189 * (int64_t) 8 + gtid_31190];\n            int64_t binop_x_31200 = ((__global int64_t *) mem_107299)[gtid_31189 * (int64_t) 8 + gtid_31190];\n            int64_t binop_x_39231 = gtid_31191 + binop_x_77554;\n            int64_t new_index_39232 = squot64(binop_x_39231, (int64_t) 1688849860263936);\n            int64_t binop_y_39240 = (int64_t) 1688849860263936 * new_index_39232;\n            int64_t binop_x_39241 = binop_x_39231 - binop_y_39240;\n            int64_t new_index_39242 = squot64(binop_x_39241, (int64_t) 3298534883328);\n            int64_t binop_y_39262 = (int64_t) 3298534883328 * new_index_39242;\n            int64_t binop_x_39263 = binop_x_39241 - binop_y_39262;\n            int64_t new_index_39264 = squot64(binop_x_39263, (int64_t) 6442450944);\n            int64_t binop_y_39308 = (int64_t) 6442450944 * new_index_39264;\n            int64_t binop_x_39309 = binop_x_39263 - binop_y_39308;\n            int64_t new_index_39310 = squot64(binop_x_39309, (int64_t) 12582912);\n            int64_t binop_y_39402 = (int64_t) 12582912 * new_index_39310;\n            int64_t binop_x_39403 = binop_x_39309 - binop_y_39402;\n            int64_t new_index_39404 = squot64(binop_x_39403, (int64_t) 24576);\n            int64_t binop_y_39592 = (int64_t) 24576 * new_index_39404;\n            int64_t binop_x_39593 = binop_x_39403 - binop_y_39592;\n            int64_t new_index_39594 = squot64(binop_x_39593, (int64_t) 48);\n            int64_t binop_y_39974 = (int64_t) 48 * new_index_39594;\n            int64_t binop_x_39975 = binop_x_39593 - binop_y_39974;\n            int64_t new_index_39976 = squot64(binop_x_39975, (int64_t) 8);\n            int64_t binop_y_40740 = (int64_t) 8 * new_index_39976;\n            int64_t new_index_40741 = binop_x_39975 - binop_y_40740;\n            int64_t x_31201 = ((__global int64_t *) mem_10728", "5)[new_index_39232 * (int64_t) 1688849860263936 + new_index_39242 * (int64_t) 3298534883328 + new_index_39264 * (int64_t) 6442450944 + new_index_39310 * (int64_t) 12582912 + new_index_39404 * (int64_t) 24576 + new_index_39594 * (int64_t) 48 + new_index_39976 * (int64_t) 8 + new_index_40741];\n            int16_t i64_res_31202 = sext_i64_i16(x_31201);\n            bool x_31203 = sle64((int64_t) 0, x_31201);\n            bool y_31204 = slt64(x_31201, (int64_t) 1024);\n            bool bounds_check_31205 = x_31203 && y_31204;\n            int64_t binop_x_31206 = (int64_t) 16 * x_31201;\n            bool mem_107422[(int64_t) 8 * (int64_t) 8 * (int64_t) 8];\n            int16_t mem_107423[(int64_t) 8 * (int64_t) 8 * (int64_t) 8 * (int64_t) 6];\n            int16_t mem_107436[(int64_t) 6];\n            \n            for (int64_t i_83661 = 0; i_83661 < (int64_t) 8; i_83661++) {\n                int64_t binop_x_97328 = binop_x_76039 + i_83661;\n                int64_t new_index_97329 = squot64(binop_x_97328, (int64_t) 1688849860263936);\n                int64_t binop_y_97337 = (int64_t) 1688849860263936 * new_index_97329;\n                int64_t binop_x_97338 = binop_x_97328 - binop_y_97337;\n                int64_t new_index_97339 = squot64(binop_x_97338, (int64_t) 3298534883328);\n                int64_t binop_y_97359 = (int64_t) 3298534883328 * new_index_97339;\n                int64_t binop_x_97360 = binop_x_97338 - binop_y_97359;\n                int64_t new_index_97361 = squot64(binop_x_97360, (int64_t) 6442450944);\n                int64_t binop_y_97405 = (int64_t) 6442450944 * new_index_97361;\n                int64_t binop_x_97406 = binop_x_97360 - binop_y_97405;\n                int64_t new_index_97407 = squot64(binop_x_97406, (int64_t) 12582912);\n                int64_t binop_y_97499 = (int64_t) 12582912 * new_index_97407;\n                int64_t binop_x_97500 = binop_x_97406 - binop_y_97499;\n                int64_t new_index_97501 = squot64(binop_x_97500, (int64_t) 24576);\n        ",
                                     "        int64_t binop_y_97689 = (int64_t) 24576 * new_index_97501;\n                int64_t binop_x_97690 = binop_x_97500 - binop_y_97689;\n                int64_t new_index_97691 = squot64(binop_x_97690, (int64_t) 48);\n                int64_t binop_y_98071 = (int64_t) 48 * new_index_97691;\n                int64_t binop_x_98072 = binop_x_97690 - binop_y_98071;\n                int64_t new_index_98073 = squot64(binop_x_98072, (int64_t) 8);\n                int64_t binop_y_98837 = (int64_t) 8 * new_index_98073;\n                int64_t new_index_98838 = binop_x_98072 - binop_y_98837;\n                int64_t x_31209 = ((__global int64_t *) mem_107245)[new_index_98073 * (int64_t) 144115188075855872 + new_index_98838 * (int64_t) 18014398509481984 + new_index_97329 * (int64_t) 35184372088832 + new_index_97339 * (int64_t) 68719476736 + new_index_97361 * (int64_t) 134217728 + new_index_97407 * (int64_t) 262144 + new_index_97501 * (int64_t) 512 + new_index_97691];\n                int16_t i64_res_31210 = sext_i64_i16(x_31209);\n                bool x_31211 = sle64((int64_t) 0, x_31209);\n                bool y_31212 = slt64(x_31209, (int64_t) 1024);\n                bool bounds_check_31213 = x_31211 && y_31212;\n                int64_t binop_x_31214 = (int64_t) 16 * x_31209;\n                \n                for (int64_t i_83668 = 0; i_83668 < (int64_t) 8; i_83668++) {\n                    int64_t binop_x_98841 = binop_x_74524 + i_83668;\n                    int64_t new_index_98842 = squot64(binop_x_98841, (int64_t) 1688849860263936);\n                    int64_t binop_y_98850 = (int64_t) 1688849860263936 * new_index_98842;\n                    int64_t binop_x_98851 = binop_x_98841 - binop_y_98850;\n                    int64_t new_index_98852 = squot64(binop_x_98851, (int64_t) 3298534883328);\n                    int64_t binop_y_98872 = (int64_t) 3298534883328 * new_index_98852;\n                    int64_t binop_x_98873 = binop_x_98851 - binop_y_98872;\n                    int64_t new_index_9", "8874 = squot64(binop_x_98873, (int64_t) 6442450944);\n                    int64_t binop_y_98918 = (int64_t) 6442450944 * new_index_98874;\n                    int64_t binop_x_98919 = binop_x_98873 - binop_y_98918;\n                    int64_t new_index_98920 = squot64(binop_x_98919, (int64_t) 12582912);\n                    int64_t binop_y_99012 = (int64_t) 12582912 * new_index_98920;\n                    int64_t binop_x_99013 = binop_x_98919 - binop_y_99012;\n                    int64_t new_index_99014 = squot64(binop_x_99013, (int64_t) 24576);\n                    int64_t binop_y_99202 = (int64_t) 24576 * new_index_99014;\n                    int64_t binop_x_99203 = binop_x_99013 - binop_y_99202;\n                    int64_t new_index_99204 = squot64(binop_x_99203, (int64_t) 48);\n                    int64_t binop_y_99584 = (int64_t) 48 * new_index_99204;\n                    int64_t binop_x_99585 = binop_x_99203 - binop_y_99584;\n                    int64_t new_index_99586 = squot64(binop_x_99585, (int64_t) 8);\n                    int64_t binop_y_100350 = (int64_t) 8 * new_index_99586;\n                    int64_t new_index_100351 = binop_x_99585 - binop_y_100350;\n                    int64_t x_31217 = ((__global int64_t *) mem_107245)[new_index_99586 * (int64_t) 144115188075855872 + new_index_100351 * (int64_t) 18014398509481984 + new_index_98842 * (int64_t) 35184372088832 + new_index_98852 * (int64_t) 68719476736 + new_index_98874 * (int64_t) 134217728 + new_index_98920 * (int64_t) 262144 + new_index_99014 * (int64_t) 512 + new_index_99204];\n                    int16_t i64_res_31218 = sext_i64_i16(x_31217);\n                    bool x_31219 = sle64((int64_t) 0, x_31217);\n                    bool y_31220 = slt64(x_31217, (int64_t) 1024);\n                    bool bounds_check_31221 = x_31219 && y_31220;\n                    int64_t binop_x_31222 = (int64_t) 16 * x_31217;\n                    \n                    for (int64_t i_83675 = 0; i_83675 < (int64_t) 8; i_83675++) {\n      ", "                  int64_t binop_x_100354 = binop_x_73009 + i_83675;\n                        int64_t new_index_100355 = squot64(binop_x_100354, (int64_t) 1688849860263936);\n                        int64_t binop_y_100363 = (int64_t) 1688849860263936 * new_index_100355;\n                        int64_t binop_x_100364 = binop_x_100354 - binop_y_100363;\n                        int64_t new_index_100365 = squot64(binop_x_100364, (int64_t) 3298534883328);\n                        int64_t binop_y_100385 = (int64_t) 3298534883328 * new_index_100365;\n                        int64_t binop_x_100386 = binop_x_100364 - binop_y_100385;\n                        int64_t new_index_100387 = squot64(binop_x_100386, (int64_t) 6442450944);\n                        int64_t binop_y_100431 = (int64_t) 6442450944 * new_index_100387;\n                        int64_t binop_x_100432 = binop_x_100386 - binop_y_100431;\n                        int64_t new_index_100433 = squot64(binop_x_100432, (int64_t) 12582912);\n                        int64_t binop_y_100525 = (int64_t) 12582912 * new_index_100433;\n                        int64_t binop_x_100526 = binop_x_100432 - binop_y_100525;\n                        int64_t new_index_100527 = squot64(binop_x_100526, (int64_t) 24576);\n                        int64_t binop_y_100715 = (int64_t) 24576 * new_index_100527;\n                        int64_t binop_x_100716 = binop_x_100526 - binop_y_100715;\n                        int64_t new_index_100717 = squot64(binop_x_100716, (int64_t) 48);\n                        int64_t binop_y_101097 = (int64_t) 48 * new_index_100717;\n                        int64_t binop_x_101098 = binop_x_100716 - binop_y_101097;\n                        int64_t new_index_101099 = squot64(binop_x_101098, (int64_t) 8);\n                        int64_t binop_y_101863 = (int64_t) 8 * new_index_101099;\n                        int64_t new_index_101864 = binop_x_101098 - binop_y_101863;\n                        int64_t x_31225 = ((__global int64_t *) mem_10",
                                     "7245)[new_index_101099 * (int64_t) 144115188075855872 + new_index_101864 * (int64_t) 18014398509481984 + new_index_100355 * (int64_t) 35184372088832 + new_index_100365 * (int64_t) 68719476736 + new_index_100387 * (int64_t) 134217728 + new_index_100433 * (int64_t) 262144 + new_index_100527 * (int64_t) 512 + new_index_100717];\n                        bool x_31226 = sle64((int64_t) 0, x_31225);\n                        bool y_31227 = slt64(x_31225, (int64_t) 1024);\n                        bool bounds_check_31228 = x_31226 && y_31227;\n                        int64_t binop_x_31229 = (int64_t) 16 * x_31225;\n                        bool all_equal_31230;\n                        bool redout_83678 = 1;\n                        \n                        for (int64_t i_83679 = 0; i_83679 < (int64_t) 16; i_83679++) {\n                            int8_t x_31234 = ((__global int8_t *) mem_107211)[i_83679];\n                            int8_t y_31235 = ((__global int8_t *) mem_107213)[i_83679];\n                            int64_t u8_res_31236 = zext_i8_i64(x_31234);\n                            bool x_31237 = sle64((int64_t) 0, u8_res_31236);\n                            bool y_31238 = slt64(u8_res_31236, (int64_t) 16);\n                            bool bounds_check_31239 = x_31237 && y_31238;\n                            bool index_ok_31240 = bounds_check_31228 && bounds_check_31239;\n                            bool index_certs_31241;\n                            \n                            if (!index_ok_31240) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 12) == -1) {\n                                        global_failure_args[0] = (int64_t) x_31225;\n                                        global_failure_args[1] = (int64_t) u8_res_31236;\n                                        global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                        global_failure_args[3] = (int64_t) (int64_t) 16;", "\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            \n                            int64_t binop_x_31242 = binop_x_31229 + u8_res_31236;\n                            int64_t new_index_31243 = squot64(binop_x_31242, (int64_t) 1024);\n                            int64_t binop_y_31244 = (int64_t) 1024 * new_index_31243;\n                            int64_t binop_x_31245 = binop_x_31242 - binop_y_31244;\n                            int64_t new_index_31246 = squot64(binop_x_31245, (int64_t) 64);\n                            int64_t binop_y_31247 = (int64_t) 64 * new_index_31246;\n                            int64_t binop_x_31248 = binop_x_31245 - binop_y_31247;\n                            int64_t new_index_31249 = squot64(binop_x_31248, (int64_t) 32);\n                            int64_t binop_y_31250 = (int64_t) 32 * new_index_31249;\n                            int64_t binop_x_31251 = binop_x_31248 - binop_y_31250;\n                            int64_t new_index_31252 = squot64(binop_x_31251, (int64_t) 16);\n                            int64_t binop_y_31253 = (int64_t) 16 * new_index_31252;\n                            int64_t new_index_31254 = binop_x_31251 - binop_y_31253;\n                            int8_t defunc_0_f_res_31255 = ((__global int8_t *) mem_107222)[new_index_31243 * (int64_t) 1024 + new_index_31246 * (int64_t) 64 + new_index_31249 * (int64_t) 32 + new_index_31252 * (int64_t) 16 + new_index_31254];\n                            int64_t u8_res_31256 = zext_i8_i64(defunc_0_f_res_31255);\n                            bool x_31257 = sle64((int64_t) 0, u8_res_31256);\n                            bool y_31258 = slt64(u8_res_31256, (int64_t) 16);\n                            bool bounds_check_31259 = x_31257 && y_31258;\n                            bool index_", "ok_31260 = bounds_check_31221 && bounds_check_31259;\n                            bool index_certs_31261;\n                            \n                            if (!index_ok_31260) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 13) == -1) {\n                                        global_failure_args[0] = (int64_t) x_31217;\n                                        global_failure_args[1] = (int64_t) u8_res_31256;\n                                        global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                        global_failure_args[3] = (int64_t) (int64_t) 16;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            \n                            int64_t binop_x_31262 = binop_x_31222 + u8_res_31256;\n                            int64_t new_index_31263 = squot64(binop_x_31262, (int64_t) 1024);\n                            int64_t binop_y_31264 = (int64_t) 1024 * new_index_31263;\n                            int64_t binop_x_31265 = binop_x_31262 - binop_y_31264;\n                            int64_t new_index_31266 = squot64(binop_x_31265, (int64_t) 64);\n                            int64_t binop_y_31267 = (int64_t) 64 * new_index_31266;\n                            int64_t binop_x_31268 = binop_x_31265 - binop_y_31267;\n                            int64_t new_index_31269 = squot64(binop_x_31268, (int64_t) 32);\n                            int64_t binop_y_31270 = (int64_t) 32 * new_index_31269;\n                            int64_t binop_x_31271 = binop_x_31268 - binop_y_31270;\n                            int64_t new_index_31272 = squot64(binop_x_31271, (int64_t) 16);\n                            int64_t binop_y_31273 = (int64_t) 16 * new_index_31272;\n            ",
                                     "                int64_t new_index_31274 = binop_x_31271 - binop_y_31273;\n                            int8_t defunc_0_f_res_31275 = ((__global int8_t *) mem_107222)[new_index_31263 * (int64_t) 1024 + new_index_31266 * (int64_t) 64 + new_index_31269 * (int64_t) 32 + new_index_31272 * (int64_t) 16 + new_index_31274];\n                            int64_t u8_res_31276 = zext_i8_i64(defunc_0_f_res_31275);\n                            bool x_31277 = sle64((int64_t) 0, u8_res_31276);\n                            bool y_31278 = slt64(u8_res_31276, (int64_t) 16);\n                            bool bounds_check_31279 = x_31277 && y_31278;\n                            bool index_ok_31280 = bounds_check_31213 && bounds_check_31279;\n                            bool index_certs_31281;\n                            \n                            if (!index_ok_31280) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 14) == -1) {\n                                        global_failure_args[0] = (int64_t) x_31209;\n                                        global_failure_args[1] = (int64_t) u8_res_31276;\n                                        global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                        global_failure_args[3] = (int64_t) (int64_t) 16;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            \n                            int64_t binop_x_31282 = binop_x_31214 + u8_res_31276;\n                            int64_t new_index_31283 = squot64(binop_x_31282, (int64_t) 1024);\n                            int64_t binop_y_31284 = (int64_t) 1024 * new_index_31283;\n                            int64_t binop_x_31285 = binop_x_31282 - binop_y_31284;\n                            int64_t ", "new_index_31286 = squot64(binop_x_31285, (int64_t) 64);\n                            int64_t binop_y_31287 = (int64_t) 64 * new_index_31286;\n                            int64_t binop_x_31288 = binop_x_31285 - binop_y_31287;\n                            int64_t new_index_31289 = squot64(binop_x_31288, (int64_t) 32);\n                            int64_t binop_y_31290 = (int64_t) 32 * new_index_31289;\n                            int64_t binop_x_31291 = binop_x_31288 - binop_y_31290;\n                            int64_t new_index_31292 = squot64(binop_x_31291, (int64_t) 16);\n                            int64_t binop_y_31293 = (int64_t) 16 * new_index_31292;\n                            int64_t new_index_31294 = binop_x_31291 - binop_y_31293;\n                            int8_t defunc_0_f_res_31295 = ((__global int8_t *) mem_107222)[new_index_31283 * (int64_t) 1024 + new_index_31286 * (int64_t) 64 + new_index_31289 * (int64_t) 32 + new_index_31292 * (int64_t) 16 + new_index_31294];\n                            int64_t u8_res_31296 = zext_i8_i64(defunc_0_f_res_31295);\n                            bool x_31297 = sle64((int64_t) 0, u8_res_31296);\n                            bool y_31298 = slt64(u8_res_31296, (int64_t) 16);\n                            bool bounds_check_31299 = x_31297 && y_31298;\n                            bool index_ok_31300 = bounds_check_31205 && bounds_check_31299;\n                            bool index_certs_31301;\n                            \n                            if (!index_ok_31300) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 15) == -1) {\n                                        global_failure_args[0] = (int64_t) x_31201;\n                                        global_failure_args[1] = (int64_t) u8_res_31296;\n                                        global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                        global_failure_args[3] = (int64_t) (in", "t64_t) 16;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            \n                            int64_t binop_x_31302 = binop_x_31206 + u8_res_31296;\n                            int64_t new_index_31303 = squot64(binop_x_31302, (int64_t) 1024);\n                            int64_t binop_y_31304 = (int64_t) 1024 * new_index_31303;\n                            int64_t binop_x_31305 = binop_x_31302 - binop_y_31304;\n                            int64_t new_index_31306 = squot64(binop_x_31305, (int64_t) 64);\n                            int64_t binop_y_31307 = (int64_t) 64 * new_index_31306;\n                            int64_t binop_x_31308 = binop_x_31305 - binop_y_31307;\n                            int64_t new_index_31309 = squot64(binop_x_31308, (int64_t) 32);\n                            int64_t binop_y_31310 = (int64_t) 32 * new_index_31309;\n                            int64_t binop_x_31311 = binop_x_31308 - binop_y_31310;\n                            int64_t new_index_31312 = squot64(binop_x_31311, (int64_t) 16);\n                            int64_t binop_y_31313 = (int64_t) 16 * new_index_31312;\n                            int64_t new_index_31314 = binop_x_31311 - binop_y_31313;\n                            int8_t defunc_0_f_res_31315 = ((__global int8_t *) mem_107222)[new_index_31303 * (int64_t) 1024 + new_index_31306 * (int64_t) 64 + new_index_31309 * (int64_t) 32 + new_index_31312 * (int64_t) 16 + new_index_31314];\n                            int64_t u8_res_31316 = zext_i8_i64(defunc_0_f_res_31315);\n                            bool x_31317 = sle64((int64_t) 0, u8_res_31316);\n                            bool y_31318 = slt64(u8_res_31316, (int64_t) 16);\n                            bool bounds_check_31319 = x_31317 && y_31318;\n                            b",
                                     "ool index_ok_31320 = bounds_check_31199 && bounds_check_31319;\n                            bool index_certs_31321;\n                            \n                            if (!index_ok_31320) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 16) == -1) {\n                                        global_failure_args[0] = (int64_t) x_31197;\n                                        global_failure_args[1] = (int64_t) u8_res_31316;\n                                        global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                        global_failure_args[3] = (int64_t) (int64_t) 16;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            \n                            int64_t binop_x_31322 = binop_x_31200 + u8_res_31316;\n                            int64_t new_index_31323 = squot64(binop_x_31322, (int64_t) 1024);\n                            int64_t binop_y_31324 = (int64_t) 1024 * new_index_31323;\n                            int64_t binop_x_31325 = binop_x_31322 - binop_y_31324;\n                            int64_t new_index_31326 = squot64(binop_x_31325, (int64_t) 64);\n                            int64_t binop_y_31327 = (int64_t) 64 * new_index_31326;\n                            int64_t binop_x_31328 = binop_x_31325 - binop_y_31327;\n                            int64_t new_index_31329 = squot64(binop_x_31328, (int64_t) 32);\n                            int64_t binop_y_31330 = (int64_t) 32 * new_index_31329;\n                            int64_t binop_x_31331 = binop_x_31328 - binop_y_31330;\n                            int64_t new_index_31332 = squot64(binop_x_31331, (int64_t) 16);\n                            int64_t binop_y_31333 = (int64_t) 16 * new_index_31332;\n  ", "                          int64_t new_index_31334 = binop_x_31331 - binop_y_31333;\n                            int8_t defunc_0_f_res_31335 = ((__global int8_t *) mem_107222)[new_index_31323 * (int64_t) 1024 + new_index_31326 * (int64_t) 64 + new_index_31329 * (int64_t) 32 + new_index_31332 * (int64_t) 16 + new_index_31334];\n                            int64_t u8_res_31336 = zext_i8_i64(defunc_0_f_res_31335);\n                            bool x_31337 = sle64((int64_t) 0, u8_res_31336);\n                            bool y_31338 = slt64(u8_res_31336, (int64_t) 16);\n                            bool bounds_check_31339 = x_31337 && y_31338;\n                            bool index_ok_31340 = bounds_check_31195 && bounds_check_31339;\n                            bool index_certs_31341;\n                            \n                            if (!index_ok_31340) {\n                                {\n                                    if (atomic_cmpxchg_i32_global(global_failure, -1, 17) == -1) {\n                                        global_failure_args[0] = (int64_t) x_31193;\n                                        global_failure_args[1] = (int64_t) u8_res_31336;\n                                        global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                        global_failure_args[3] = (int64_t) (int64_t) 16;\n                                        ;\n                                    }\n                                    local_failure = 1;\n                                    goto error_0;\n                                }\n                            }\n                            \n                            int64_t binop_x_31342 = binop_x_31196 + u8_res_31336;\n                            int64_t new_index_31343 = squot64(binop_x_31342, (int64_t) 1024);\n                            int64_t binop_y_31344 = (int64_t) 1024 * new_index_31343;\n                            int64_t binop_x_31345 = binop_x_31342 - binop_y_31344;\n                          ", "  int64_t new_index_31346 = squot64(binop_x_31345, (int64_t) 64);\n                            int64_t binop_y_31347 = (int64_t) 64 * new_index_31346;\n                            int64_t binop_x_31348 = binop_x_31345 - binop_y_31347;\n                            int64_t new_index_31349 = squot64(binop_x_31348, (int64_t) 32);\n                            int64_t binop_y_31350 = (int64_t) 32 * new_index_31349;\n                            int64_t binop_x_31351 = binop_x_31348 - binop_y_31350;\n                            int64_t new_index_31352 = squot64(binop_x_31351, (int64_t) 16);\n                            int64_t binop_y_31353 = (int64_t) 16 * new_index_31352;\n                            int64_t new_index_31354 = binop_x_31351 - binop_y_31353;\n                            int8_t defunc_0_f_res_31355 = ((__global int8_t *) mem_107222)[new_index_31343 * (int64_t) 1024 + new_index_31346 * (int64_t) 64 + new_index_31349 * (int64_t) 32 + new_index_31352 * (int64_t) 16 + new_index_31354];\n                            bool binlam_res_31356 = defunc_0_f_res_31355 == y_31235;\n                            bool binlam_res_31233 = binlam_res_31356 && redout_83678;\n                            bool redout_tmp_108073 = binlam_res_31233;\n                            \n                            redout_83678 = redout_tmp_108073;\n                        }\n                        all_equal_31230 = redout_83678;\n                        \n                        int16_t i64_res_31357 = sext_i64_i16(x_31225);\n                        \n                        mem_107436[(int64_t) 0] = i64_res_31194;\n                        mem_107436[(int64_t) 1] = i64_res_31198;\n                        mem_107436[(int64_t) 2] = i64_res_31202;\n                        mem_107436[(int64_t) 3] = i64_res_31210;\n                        mem_107436[(int64_t) 4] = i64_res_31218;\n                        mem_107436[(int64_t) 5] = i64_res_31357;\n                        mem_107422[i_83661 * (int64_t) 64 + i_83668 * (int64_t",
                                     ") 8 + i_83675] = all_equal_31230;\n                        for (int64_t i_108074 = 0; i_108074 < (int64_t) 6; i_108074++) {\n                            int16_t tmp_108075 = mem_107436[i_108074];\n                            \n                            mem_107423[i_83661 * (int64_t) 384 + i_83668 * (int64_t) 48 + i_83675 * (int64_t) 6 + i_108074] = tmp_108075;\n                        }\n                    }\n                }\n            }\n            for (int64_t i_108076 = 0; i_108076 < (int64_t) 8; i_108076++) {\n                for (int64_t i_108077 = 0; i_108077 < (int64_t) 8; i_108077++) {\n                    for (int64_t i_108078 = 0; i_108078 < (int64_t) 8; i_108078++) {\n                        bool tmp_108079 = mem_107422[i_108076 * (int64_t) 64 + i_108077 * (int64_t) 8 + i_108078];\n                        \n                        ((__global bool *) mem_107453)[gtid_31189 * (int64_t) 64 + gtid_31190 * (int64_t) 8 + gtid_31191 + (i_108076 * (int64_t) 32768 + i_108077 * (int64_t) 4096 + i_108078 * (int64_t) 512)] = tmp_108079;\n                    }\n                }\n            }\n            for (int64_t i_108080 = 0; i_108080 < (int64_t) 8; i_108080++) {\n                for (int64_t i_108081 = 0; i_108081 < (int64_t) 8; i_108081++) {\n                    for (int64_t i_108082 = 0; i_108082 < (int64_t) 8; i_108082++) {\n                        for (int64_t i_108083 = 0; i_108083 < (int64_t) 6; i_108083++) {\n                            int16_t tmp_108084 = mem_107423[i_108080 * (int64_t) 384 + i_108081 * (int64_t) 48 + i_108082 * (int64_t) 6 + i_108083];\n                            \n                            ((__global int16_t *) mem_107454)[gtid_31189 * (int64_t) 64 + gtid_31190 * (int64_t) 8 + gtid_31191 + (i_108080 * (int64_t) 196608 + i_108081 * (int64_t) 24576 + i_108082 * (int64_t) 3072 + i_108083 * (int64_t) 512)] = tmp_108084;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CL", "K_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_31178\n}\n__kernel void segmap_31370(__global int *global_failure, int64_t binop_x_77554, __global unsigned char *mem_107285, __global unsigned char *mem_107302, __global unsigned char *mem_107304, __global unsigned char *mem_107306)\n{\n    #define segmap_group_sizze_31362 (segmap_group_sizze_29006)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_108087;\n    int64_t group_sizze_108090;\n    int32_t wave_sizze_108089;\n    int32_t group_tid_108088;\n    \n    local_tid_108087 = get_local_id(0);\n    group_sizze_108090 = get_local_size(0);\n    wave_sizze_108089 = LOCKSTEP_WIDTH;\n    group_tid_108088 = get_group_id(0);\n    \n    int32_t global_tid_108086 = group_tid_108088 * group_sizze_108090 + local_tid_108087;\n    int32_t phys_tid_31370 = global_tid_108086;\n    int64_t global_tid_108091 = sext_i32_i64(group_tid_108088) * segmap_group_sizze_31362 + sext_i32_i64(local_tid_108087);\n    int64_t slice_108092 = (int64_t) 8;\n    int64_t slice_108093 = (int64_t) 8 * slice_108092;\n    int64_t slice_108094 = (int64_t) 8 * slice_108093;\n    int64_t gtid_31367 = squot64(global_tid_108091, slice_108093);\n    int64_t remnant_108095 = global_tid_108091 - gtid_31367 * slice_108093;\n    int64_t gtid_31368 = squot64(remnant_108095, slice_108092);\n    int64_t remnant_108096 = remnant_108095 - gtid_31368 * slice_108092;\n    int64_t gtid_31369 = remnant_108096;\n    int64_t remnant_108097 = remnant_108096 - gtid_31369;\n    \n    if ((slt64(gtid_31367, (int64_t) 8) && slt64(gtid_31368, (int64_t) 8)) && slt64(gtid_31369, (int64_t) 8)) {\n        int64_t binop_x_77555 = gtid_31369 + binop_x_77554;\n        int64_t new_index_77556 = squot64(binop_x_77555, (int64_t) 1688849860263936);\n        int64_t binop_y_77564 = (int64_t) 1688849860263936 * new_index_77556;\n        int64_t binop_x_77565 = binop_", "x_77555 - binop_y_77564;\n        int64_t new_index_77566 = squot64(binop_x_77565, (int64_t) 3298534883328);\n        int64_t binop_y_77586 = (int64_t) 3298534883328 * new_index_77566;\n        int64_t binop_x_77587 = binop_x_77565 - binop_y_77586;\n        int64_t new_index_77588 = squot64(binop_x_77587, (int64_t) 6442450944);\n        int64_t binop_y_77632 = (int64_t) 6442450944 * new_index_77588;\n        int64_t binop_x_77633 = binop_x_77587 - binop_y_77632;\n        int64_t new_index_77634 = squot64(binop_x_77633, (int64_t) 12582912);\n        int64_t binop_y_77726 = (int64_t) 12582912 * new_index_77634;\n        int64_t binop_x_77727 = binop_x_77633 - binop_y_77726;\n        int64_t new_index_77728 = squot64(binop_x_77727, (int64_t) 24576);\n        int64_t binop_y_77916 = (int64_t) 24576 * new_index_77728;\n        int64_t binop_x_77917 = binop_x_77727 - binop_y_77916;\n        int64_t new_index_77918 = squot64(binop_x_77917, (int64_t) 48);\n        int64_t binop_y_78298 = (int64_t) 48 * new_index_77918;\n        int64_t binop_x_78299 = binop_x_77917 - binop_y_78298;\n        int64_t new_index_78300 = squot64(binop_x_78299, (int64_t) 8);\n        int64_t binop_y_79064 = (int64_t) 8 * new_index_78300;\n        int64_t new_index_79065 = binop_x_78299 - binop_y_79064;\n        int64_t x_31371 = ((__global int64_t *) mem_107285)[new_index_77556 * (int64_t) 1688849860263936 + new_index_77566 * (int64_t) 3298534883328 + new_index_77588 * (int64_t) 6442450944 + new_index_77634 * (int64_t) 12582912 + new_index_77728 * (int64_t) 24576 + new_index_77918 * (int64_t) 48 + new_index_78300 * (int64_t) 8 + new_index_79065];\n        int16_t i64_res_31372 = sext_i64_i16(x_31371);\n        bool x_31373 = sle64((int64_t) 0, x_31371);\n        bool y_31374 = slt64(x_31371, (int64_t) 1024);\n        bool bounds_check_31375 = x_31373 && y_31374;\n        int64_t binop_x_31376 = (int64_t) 16 * x_31371;\n        \n        ((__global int16_t *) mem_107302)[gtid_31367 * (int64_t) 64 + gtid_31368 * (int64_t) 8",
                                     " + gtid_31369] = i64_res_31372;\n        ((__global bool *) mem_107304)[gtid_31367 * (int64_t) 64 + gtid_31368 * (int64_t) 8 + gtid_31369] = bounds_check_31375;\n        ((__global int64_t *) mem_107306)[gtid_31367 * (int64_t) 64 + gtid_31368 * (int64_t) 8 + gtid_31369] = binop_x_31376;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_31362\n}\n__kernel void segmap_31397(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t num_groups_31382, int64_t binop_x_73009, int64_t binop_x_74524, int64_t binop_x_76039, int64_t binop_x_77554, int64_t binop_x_79069, int64_t binop_x_80583, int32_t virt_num_groups_108098, __global unsigned char *mem_107211, __global unsigned char *mem_107213, __global unsigned char *mem_107222, __global unsigned char *mem_107245, __global unsigned char *mem_107285, __global unsigned char *mem_107288, __global unsigned char *mem_107290, __global unsigned char *mem_107292, __global unsigned char *mem_107295, __global unsigned char *mem_107297, __global unsigned char *mem_107299, __global unsigned char *mem_107302, __global unsigned char *mem_107304, __global unsigned char *mem_107306, __global unsigned char *mem_107411, __global unsigned char *mem_107412)\n{\n    #define segmap_group_sizze_31381 (segmap_group_sizze_26753)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_108100;\n    int64_t group_sizze_108103;\n    int32_t wave_sizze_108102;\n    int32_t group_tid_108101;\n    \n    local_tid_108100 = get_local_id(0);\n    group_sizze_108103 = get_local_size(0);\n    wave_sizze_108102 = LOCKSTEP_WIDTH;\n    group_tid_108101 = get_group_id(0);\n    \n    int32_t global_tid_108099 = group_tid_108101 * gr", "oup_sizze_108103 + local_tid_108100;\n    int32_t phys_tid_31397 = global_tid_108099;\n    int32_t phys_group_id_108104;\n    \n    phys_group_id_108104 = get_group_id(0);\n    \n    int32_t iterations_108105 = sdiv_up32(virt_num_groups_108098 - phys_group_id_108104, sext_i64_i32(num_groups_31382));\n    \n    for (int32_t i_108106 = 0; i_108106 < iterations_108105; i_108106++) {\n        int32_t virt_group_id_108107 = phys_group_id_108104 + i_108106 * sext_i64_i32(num_groups_31382);\n        int64_t global_tid_108108 = sext_i32_i64(virt_group_id_108107) * segmap_group_sizze_31381 + sext_i32_i64(local_tid_108100);\n        int64_t slice_108109 = (int64_t) 8;\n        int64_t slice_108110 = (int64_t) 8 * slice_108109;\n        int64_t slice_108111 = (int64_t) 8 * slice_108110;\n        int64_t slice_108112 = (int64_t) 8 * slice_108111;\n        int64_t gtid_31393 = squot64(global_tid_108108, slice_108111);\n        int64_t remnant_108113 = global_tid_108108 - gtid_31393 * slice_108111;\n        int64_t gtid_31394 = squot64(remnant_108113, slice_108110);\n        int64_t remnant_108114 = remnant_108113 - gtid_31394 * slice_108110;\n        int64_t gtid_31395 = squot64(remnant_108114, slice_108109);\n        int64_t remnant_108115 = remnant_108114 - gtid_31395 * slice_108109;\n        int64_t gtid_31396 = remnant_108115;\n        int64_t remnant_108116 = remnant_108115 - gtid_31396;\n        \n        if (((slt64(gtid_31393, (int64_t) 8) && slt64(gtid_31394, (int64_t) 8)) && slt64(gtid_31395, (int64_t) 8)) && slt64(gtid_31396, (int64_t) 8)) {\n            int64_t binop_x_40743 = gtid_31393 + binop_x_80583;\n            int64_t new_index_40744 = squot64(binop_x_40743, (int64_t) 1688849860263936);\n            int64_t binop_y_40750 = (int64_t) 1688849860263936 * new_index_40744;\n            int64_t binop_x_40751 = binop_x_40743 - binop_y_40750;\n            int64_t new_index_40752 = squot64(binop_x_40751, (int64_t) 3298534883328);\n            int64_t binop_y_40768 = (int64_t) 3298534883328 * new_in", "dex_40752;\n            int64_t binop_x_40769 = binop_x_40751 - binop_y_40768;\n            int64_t new_index_40770 = squot64(binop_x_40769, (int64_t) 6442450944);\n            int64_t binop_y_40806 = (int64_t) 6442450944 * new_index_40770;\n            int64_t binop_x_40807 = binop_x_40769 - binop_y_40806;\n            int64_t new_index_40808 = squot64(binop_x_40807, (int64_t) 12582912);\n            int64_t binop_y_40884 = (int64_t) 12582912 * new_index_40808;\n            int64_t binop_x_40885 = binop_x_40807 - binop_y_40884;\n            int64_t new_index_40886 = squot64(binop_x_40885, (int64_t) 24576);\n            int64_t binop_y_41042 = (int64_t) 24576 * new_index_40886;\n            int64_t binop_x_41043 = binop_x_40885 - binop_y_41042;\n            int64_t new_index_41044 = squot64(binop_x_41043, (int64_t) 48);\n            int64_t binop_y_41360 = (int64_t) 48 * new_index_41044;\n            int64_t binop_x_41361 = binop_x_41043 - binop_y_41360;\n            int64_t new_index_41362 = squot64(binop_x_41361, (int64_t) 8);\n            int64_t binop_y_41998 = (int64_t) 8 * new_index_41362;\n            int64_t new_index_41999 = binop_x_41361 - binop_y_41998;\n            int64_t x_31398 = ((__global int64_t *) mem_107285)[new_index_40744 * (int64_t) 1688849860263936 + new_index_40752 * (int64_t) 3298534883328 + new_index_40770 * (int64_t) 6442450944 + new_index_40808 * (int64_t) 12582912 + new_index_40886 * (int64_t) 24576 + new_index_41044 * (int64_t) 48 + new_index_41362 * (int64_t) 8 + new_index_41999];\n            int16_t i64_res_31399 = ((__global int16_t *) mem_107288)[gtid_31393];\n            bool bounds_check_31400 = ((__global bool *) mem_107290)[gtid_31393];\n            int64_t binop_x_31401 = ((__global int64_t *) mem_107292)[gtid_31393];\n            int64_t binop_x_42002 = gtid_31394 + binop_x_79069;\n            int64_t new_index_42003 = squot64(binop_x_42002, (int64_t) 1688849860263936);\n            int64_t binop_y_42011 = (int64_t) 1688849860263936 * new_index_42",
                                     "003;\n            int64_t binop_x_42012 = binop_x_42002 - binop_y_42011;\n            int64_t new_index_42013 = squot64(binop_x_42012, (int64_t) 3298534883328);\n            int64_t binop_y_42033 = (int64_t) 3298534883328 * new_index_42013;\n            int64_t binop_x_42034 = binop_x_42012 - binop_y_42033;\n            int64_t new_index_42035 = squot64(binop_x_42034, (int64_t) 6442450944);\n            int64_t binop_y_42079 = (int64_t) 6442450944 * new_index_42035;\n            int64_t binop_x_42080 = binop_x_42034 - binop_y_42079;\n            int64_t new_index_42081 = squot64(binop_x_42080, (int64_t) 12582912);\n            int64_t binop_y_42173 = (int64_t) 12582912 * new_index_42081;\n            int64_t binop_x_42174 = binop_x_42080 - binop_y_42173;\n            int64_t new_index_42175 = squot64(binop_x_42174, (int64_t) 24576);\n            int64_t binop_y_42363 = (int64_t) 24576 * new_index_42175;\n            int64_t binop_x_42364 = binop_x_42174 - binop_y_42363;\n            int64_t new_index_42365 = squot64(binop_x_42364, (int64_t) 48);\n            int64_t binop_y_42745 = (int64_t) 48 * new_index_42365;\n            int64_t binop_x_42746 = binop_x_42364 - binop_y_42745;\n            int64_t new_index_42747 = squot64(binop_x_42746, (int64_t) 8);\n            int64_t binop_y_43511 = (int64_t) 8 * new_index_42747;\n            int64_t new_index_43512 = binop_x_42746 - binop_y_43511;\n            int64_t x_31402 = ((__global int64_t *) mem_107285)[new_index_42003 * (int64_t) 1688849860263936 + new_index_42013 * (int64_t) 3298534883328 + new_index_42035 * (int64_t) 6442450944 + new_index_42081 * (int64_t) 12582912 + new_index_42175 * (int64_t) 24576 + new_index_42365 * (int64_t) 48 + new_index_42747 * (int64_t) 8 + new_index_43512];\n            int16_t i64_res_31403 = ((__global int16_t *) mem_107295)[gtid_31393 * (int64_t) 8 + gtid_31394];\n            bool bounds_check_31404 = ((__global bool *) mem_107297)[gtid_31393 * (int64_t) 8 + gtid_31394];\n            int64_t binop_x_31405", " = ((__global int64_t *) mem_107299)[gtid_31393 * (int64_t) 8 + gtid_31394];\n            int64_t binop_x_43515 = gtid_31395 + binop_x_77554;\n            int64_t new_index_43516 = squot64(binop_x_43515, (int64_t) 1688849860263936);\n            int64_t binop_y_43524 = (int64_t) 1688849860263936 * new_index_43516;\n            int64_t binop_x_43525 = binop_x_43515 - binop_y_43524;\n            int64_t new_index_43526 = squot64(binop_x_43525, (int64_t) 3298534883328);\n            int64_t binop_y_43546 = (int64_t) 3298534883328 * new_index_43526;\n            int64_t binop_x_43547 = binop_x_43525 - binop_y_43546;\n            int64_t new_index_43548 = squot64(binop_x_43547, (int64_t) 6442450944);\n            int64_t binop_y_43592 = (int64_t) 6442450944 * new_index_43548;\n            int64_t binop_x_43593 = binop_x_43547 - binop_y_43592;\n            int64_t new_index_43594 = squot64(binop_x_43593, (int64_t) 12582912);\n            int64_t binop_y_43686 = (int64_t) 12582912 * new_index_43594;\n            int64_t binop_x_43687 = binop_x_43593 - binop_y_43686;\n            int64_t new_index_43688 = squot64(binop_x_43687, (int64_t) 24576);\n            int64_t binop_y_43876 = (int64_t) 24576 * new_index_43688;\n            int64_t binop_x_43877 = binop_x_43687 - binop_y_43876;\n            int64_t new_index_43878 = squot64(binop_x_43877, (int64_t) 48);\n            int64_t binop_y_44258 = (int64_t) 48 * new_index_43878;\n            int64_t binop_x_44259 = binop_x_43877 - binop_y_44258;\n            int64_t new_index_44260 = squot64(binop_x_44259, (int64_t) 8);\n            int64_t binop_y_45024 = (int64_t) 8 * new_index_44260;\n            int64_t new_index_45025 = binop_x_44259 - binop_y_45024;\n            int64_t x_31406 = ((__global int64_t *) mem_107285)[new_index_43516 * (int64_t) 1688849860263936 + new_index_43526 * (int64_t) 3298534883328 + new_index_43548 * (int64_t) 6442450944 + new_index_43594 * (int64_t) 12582912 + new_index_43688 * (int64_t) 24576 + new_index_43878 * (int64_t)", " 48 + new_index_44260 * (int64_t) 8 + new_index_45025];\n            int16_t i64_res_31407 = ((__global int16_t *) mem_107302)[gtid_31393 * (int64_t) 64 + gtid_31394 * (int64_t) 8 + gtid_31395];\n            bool bounds_check_31408 = ((__global bool *) mem_107304)[gtid_31393 * (int64_t) 64 + gtid_31394 * (int64_t) 8 + gtid_31395];\n            int64_t binop_x_31409 = ((__global int64_t *) mem_107306)[gtid_31393 * (int64_t) 64 + gtid_31394 * (int64_t) 8 + gtid_31395];\n            int64_t binop_x_45028 = gtid_31396 + binop_x_76039;\n            int64_t new_index_45029 = squot64(binop_x_45028, (int64_t) 1688849860263936);\n            int64_t binop_y_45037 = (int64_t) 1688849860263936 * new_index_45029;\n            int64_t binop_x_45038 = binop_x_45028 - binop_y_45037;\n            int64_t new_index_45039 = squot64(binop_x_45038, (int64_t) 3298534883328);\n            int64_t binop_y_45059 = (int64_t) 3298534883328 * new_index_45039;\n            int64_t binop_x_45060 = binop_x_45038 - binop_y_45059;\n            int64_t new_index_45061 = squot64(binop_x_45060, (int64_t) 6442450944);\n            int64_t binop_y_45105 = (int64_t) 6442450944 * new_index_45061;\n            int64_t binop_x_45106 = binop_x_45060 - binop_y_45105;\n            int64_t new_index_45107 = squot64(binop_x_45106, (int64_t) 12582912);\n            int64_t binop_y_45199 = (int64_t) 12582912 * new_index_45107;\n            int64_t binop_x_45200 = binop_x_45106 - binop_y_45199;\n            int64_t new_index_45201 = squot64(binop_x_45200, (int64_t) 24576);\n            int64_t binop_y_45389 = (int64_t) 24576 * new_index_45201;\n            int64_t binop_x_45390 = binop_x_45200 - binop_y_45389;\n            int64_t new_index_45391 = squot64(binop_x_45390, (int64_t) 48);\n            int64_t binop_y_45771 = (int64_t) 48 * new_index_45391;\n            int64_t binop_x_45772 = binop_x_45390 - binop_y_45771;\n            int64_t new_index_45773 = squot64(binop_x_45772, (int64_t) 8);\n            int64_t binop_y_46537 = (int64",
                                     "_t) 8 * new_index_45773;\n            int64_t new_index_46538 = binop_x_45772 - binop_y_46537;\n            int64_t x_31410 = ((__global int64_t *) mem_107285)[new_index_45029 * (int64_t) 1688849860263936 + new_index_45039 * (int64_t) 3298534883328 + new_index_45061 * (int64_t) 6442450944 + new_index_45107 * (int64_t) 12582912 + new_index_45201 * (int64_t) 24576 + new_index_45391 * (int64_t) 48 + new_index_45773 * (int64_t) 8 + new_index_46538];\n            int16_t i64_res_31411 = sext_i64_i16(x_31410);\n            bool x_31412 = sle64((int64_t) 0, x_31410);\n            bool y_31413 = slt64(x_31410, (int64_t) 1024);\n            bool bounds_check_31414 = x_31412 && y_31413;\n            int64_t binop_x_31415 = (int64_t) 16 * x_31410;\n            bool mem_107394[(int64_t) 8 * (int64_t) 8];\n            int16_t mem_107395[(int64_t) 8 * (int64_t) 8 * (int64_t) 6];\n            int16_t mem_107402[(int64_t) 6];\n            \n            for (int64_t i_83684 = 0; i_83684 < (int64_t) 8; i_83684++) {\n                int64_t binop_x_101867 = binop_x_74524 + i_83684;\n                int64_t new_index_101868 = squot64(binop_x_101867, (int64_t) 1688849860263936);\n                int64_t binop_y_101876 = (int64_t) 1688849860263936 * new_index_101868;\n                int64_t binop_x_101877 = binop_x_101867 - binop_y_101876;\n                int64_t new_index_101878 = squot64(binop_x_101877, (int64_t) 3298534883328);\n                int64_t binop_y_101898 = (int64_t) 3298534883328 * new_index_101878;\n                int64_t binop_x_101899 = binop_x_101877 - binop_y_101898;\n                int64_t new_index_101900 = squot64(binop_x_101899, (int64_t) 6442450944);\n                int64_t binop_y_101944 = (int64_t) 6442450944 * new_index_101900;\n                int64_t binop_x_101945 = binop_x_101899 - binop_y_101944;\n                int64_t new_index_101946 = squot64(binop_x_101945, (int64_t) 12582912);\n                int64_t binop_y_102038 = (int64_t) 12582912 * new_index_101946;\n         ", "       int64_t binop_x_102039 = binop_x_101945 - binop_y_102038;\n                int64_t new_index_102040 = squot64(binop_x_102039, (int64_t) 24576);\n                int64_t binop_y_102228 = (int64_t) 24576 * new_index_102040;\n                int64_t binop_x_102229 = binop_x_102039 - binop_y_102228;\n                int64_t new_index_102230 = squot64(binop_x_102229, (int64_t) 48);\n                int64_t binop_y_102610 = (int64_t) 48 * new_index_102230;\n                int64_t binop_x_102611 = binop_x_102229 - binop_y_102610;\n                int64_t new_index_102612 = squot64(binop_x_102611, (int64_t) 8);\n                int64_t binop_y_103376 = (int64_t) 8 * new_index_102612;\n                int64_t new_index_103377 = binop_x_102611 - binop_y_103376;\n                int64_t x_31418 = ((__global int64_t *) mem_107245)[new_index_102612 * (int64_t) 144115188075855872 + new_index_103377 * (int64_t) 18014398509481984 + new_index_101868 * (int64_t) 35184372088832 + new_index_101878 * (int64_t) 68719476736 + new_index_101900 * (int64_t) 134217728 + new_index_101946 * (int64_t) 262144 + new_index_102040 * (int64_t) 512 + new_index_102230];\n                int16_t i64_res_31419 = sext_i64_i16(x_31418);\n                bool x_31420 = sle64((int64_t) 0, x_31418);\n                bool y_31421 = slt64(x_31418, (int64_t) 1024);\n                bool bounds_check_31422 = x_31420 && y_31421;\n                int64_t binop_x_31423 = (int64_t) 16 * x_31418;\n                \n                for (int64_t i_83691 = 0; i_83691 < (int64_t) 8; i_83691++) {\n                    int64_t binop_x_103380 = binop_x_73009 + i_83691;\n                    int64_t new_index_103381 = squot64(binop_x_103380, (int64_t) 1688849860263936);\n                    int64_t binop_y_103389 = (int64_t) 1688849860263936 * new_index_103381;\n                    int64_t binop_x_103390 = binop_x_103380 - binop_y_103389;\n                    int64_t new_index_103391 = squot64(binop_x_103390, (int64_t) 3298534883328);\n      ", "              int64_t binop_y_103411 = (int64_t) 3298534883328 * new_index_103391;\n                    int64_t binop_x_103412 = binop_x_103390 - binop_y_103411;\n                    int64_t new_index_103413 = squot64(binop_x_103412, (int64_t) 6442450944);\n                    int64_t binop_y_103457 = (int64_t) 6442450944 * new_index_103413;\n                    int64_t binop_x_103458 = binop_x_103412 - binop_y_103457;\n                    int64_t new_index_103459 = squot64(binop_x_103458, (int64_t) 12582912);\n                    int64_t binop_y_103551 = (int64_t) 12582912 * new_index_103459;\n                    int64_t binop_x_103552 = binop_x_103458 - binop_y_103551;\n                    int64_t new_index_103553 = squot64(binop_x_103552, (int64_t) 24576);\n                    int64_t binop_y_103741 = (int64_t) 24576 * new_index_103553;\n                    int64_t binop_x_103742 = binop_x_103552 - binop_y_103741;\n                    int64_t new_index_103743 = squot64(binop_x_103742, (int64_t) 48);\n                    int64_t binop_y_104123 = (int64_t) 48 * new_index_103743;\n                    int64_t binop_x_104124 = binop_x_103742 - binop_y_104123;\n                    int64_t new_index_104125 = squot64(binop_x_104124, (int64_t) 8);\n                    int64_t binop_y_104889 = (int64_t) 8 * new_index_104125;\n                    int64_t new_index_104890 = binop_x_104124 - binop_y_104889;\n                    int64_t x_31426 = ((__global int64_t *) mem_107245)[new_index_104125 * (int64_t) 144115188075855872 + new_index_104890 * (int64_t) 18014398509481984 + new_index_103381 * (int64_t) 35184372088832 + new_index_103391 * (int64_t) 68719476736 + new_index_103413 * (int64_t) 134217728 + new_index_103459 * (int64_t) 262144 + new_index_103553 * (int64_t) 512 + new_index_103743];\n                    bool x_31427 = sle64((int64_t) 0, x_31426);\n                    bool y_31428 = slt64(x_31426, (int64_t) 1024);\n                    bool bounds_check_31429 = x_31427 && y_31428;\n     ",
                                     "               int64_t binop_x_31430 = (int64_t) 16 * x_31426;\n                    bool all_equal_31431;\n                    bool redout_83694 = 1;\n                    \n                    for (int64_t i_83695 = 0; i_83695 < (int64_t) 16; i_83695++) {\n                        int8_t x_31435 = ((__global int8_t *) mem_107211)[i_83695];\n                        int8_t y_31436 = ((__global int8_t *) mem_107213)[i_83695];\n                        int64_t u8_res_31437 = zext_i8_i64(x_31435);\n                        bool x_31438 = sle64((int64_t) 0, u8_res_31437);\n                        bool y_31439 = slt64(u8_res_31437, (int64_t) 16);\n                        bool bounds_check_31440 = x_31438 && y_31439;\n                        bool index_ok_31441 = bounds_check_31429 && bounds_check_31440;\n                        bool index_certs_31442;\n                        \n                        if (!index_ok_31441) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 18) == -1) {\n                                    global_failure_args[0] = (int64_t) x_31426;\n                                    global_failure_args[1] = (int64_t) u8_res_31437;\n                                    global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                    global_failure_args[3] = (int64_t) (int64_t) 16;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        \n                        int64_t binop_x_31443 = binop_x_31430 + u8_res_31437;\n                        int64_t new_index_31444 = squot64(binop_x_31443, (int64_t) 1024);\n                        int64_t binop_y_31445 = (int64_t) 1024 * new_index_31444;\n                        int64_t binop_x_31446 = binop_x_31443 - binop_y_31445;\n                        int64_t new_index_314", "47 = squot64(binop_x_31446, (int64_t) 64);\n                        int64_t binop_y_31448 = (int64_t) 64 * new_index_31447;\n                        int64_t binop_x_31449 = binop_x_31446 - binop_y_31448;\n                        int64_t new_index_31450 = squot64(binop_x_31449, (int64_t) 32);\n                        int64_t binop_y_31451 = (int64_t) 32 * new_index_31450;\n                        int64_t binop_x_31452 = binop_x_31449 - binop_y_31451;\n                        int64_t new_index_31453 = squot64(binop_x_31452, (int64_t) 16);\n                        int64_t binop_y_31454 = (int64_t) 16 * new_index_31453;\n                        int64_t new_index_31455 = binop_x_31452 - binop_y_31454;\n                        int8_t defunc_0_f_res_31456 = ((__global int8_t *) mem_107222)[new_index_31444 * (int64_t) 1024 + new_index_31447 * (int64_t) 64 + new_index_31450 * (int64_t) 32 + new_index_31453 * (int64_t) 16 + new_index_31455];\n                        int64_t u8_res_31457 = zext_i8_i64(defunc_0_f_res_31456);\n                        bool x_31458 = sle64((int64_t) 0, u8_res_31457);\n                        bool y_31459 = slt64(u8_res_31457, (int64_t) 16);\n                        bool bounds_check_31460 = x_31458 && y_31459;\n                        bool index_ok_31461 = bounds_check_31422 && bounds_check_31460;\n                        bool index_certs_31462;\n                        \n                        if (!index_ok_31461) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 19) == -1) {\n                                    global_failure_args[0] = (int64_t) x_31418;\n                                    global_failure_args[1] = (int64_t) u8_res_31457;\n                                    global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                    global_failure_args[3] = (int64_t) (int64_t) 16;\n                                    ;\n                                }\n                      ", "          local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        \n                        int64_t binop_x_31463 = binop_x_31423 + u8_res_31457;\n                        int64_t new_index_31464 = squot64(binop_x_31463, (int64_t) 1024);\n                        int64_t binop_y_31465 = (int64_t) 1024 * new_index_31464;\n                        int64_t binop_x_31466 = binop_x_31463 - binop_y_31465;\n                        int64_t new_index_31467 = squot64(binop_x_31466, (int64_t) 64);\n                        int64_t binop_y_31468 = (int64_t) 64 * new_index_31467;\n                        int64_t binop_x_31469 = binop_x_31466 - binop_y_31468;\n                        int64_t new_index_31470 = squot64(binop_x_31469, (int64_t) 32);\n                        int64_t binop_y_31471 = (int64_t) 32 * new_index_31470;\n                        int64_t binop_x_31472 = binop_x_31469 - binop_y_31471;\n                        int64_t new_index_31473 = squot64(binop_x_31472, (int64_t) 16);\n                        int64_t binop_y_31474 = (int64_t) 16 * new_index_31473;\n                        int64_t new_index_31475 = binop_x_31472 - binop_y_31474;\n                        int8_t defunc_0_f_res_31476 = ((__global int8_t *) mem_107222)[new_index_31464 * (int64_t) 1024 + new_index_31467 * (int64_t) 64 + new_index_31470 * (int64_t) 32 + new_index_31473 * (int64_t) 16 + new_index_31475];\n                        int64_t u8_res_31477 = zext_i8_i64(defunc_0_f_res_31476);\n                        bool x_31478 = sle64((int64_t) 0, u8_res_31477);\n                        bool y_31479 = slt64(u8_res_31477, (int64_t) 16);\n                        bool bounds_check_31480 = x_31478 && y_31479;\n                        bool index_ok_31481 = bounds_check_31414 && bounds_check_31480;\n                        bool index_certs_31482;\n                        \n                        if (!index_ok_31481) {\n                          ",
                                     "  {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 20) == -1) {\n                                    global_failure_args[0] = (int64_t) x_31410;\n                                    global_failure_args[1] = (int64_t) u8_res_31477;\n                                    global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                    global_failure_args[3] = (int64_t) (int64_t) 16;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        \n                        int64_t binop_x_31483 = binop_x_31415 + u8_res_31477;\n                        int64_t new_index_31484 = squot64(binop_x_31483, (int64_t) 1024);\n                        int64_t binop_y_31485 = (int64_t) 1024 * new_index_31484;\n                        int64_t binop_x_31486 = binop_x_31483 - binop_y_31485;\n                        int64_t new_index_31487 = squot64(binop_x_31486, (int64_t) 64);\n                        int64_t binop_y_31488 = (int64_t) 64 * new_index_31487;\n                        int64_t binop_x_31489 = binop_x_31486 - binop_y_31488;\n                        int64_t new_index_31490 = squot64(binop_x_31489, (int64_t) 32);\n                        int64_t binop_y_31491 = (int64_t) 32 * new_index_31490;\n                        int64_t binop_x_31492 = binop_x_31489 - binop_y_31491;\n                        int64_t new_index_31493 = squot64(binop_x_31492, (int64_t) 16);\n                        int64_t binop_y_31494 = (int64_t) 16 * new_index_31493;\n                        int64_t new_index_31495 = binop_x_31492 - binop_y_31494;\n                        int8_t defunc_0_f_res_31496 = ((__global int8_t *) mem_107222)[new_index_31484 * (int64_t) 1024 + new_index_31487 * (int64_t) 64 + new_index_31490 * (int64_t) 32 + new_index_31493 * (int64_t) 16 + new_index_31495];\n   ", "                     int64_t u8_res_31497 = zext_i8_i64(defunc_0_f_res_31496);\n                        bool x_31498 = sle64((int64_t) 0, u8_res_31497);\n                        bool y_31499 = slt64(u8_res_31497, (int64_t) 16);\n                        bool bounds_check_31500 = x_31498 && y_31499;\n                        bool index_ok_31501 = bounds_check_31408 && bounds_check_31500;\n                        bool index_certs_31502;\n                        \n                        if (!index_ok_31501) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 21) == -1) {\n                                    global_failure_args[0] = (int64_t) x_31406;\n                                    global_failure_args[1] = (int64_t) u8_res_31497;\n                                    global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                    global_failure_args[3] = (int64_t) (int64_t) 16;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        \n                        int64_t binop_x_31503 = binop_x_31409 + u8_res_31497;\n                        int64_t new_index_31504 = squot64(binop_x_31503, (int64_t) 1024);\n                        int64_t binop_y_31505 = (int64_t) 1024 * new_index_31504;\n                        int64_t binop_x_31506 = binop_x_31503 - binop_y_31505;\n                        int64_t new_index_31507 = squot64(binop_x_31506, (int64_t) 64);\n                        int64_t binop_y_31508 = (int64_t) 64 * new_index_31507;\n                        int64_t binop_x_31509 = binop_x_31506 - binop_y_31508;\n                        int64_t new_index_31510 = squot64(binop_x_31509, (int64_t) 32);\n                        int64_t binop_y_31511 = (int64_t) 32 * new_index_31510;\n                        int64_t binop_x_", "31512 = binop_x_31509 - binop_y_31511;\n                        int64_t new_index_31513 = squot64(binop_x_31512, (int64_t) 16);\n                        int64_t binop_y_31514 = (int64_t) 16 * new_index_31513;\n                        int64_t new_index_31515 = binop_x_31512 - binop_y_31514;\n                        int8_t defunc_0_f_res_31516 = ((__global int8_t *) mem_107222)[new_index_31504 * (int64_t) 1024 + new_index_31507 * (int64_t) 64 + new_index_31510 * (int64_t) 32 + new_index_31513 * (int64_t) 16 + new_index_31515];\n                        int64_t u8_res_31517 = zext_i8_i64(defunc_0_f_res_31516);\n                        bool x_31518 = sle64((int64_t) 0, u8_res_31517);\n                        bool y_31519 = slt64(u8_res_31517, (int64_t) 16);\n                        bool bounds_check_31520 = x_31518 && y_31519;\n                        bool index_ok_31521 = bounds_check_31404 && bounds_check_31520;\n                        bool index_certs_31522;\n                        \n                        if (!index_ok_31521) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 22) == -1) {\n                                    global_failure_args[0] = (int64_t) x_31402;\n                                    global_failure_args[1] = (int64_t) u8_res_31517;\n                                    global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                    global_failure_args[3] = (int64_t) (int64_t) 16;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        \n                        int64_t binop_x_31523 = binop_x_31405 + u8_res_31517;\n                        int64_t new_index_31524 = squot64(binop_x_31523, (int64_t) 1024);\n                        int64_t binop_y_31525 = (int64_t) 1024 * new_index_31524;\n    ",
                                     "                    int64_t binop_x_31526 = binop_x_31523 - binop_y_31525;\n                        int64_t new_index_31527 = squot64(binop_x_31526, (int64_t) 64);\n                        int64_t binop_y_31528 = (int64_t) 64 * new_index_31527;\n                        int64_t binop_x_31529 = binop_x_31526 - binop_y_31528;\n                        int64_t new_index_31530 = squot64(binop_x_31529, (int64_t) 32);\n                        int64_t binop_y_31531 = (int64_t) 32 * new_index_31530;\n                        int64_t binop_x_31532 = binop_x_31529 - binop_y_31531;\n                        int64_t new_index_31533 = squot64(binop_x_31532, (int64_t) 16);\n                        int64_t binop_y_31534 = (int64_t) 16 * new_index_31533;\n                        int64_t new_index_31535 = binop_x_31532 - binop_y_31534;\n                        int8_t defunc_0_f_res_31536 = ((__global int8_t *) mem_107222)[new_index_31524 * (int64_t) 1024 + new_index_31527 * (int64_t) 64 + new_index_31530 * (int64_t) 32 + new_index_31533 * (int64_t) 16 + new_index_31535];\n                        int64_t u8_res_31537 = zext_i8_i64(defunc_0_f_res_31536);\n                        bool x_31538 = sle64((int64_t) 0, u8_res_31537);\n                        bool y_31539 = slt64(u8_res_31537, (int64_t) 16);\n                        bool bounds_check_31540 = x_31538 && y_31539;\n                        bool index_ok_31541 = bounds_check_31400 && bounds_check_31540;\n                        bool index_certs_31542;\n                        \n                        if (!index_ok_31541) {\n                            {\n                                if (atomic_cmpxchg_i32_global(global_failure, -1, 23) == -1) {\n                                    global_failure_args[0] = (int64_t) x_31398;\n                                    global_failure_args[1] = (int64_t) u8_res_31537;\n                                    global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                    global_failure_args[3] ", "= (int64_t) (int64_t) 16;\n                                    ;\n                                }\n                                local_failure = 1;\n                                goto error_0;\n                            }\n                        }\n                        \n                        int64_t binop_x_31543 = binop_x_31401 + u8_res_31537;\n                        int64_t new_index_31544 = squot64(binop_x_31543, (int64_t) 1024);\n                        int64_t binop_y_31545 = (int64_t) 1024 * new_index_31544;\n                        int64_t binop_x_31546 = binop_x_31543 - binop_y_31545;\n                        int64_t new_index_31547 = squot64(binop_x_31546, (int64_t) 64);\n                        int64_t binop_y_31548 = (int64_t) 64 * new_index_31547;\n                        int64_t binop_x_31549 = binop_x_31546 - binop_y_31548;\n                        int64_t new_index_31550 = squot64(binop_x_31549, (int64_t) 32);\n                        int64_t binop_y_31551 = (int64_t) 32 * new_index_31550;\n                        int64_t binop_x_31552 = binop_x_31549 - binop_y_31551;\n                        int64_t new_index_31553 = squot64(binop_x_31552, (int64_t) 16);\n                        int64_t binop_y_31554 = (int64_t) 16 * new_index_31553;\n                        int64_t new_index_31555 = binop_x_31552 - binop_y_31554;\n                        int8_t defunc_0_f_res_31556 = ((__global int8_t *) mem_107222)[new_index_31544 * (int64_t) 1024 + new_index_31547 * (int64_t) 64 + new_index_31550 * (int64_t) 32 + new_index_31553 * (int64_t) 16 + new_index_31555];\n                        bool binlam_res_31557 = defunc_0_f_res_31556 == y_31436;\n                        bool binlam_res_31434 = binlam_res_31557 && redout_83694;\n                        bool redout_tmp_108121 = binlam_res_31434;\n                        \n                        redout_83694 = redout_tmp_108121;\n                    }\n                    all_equal_31431 = redout_83694;\n                    \n     ", "               int16_t i64_res_31558 = sext_i64_i16(x_31426);\n                    \n                    mem_107402[(int64_t) 0] = i64_res_31399;\n                    mem_107402[(int64_t) 1] = i64_res_31403;\n                    mem_107402[(int64_t) 2] = i64_res_31407;\n                    mem_107402[(int64_t) 3] = i64_res_31411;\n                    mem_107402[(int64_t) 4] = i64_res_31419;\n                    mem_107402[(int64_t) 5] = i64_res_31558;\n                    mem_107394[i_83684 * (int64_t) 8 + i_83691] = all_equal_31431;\n                    for (int64_t i_108122 = 0; i_108122 < (int64_t) 6; i_108122++) {\n                        int16_t tmp_108123 = mem_107402[i_108122];\n                        \n                        mem_107395[i_83684 * (int64_t) 48 + i_83691 * (int64_t) 6 + i_108122] = tmp_108123;\n                    }\n                }\n            }\n            for (int64_t i_108124 = 0; i_108124 < (int64_t) 8; i_108124++) {\n                for (int64_t i_108125 = 0; i_108125 < (int64_t) 8; i_108125++) {\n                    bool tmp_108126 = mem_107394[i_108124 * (int64_t) 8 + i_108125];\n                    \n                    ((__global bool *) mem_107411)[gtid_31393 * (int64_t) 512 + gtid_31394 * (int64_t) 64 + gtid_31395 * (int64_t) 8 + gtid_31396 + (i_108124 * (int64_t) 32768 + i_108125 * (int64_t) 4096)] = tmp_108126;\n                }\n            }\n            for (int64_t i_108127 = 0; i_108127 < (int64_t) 8; i_108127++) {\n                for (int64_t i_108128 = 0; i_108128 < (int64_t) 8; i_108128++) {\n                    for (int64_t i_108129 = 0; i_108129 < (int64_t) 6; i_108129++) {\n                        int16_t tmp_108130 = mem_107395[i_108127 * (int64_t) 48 + i_108128 * (int64_t) 6 + i_108129];\n                        \n                        ((__global int16_t *) mem_107412)[gtid_31393 * (int64_t) 512 + gtid_31394 * (int64_t) 64 + gtid_31395 * (int64_t) 8 + gtid_31396 + (i_108127 * (int64_t) 196608 + i_108128 * (int64_t) 24576 + i_108129 * (",
                                     "int64_t) 4096)] = tmp_108130;\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_31381\n}\n__kernel void segmap_31573(__global int *global_failure, int64_t binop_x_76039, __global unsigned char *mem_107285, __global unsigned char *mem_107309, __global unsigned char *mem_107311, __global unsigned char *mem_107313)\n{\n    #define segmap_group_sizze_31564 (segmap_group_sizze_28334)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_108133;\n    int64_t group_sizze_108136;\n    int32_t wave_sizze_108135;\n    int32_t group_tid_108134;\n    \n    local_tid_108133 = get_local_id(0);\n    group_sizze_108136 = get_local_size(0);\n    wave_sizze_108135 = LOCKSTEP_WIDTH;\n    group_tid_108134 = get_group_id(0);\n    \n    int32_t global_tid_108132 = group_tid_108134 * group_sizze_108136 + local_tid_108133;\n    int32_t phys_tid_31573 = global_tid_108132;\n    int64_t global_tid_108137 = sext_i32_i64(group_tid_108134) * segmap_group_sizze_31564 + sext_i32_i64(local_tid_108133);\n    int64_t slice_108138 = (int64_t) 8;\n    int64_t slice_108139 = (int64_t) 8 * slice_108138;\n    int64_t slice_108140 = (int64_t) 8 * slice_108139;\n    int64_t slice_108141 = (int64_t) 8 * slice_108140;\n    int64_t gtid_31569 = squot64(global_tid_108137, slice_108140);\n    int64_t remnant_108142 = global_tid_108137 - gtid_31569 * slice_108140;\n    int64_t gtid_31570 = squot64(remnant_108142, slice_108139);\n    int64_t remnant_108143 = remnant_108142 - gtid_31570 * slice_108139;\n    int64_t gtid_31571 = squot64(remnant_108143, slice_108138);\n    int64_t remnant_108144 = remnant_108143 - gtid_31571 * slice_108138;\n    int64_t gtid_31572 = remnant_108144;\n    int64_t remnant_108145 = remnant_108144 - gtid_31572;\n    \n    if (((slt64(gtid_31569, (int64_t) 8) && slt", "64(gtid_31570, (int64_t) 8)) && slt64(gtid_31571, (int64_t) 8)) && slt64(gtid_31572, (int64_t) 8)) {\n        int64_t binop_x_76040 = gtid_31572 + binop_x_76039;\n        int64_t new_index_76041 = squot64(binop_x_76040, (int64_t) 1688849860263936);\n        int64_t binop_y_76049 = (int64_t) 1688849860263936 * new_index_76041;\n        int64_t binop_x_76050 = binop_x_76040 - binop_y_76049;\n        int64_t new_index_76051 = squot64(binop_x_76050, (int64_t) 3298534883328);\n        int64_t binop_y_76071 = (int64_t) 3298534883328 * new_index_76051;\n        int64_t binop_x_76072 = binop_x_76050 - binop_y_76071;\n        int64_t new_index_76073 = squot64(binop_x_76072, (int64_t) 6442450944);\n        int64_t binop_y_76117 = (int64_t) 6442450944 * new_index_76073;\n        int64_t binop_x_76118 = binop_x_76072 - binop_y_76117;\n        int64_t new_index_76119 = squot64(binop_x_76118, (int64_t) 12582912);\n        int64_t binop_y_76211 = (int64_t) 12582912 * new_index_76119;\n        int64_t binop_x_76212 = binop_x_76118 - binop_y_76211;\n        int64_t new_index_76213 = squot64(binop_x_76212, (int64_t) 24576);\n        int64_t binop_y_76401 = (int64_t) 24576 * new_index_76213;\n        int64_t binop_x_76402 = binop_x_76212 - binop_y_76401;\n        int64_t new_index_76403 = squot64(binop_x_76402, (int64_t) 48);\n        int64_t binop_y_76783 = (int64_t) 48 * new_index_76403;\n        int64_t binop_x_76784 = binop_x_76402 - binop_y_76783;\n        int64_t new_index_76785 = squot64(binop_x_76784, (int64_t) 8);\n        int64_t binop_y_77549 = (int64_t) 8 * new_index_76785;\n        int64_t new_index_77550 = binop_x_76784 - binop_y_77549;\n        int64_t x_31574 = ((__global int64_t *) mem_107285)[new_index_76041 * (int64_t) 1688849860263936 + new_index_76051 * (int64_t) 3298534883328 + new_index_76073 * (int64_t) 6442450944 + new_index_76119 * (int64_t) 12582912 + new_index_76213 * (int64_t) 24576 + new_index_76403 * (int64_t) 48 + new_index_76785 * (int64_t) 8 + new_index_77550];\n        int1", "6_t i64_res_31575 = sext_i64_i16(x_31574);\n        bool x_31576 = sle64((int64_t) 0, x_31574);\n        bool y_31577 = slt64(x_31574, (int64_t) 1024);\n        bool bounds_check_31578 = x_31576 && y_31577;\n        int64_t binop_x_31579 = (int64_t) 16 * x_31574;\n        \n        ((__global int16_t *) mem_107309)[gtid_31569 * (int64_t) 512 + gtid_31570 * (int64_t) 64 + gtid_31571 * (int64_t) 8 + gtid_31572] = i64_res_31575;\n        ((__global bool *) mem_107311)[gtid_31569 * (int64_t) 512 + gtid_31570 * (int64_t) 64 + gtid_31571 * (int64_t) 8 + gtid_31572] = bounds_check_31578;\n        ((__global int64_t *) mem_107313)[gtid_31569 * (int64_t) 512 + gtid_31570 * (int64_t) 64 + gtid_31571 * (int64_t) 8 + gtid_31572] = binop_x_31579;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_31564\n}\n__kernel void segmap_31603(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, int64_t num_groups_31586, int64_t binop_x_73009, int64_t binop_x_74524, int64_t binop_x_76039, int64_t binop_x_77554, int64_t binop_x_79069, int64_t binop_x_80583, int32_t virt_num_groups_108146, __global unsigned char *mem_107211, __global unsigned char *mem_107213, __global unsigned char *mem_107222, __global unsigned char *mem_107245, __global unsigned char *mem_107285, __global unsigned char *mem_107288, __global unsigned char *mem_107290, __global unsigned char *mem_107292, __global unsigned char *mem_107295, __global unsigned char *mem_107297, __global unsigned char *mem_107299, __global unsigned char *mem_107302, __global unsigned char *mem_107304, __global unsigned char *mem_107306, __global unsigned char *mem_107309, __global unsigned char *mem_107311, __global unsigned char *mem_107313, __global unsigned char *mem_107383, __global unsigned char *mem_107384)\n{\n    #define segmap_group_sizze_31585 (segmap_group_sizze_26955)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile __local int loca",
                                     "l_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_108148;\n    int64_t group_sizze_108151;\n    int32_t wave_sizze_108150;\n    int32_t group_tid_108149;\n    \n    local_tid_108148 = get_local_id(0);\n    group_sizze_108151 = get_local_size(0);\n    wave_sizze_108150 = LOCKSTEP_WIDTH;\n    group_tid_108149 = get_group_id(0);\n    \n    int32_t global_tid_108147 = group_tid_108149 * group_sizze_108151 + local_tid_108148;\n    int32_t phys_tid_31603 = global_tid_108147;\n    int32_t phys_group_id_108152;\n    \n    phys_group_id_108152 = get_group_id(0);\n    \n    int32_t iterations_108153 = sdiv_up32(virt_num_groups_108146 - phys_group_id_108152, sext_i64_i32(num_groups_31586));\n    \n    for (int32_t i_108154 = 0; i_108154 < iterations_108153; i_108154++) {\n        int32_t virt_group_id_108155 = phys_group_id_108152 + i_108154 * sext_i64_i32(num_groups_31586);\n        int64_t global_tid_108156 = sext_i32_i64(virt_group_id_108155) * segmap_group_sizze_31585 + sext_i32_i64(local_tid_108148);\n        int64_t slice_108157 = (int64_t) 8;\n        int64_t slice_108158 = (int64_t) 8 * slice_108157;\n        int64_t slice_108159 = (int64_t) 8 * slice_108158;\n        int64_t slice_108160 = (int64_t) 8 * slice_108159;\n        int64_t slice_108161 = (int64_t) 8 * slice_108160;\n        int64_t gtid_31598 = squot64(global_tid_108156, slice_108160);\n        int64_t remnant_108162 = global_tid_108156 - gtid_31598 * slice_108160;\n        int64_t gtid_31599 = squot64(remnant_108162, slice_108159);\n        int64_t remnant_108163 = remnant_108162 - gtid_31599 * slice_108159;\n        int64_t gtid_31600 = squot64(remnant_108163, slice_108158);\n        int64_t remnant_108164 = remnant_108163 - gtid_31600 * slice_108158;\n        int64_t gtid_31601 = squot64(remnant_108164, slice_108157);\n        int64_t remnant_108165 = remnant_", "108164 - gtid_31601 * slice_108157;\n        int64_t gtid_31602 = remnant_108165;\n        int64_t remnant_108166 = remnant_108165 - gtid_31602;\n        \n        if ((((slt64(gtid_31598, (int64_t) 8) && slt64(gtid_31599, (int64_t) 8)) && slt64(gtid_31600, (int64_t) 8)) && slt64(gtid_31601, (int64_t) 8)) && slt64(gtid_31602, (int64_t) 8)) {\n            int64_t binop_x_46540 = gtid_31598 + binop_x_80583;\n            int64_t new_index_46541 = squot64(binop_x_46540, (int64_t) 1688849860263936);\n            int64_t binop_y_46547 = (int64_t) 1688849860263936 * new_index_46541;\n            int64_t binop_x_46548 = binop_x_46540 - binop_y_46547;\n            int64_t new_index_46549 = squot64(binop_x_46548, (int64_t) 3298534883328);\n            int64_t binop_y_46565 = (int64_t) 3298534883328 * new_index_46549;\n            int64_t binop_x_46566 = binop_x_46548 - binop_y_46565;\n            int64_t new_index_46567 = squot64(binop_x_46566, (int64_t) 6442450944);\n            int64_t binop_y_46603 = (int64_t) 6442450944 * new_index_46567;\n            int64_t binop_x_46604 = binop_x_46566 - binop_y_46603;\n            int64_t new_index_46605 = squot64(binop_x_46604, (int64_t) 12582912);\n            int64_t binop_y_46681 = (int64_t) 12582912 * new_index_46605;\n            int64_t binop_x_46682 = binop_x_46604 - binop_y_46681;\n            int64_t new_index_46683 = squot64(binop_x_46682, (int64_t) 24576);\n            int64_t binop_y_46839 = (int64_t) 24576 * new_index_46683;\n            int64_t binop_x_46840 = binop_x_46682 - binop_y_46839;\n            int64_t new_index_46841 = squot64(binop_x_46840, (int64_t) 48);\n            int64_t binop_y_47157 = (int64_t) 48 * new_index_46841;\n            int64_t binop_x_47158 = binop_x_46840 - binop_y_47157;\n            int64_t new_index_47159 = squot64(binop_x_47158, (int64_t) 8);\n            int64_t binop_y_47795 = (int64_t) 8 * new_index_47159;\n            int64_t new_index_47796 = binop_x_47158 - binop_y_47795;\n            int64_t x_31604 = ((__g", "lobal int64_t *) mem_107285)[new_index_46541 * (int64_t) 1688849860263936 + new_index_46549 * (int64_t) 3298534883328 + new_index_46567 * (int64_t) 6442450944 + new_index_46605 * (int64_t) 12582912 + new_index_46683 * (int64_t) 24576 + new_index_46841 * (int64_t) 48 + new_index_47159 * (int64_t) 8 + new_index_47796];\n            int16_t i64_res_31605 = ((__global int16_t *) mem_107288)[gtid_31598];\n            bool bounds_check_31606 = ((__global bool *) mem_107290)[gtid_31598];\n            int64_t binop_x_31607 = ((__global int64_t *) mem_107292)[gtid_31598];\n            int64_t binop_x_47799 = gtid_31599 + binop_x_79069;\n            int64_t new_index_47800 = squot64(binop_x_47799, (int64_t) 1688849860263936);\n            int64_t binop_y_47808 = (int64_t) 1688849860263936 * new_index_47800;\n            int64_t binop_x_47809 = binop_x_47799 - binop_y_47808;\n            int64_t new_index_47810 = squot64(binop_x_47809, (int64_t) 3298534883328);\n            int64_t binop_y_47830 = (int64_t) 3298534883328 * new_index_47810;\n            int64_t binop_x_47831 = binop_x_47809 - binop_y_47830;\n            int64_t new_index_47832 = squot64(binop_x_47831, (int64_t) 6442450944);\n            int64_t binop_y_47876 = (int64_t) 6442450944 * new_index_47832;\n            int64_t binop_x_47877 = binop_x_47831 - binop_y_47876;\n            int64_t new_index_47878 = squot64(binop_x_47877, (int64_t) 12582912);\n            int64_t binop_y_47970 = (int64_t) 12582912 * new_index_47878;\n            int64_t binop_x_47971 = binop_x_47877 - binop_y_47970;\n            int64_t new_index_47972 = squot64(binop_x_47971, (int64_t) 24576);\n            int64_t binop_y_48160 = (int64_t) 24576 * new_index_47972;\n            int64_t binop_x_48161 = binop_x_47971 - binop_y_48160;\n            int64_t new_index_48162 = squot64(binop_x_48161, (int64_t) 48);\n            int64_t binop_y_48542 = (int64_t) 48 * new_index_48162;\n            int64_t binop_x_48543 = binop_x_48161 - binop_y_48542;\n            int64_t",
                                     " new_index_48544 = squot64(binop_x_48543, (int64_t) 8);\n            int64_t binop_y_49308 = (int64_t) 8 * new_index_48544;\n            int64_t new_index_49309 = binop_x_48543 - binop_y_49308;\n            int64_t x_31608 = ((__global int64_t *) mem_107285)[new_index_47800 * (int64_t) 1688849860263936 + new_index_47810 * (int64_t) 3298534883328 + new_index_47832 * (int64_t) 6442450944 + new_index_47878 * (int64_t) 12582912 + new_index_47972 * (int64_t) 24576 + new_index_48162 * (int64_t) 48 + new_index_48544 * (int64_t) 8 + new_index_49309];\n            int16_t i64_res_31609 = ((__global int16_t *) mem_107295)[gtid_31598 * (int64_t) 8 + gtid_31599];\n            bool bounds_check_31610 = ((__global bool *) mem_107297)[gtid_31598 * (int64_t) 8 + gtid_31599];\n            int64_t binop_x_31611 = ((__global int64_t *) mem_107299)[gtid_31598 * (int64_t) 8 + gtid_31599];\n            int64_t binop_x_49312 = gtid_31600 + binop_x_77554;\n            int64_t new_index_49313 = squot64(binop_x_49312, (int64_t) 1688849860263936);\n            int64_t binop_y_49321 = (int64_t) 1688849860263936 * new_index_49313;\n            int64_t binop_x_49322 = binop_x_49312 - binop_y_49321;\n            int64_t new_index_49323 = squot64(binop_x_49322, (int64_t) 3298534883328);\n            int64_t binop_y_49343 = (int64_t) 3298534883328 * new_index_49323;\n            int64_t binop_x_49344 = binop_x_49322 - binop_y_49343;\n            int64_t new_index_49345 = squot64(binop_x_49344, (int64_t) 6442450944);\n            int64_t binop_y_49389 = (int64_t) 6442450944 * new_index_49345;\n            int64_t binop_x_49390 = binop_x_49344 - binop_y_49389;\n            int64_t new_index_49391 = squot64(binop_x_49390, (int64_t) 12582912);\n            int64_t binop_y_49483 = (int64_t) 12582912 * new_index_49391;\n            int64_t binop_x_49484 = binop_x_49390 - binop_y_49483;\n            int64_t new_index_49485 = squot64(binop_x_49484, (int64_t) 24576);\n            int64_t binop_y_49673 = (int64_t) 24576 * new_in", "dex_49485;\n            int64_t binop_x_49674 = binop_x_49484 - binop_y_49673;\n            int64_t new_index_49675 = squot64(binop_x_49674, (int64_t) 48);\n            int64_t binop_y_50055 = (int64_t) 48 * new_index_49675;\n            int64_t binop_x_50056 = binop_x_49674 - binop_y_50055;\n            int64_t new_index_50057 = squot64(binop_x_50056, (int64_t) 8);\n            int64_t binop_y_50821 = (int64_t) 8 * new_index_50057;\n            int64_t new_index_50822 = binop_x_50056 - binop_y_50821;\n            int64_t x_31612 = ((__global int64_t *) mem_107285)[new_index_49313 * (int64_t) 1688849860263936 + new_index_49323 * (int64_t) 3298534883328 + new_index_49345 * (int64_t) 6442450944 + new_index_49391 * (int64_t) 12582912 + new_index_49485 * (int64_t) 24576 + new_index_49675 * (int64_t) 48 + new_index_50057 * (int64_t) 8 + new_index_50822];\n            int16_t i64_res_31613 = ((__global int16_t *) mem_107302)[gtid_31598 * (int64_t) 64 + gtid_31599 * (int64_t) 8 + gtid_31600];\n            bool bounds_check_31614 = ((__global bool *) mem_107304)[gtid_31598 * (int64_t) 64 + gtid_31599 * (int64_t) 8 + gtid_31600];\n            int64_t binop_x_31615 = ((__global int64_t *) mem_107306)[gtid_31598 * (int64_t) 64 + gtid_31599 * (int64_t) 8 + gtid_31600];\n            int64_t binop_x_50825 = gtid_31601 + binop_x_76039;\n            int64_t new_index_50826 = squot64(binop_x_50825, (int64_t) 1688849860263936);\n            int64_t binop_y_50834 = (int64_t) 1688849860263936 * new_index_50826;\n            int64_t binop_x_50835 = binop_x_50825 - binop_y_50834;\n            int64_t new_index_50836 = squot64(binop_x_50835, (int64_t) 3298534883328);\n            int64_t binop_y_50856 = (int64_t) 3298534883328 * new_index_50836;\n            int64_t binop_x_50857 = binop_x_50835 - binop_y_50856;\n            int64_t new_index_50858 = squot64(binop_x_50857, (int64_t) 6442450944);\n            int64_t binop_y_50902 = (int64_t) 6442450944 * new_index_50858;\n            int64_t binop_x_50903 = b", "inop_x_50857 - binop_y_50902;\n            int64_t new_index_50904 = squot64(binop_x_50903, (int64_t) 12582912);\n            int64_t binop_y_50996 = (int64_t) 12582912 * new_index_50904;\n            int64_t binop_x_50997 = binop_x_50903 - binop_y_50996;\n            int64_t new_index_50998 = squot64(binop_x_50997, (int64_t) 24576);\n            int64_t binop_y_51186 = (int64_t) 24576 * new_index_50998;\n            int64_t binop_x_51187 = binop_x_50997 - binop_y_51186;\n            int64_t new_index_51188 = squot64(binop_x_51187, (int64_t) 48);\n            int64_t binop_y_51568 = (int64_t) 48 * new_index_51188;\n            int64_t binop_x_51569 = binop_x_51187 - binop_y_51568;\n            int64_t new_index_51570 = squot64(binop_x_51569, (int64_t) 8);\n            int64_t binop_y_52334 = (int64_t) 8 * new_index_51570;\n            int64_t new_index_52335 = binop_x_51569 - binop_y_52334;\n            int64_t x_31616 = ((__global int64_t *) mem_107285)[new_index_50826 * (int64_t) 1688849860263936 + new_index_50836 * (int64_t) 3298534883328 + new_index_50858 * (int64_t) 6442450944 + new_index_50904 * (int64_t) 12582912 + new_index_50998 * (int64_t) 24576 + new_index_51188 * (int64_t) 48 + new_index_51570 * (int64_t) 8 + new_index_52335];\n            int16_t i64_res_31617 = ((__global int16_t *) mem_107309)[gtid_31598 * (int64_t) 512 + gtid_31599 * (int64_t) 64 + gtid_31600 * (int64_t) 8 + gtid_31601];\n            bool bounds_check_31618 = ((__global bool *) mem_107311)[gtid_31598 * (int64_t) 512 + gtid_31599 * (int64_t) 64 + gtid_31600 * (int64_t) 8 + gtid_31601];\n            int64_t binop_x_31619 = ((__global int64_t *) mem_107313)[gtid_31598 * (int64_t) 512 + gtid_31599 * (int64_t) 64 + gtid_31600 * (int64_t) 8 + gtid_31601];\n            int64_t binop_x_52338 = gtid_31602 + binop_x_74524;\n            int64_t new_index_52339 = squot64(binop_x_52338, (int64_t) 1688849860263936);\n            int64_t binop_y_52347 = (int64_t) 1688849860263936 * new_index_52339;\n            int64_",
                                     "t binop_x_52348 = binop_x_52338 - binop_y_52347;\n            int64_t new_index_52349 = squot64(binop_x_52348, (int64_t) 3298534883328);\n            int64_t binop_y_52369 = (int64_t) 3298534883328 * new_index_52349;\n            int64_t binop_x_52370 = binop_x_52348 - binop_y_52369;\n            int64_t new_index_52371 = squot64(binop_x_52370, (int64_t) 6442450944);\n            int64_t binop_y_52415 = (int64_t) 6442450944 * new_index_52371;\n            int64_t binop_x_52416 = binop_x_52370 - binop_y_52415;\n            int64_t new_index_52417 = squot64(binop_x_52416, (int64_t) 12582912);\n            int64_t binop_y_52509 = (int64_t) 12582912 * new_index_52417;\n            int64_t binop_x_52510 = binop_x_52416 - binop_y_52509;\n            int64_t new_index_52511 = squot64(binop_x_52510, (int64_t) 24576);\n            int64_t binop_y_52699 = (int64_t) 24576 * new_index_52511;\n            int64_t binop_x_52700 = binop_x_52510 - binop_y_52699;\n            int64_t new_index_52701 = squot64(binop_x_52700, (int64_t) 48);\n            int64_t binop_y_53081 = (int64_t) 48 * new_index_52701;\n            int64_t binop_x_53082 = binop_x_52700 - binop_y_53081;\n            int64_t new_index_53083 = squot64(binop_x_53082, (int64_t) 8);\n            int64_t binop_y_53847 = (int64_t) 8 * new_index_53083;\n            int64_t new_index_53848 = binop_x_53082 - binop_y_53847;\n            int64_t x_31620 = ((__global int64_t *) mem_107285)[new_index_52339 * (int64_t) 1688849860263936 + new_index_52349 * (int64_t) 3298534883328 + new_index_52371 * (int64_t) 6442450944 + new_index_52417 * (int64_t) 12582912 + new_index_52511 * (int64_t) 24576 + new_index_52701 * (int64_t) 48 + new_index_53083 * (int64_t) 8 + new_index_53848];\n            int16_t i64_res_31621 = sext_i64_i16(x_31620);\n            bool x_31622 = sle64((int64_t) 0, x_31620);\n            bool y_31623 = slt64(x_31620, (int64_t) 1024);\n            bool bounds_check_31624 = x_31622 && y_31623;\n            int64_t binop_x_31625 = (int64_", "t) 16 * x_31620;\n            bool mem_107376[(int64_t) 8];\n            int16_t mem_107377[(int64_t) 8 * (int64_t) 6];\n            int16_t mem_107380[(int64_t) 6];\n            \n            for (int64_t i_83700 = 0; i_83700 < (int64_t) 8; i_83700++) {\n                int64_t binop_x_104893 = binop_x_73009 + i_83700;\n                int64_t new_index_104894 = squot64(binop_x_104893, (int64_t) 1688849860263936);\n                int64_t binop_y_104902 = (int64_t) 1688849860263936 * new_index_104894;\n                int64_t binop_x_104903 = binop_x_104893 - binop_y_104902;\n                int64_t new_index_104904 = squot64(binop_x_104903, (int64_t) 3298534883328);\n                int64_t binop_y_104924 = (int64_t) 3298534883328 * new_index_104904;\n                int64_t binop_x_104925 = binop_x_104903 - binop_y_104924;\n                int64_t new_index_104926 = squot64(binop_x_104925, (int64_t) 6442450944);\n                int64_t binop_y_104970 = (int64_t) 6442450944 * new_index_104926;\n                int64_t binop_x_104971 = binop_x_104925 - binop_y_104970;\n                int64_t new_index_104972 = squot64(binop_x_104971, (int64_t) 12582912);\n                int64_t binop_y_105064 = (int64_t) 12582912 * new_index_104972;\n                int64_t binop_x_105065 = binop_x_104971 - binop_y_105064;\n                int64_t new_index_105066 = squot64(binop_x_105065, (int64_t) 24576);\n                int64_t binop_y_105254 = (int64_t) 24576 * new_index_105066;\n                int64_t binop_x_105255 = binop_x_105065 - binop_y_105254;\n                int64_t new_index_105256 = squot64(binop_x_105255, (int64_t) 48);\n                int64_t binop_y_105636 = (int64_t) 48 * new_index_105256;\n                int64_t binop_x_105637 = binop_x_105255 - binop_y_105636;\n                int64_t new_index_105638 = squot64(binop_x_105637, (int64_t) 8);\n                int64_t binop_y_106402 = (int64_t) 8 * new_index_105638;\n                int64_t new_index_106403 = binop_x_105637 - binop_", "y_106402;\n                int64_t x_31628 = ((__global int64_t *) mem_107245)[new_index_105638 * (int64_t) 144115188075855872 + new_index_106403 * (int64_t) 18014398509481984 + new_index_104894 * (int64_t) 35184372088832 + new_index_104904 * (int64_t) 68719476736 + new_index_104926 * (int64_t) 134217728 + new_index_104972 * (int64_t) 262144 + new_index_105066 * (int64_t) 512 + new_index_105256];\n                bool x_31629 = sle64((int64_t) 0, x_31628);\n                bool y_31630 = slt64(x_31628, (int64_t) 1024);\n                bool bounds_check_31631 = x_31629 && y_31630;\n                int64_t binop_x_31632 = (int64_t) 16 * x_31628;\n                bool all_equal_31633;\n                bool redout_83703 = 1;\n                \n                for (int64_t i_83704 = 0; i_83704 < (int64_t) 16; i_83704++) {\n                    int8_t x_31637 = ((__global int8_t *) mem_107211)[i_83704];\n                    int8_t y_31638 = ((__global int8_t *) mem_107213)[i_83704];\n                    int64_t u8_res_31639 = zext_i8_i64(x_31637);\n                    bool x_31640 = sle64((int64_t) 0, u8_res_31639);\n                    bool y_31641 = slt64(u8_res_31639, (int64_t) 16);\n                    bool bounds_check_31642 = x_31640 && y_31641;\n                    bool index_ok_31643 = bounds_check_31631 && bounds_check_31642;\n                    bool index_certs_31644;\n                    \n                    if (!index_ok_31643) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 24) == -1) {\n                                global_failure_args[0] = (int64_t) x_31628;\n                                global_failure_args[1] = (int64_t) u8_res_31639;\n                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                global_failure_args[3] = (int64_t) (int64_t) 16;\n                                ;\n                            }\n                            local_failure = 1;\n        ",
                                     "                    goto error_0;\n                        }\n                    }\n                    \n                    int64_t binop_x_31645 = binop_x_31632 + u8_res_31639;\n                    int64_t new_index_31646 = squot64(binop_x_31645, (int64_t) 1024);\n                    int64_t binop_y_31647 = (int64_t) 1024 * new_index_31646;\n                    int64_t binop_x_31648 = binop_x_31645 - binop_y_31647;\n                    int64_t new_index_31649 = squot64(binop_x_31648, (int64_t) 64);\n                    int64_t binop_y_31650 = (int64_t) 64 * new_index_31649;\n                    int64_t binop_x_31651 = binop_x_31648 - binop_y_31650;\n                    int64_t new_index_31652 = squot64(binop_x_31651, (int64_t) 32);\n                    int64_t binop_y_31653 = (int64_t) 32 * new_index_31652;\n                    int64_t binop_x_31654 = binop_x_31651 - binop_y_31653;\n                    int64_t new_index_31655 = squot64(binop_x_31654, (int64_t) 16);\n                    int64_t binop_y_31656 = (int64_t) 16 * new_index_31655;\n                    int64_t new_index_31657 = binop_x_31654 - binop_y_31656;\n                    int8_t defunc_0_f_res_31658 = ((__global int8_t *) mem_107222)[new_index_31646 * (int64_t) 1024 + new_index_31649 * (int64_t) 64 + new_index_31652 * (int64_t) 32 + new_index_31655 * (int64_t) 16 + new_index_31657];\n                    int64_t u8_res_31659 = zext_i8_i64(defunc_0_f_res_31658);\n                    bool x_31660 = sle64((int64_t) 0, u8_res_31659);\n                    bool y_31661 = slt64(u8_res_31659, (int64_t) 16);\n                    bool bounds_check_31662 = x_31660 && y_31661;\n                    bool index_ok_31663 = bounds_check_31624 && bounds_check_31662;\n                    bool index_certs_31664;\n                    \n                    if (!index_ok_31663) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 25) == -1) {\n                                global_failure_arg", "s[0] = (int64_t) x_31620;\n                                global_failure_args[1] = (int64_t) u8_res_31659;\n                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                global_failure_args[3] = (int64_t) (int64_t) 16;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t binop_x_31665 = binop_x_31625 + u8_res_31659;\n                    int64_t new_index_31666 = squot64(binop_x_31665, (int64_t) 1024);\n                    int64_t binop_y_31667 = (int64_t) 1024 * new_index_31666;\n                    int64_t binop_x_31668 = binop_x_31665 - binop_y_31667;\n                    int64_t new_index_31669 = squot64(binop_x_31668, (int64_t) 64);\n                    int64_t binop_y_31670 = (int64_t) 64 * new_index_31669;\n                    int64_t binop_x_31671 = binop_x_31668 - binop_y_31670;\n                    int64_t new_index_31672 = squot64(binop_x_31671, (int64_t) 32);\n                    int64_t binop_y_31673 = (int64_t) 32 * new_index_31672;\n                    int64_t binop_x_31674 = binop_x_31671 - binop_y_31673;\n                    int64_t new_index_31675 = squot64(binop_x_31674, (int64_t) 16);\n                    int64_t binop_y_31676 = (int64_t) 16 * new_index_31675;\n                    int64_t new_index_31677 = binop_x_31674 - binop_y_31676;\n                    int8_t defunc_0_f_res_31678 = ((__global int8_t *) mem_107222)[new_index_31666 * (int64_t) 1024 + new_index_31669 * (int64_t) 64 + new_index_31672 * (int64_t) 32 + new_index_31675 * (int64_t) 16 + new_index_31677];\n                    int64_t u8_res_31679 = zext_i8_i64(defunc_0_f_res_31678);\n                    bool x_31680 = sle64((int64_t) 0, u8_res_31679);\n                    bool y_31681 = slt64(u8_res_31679, (int64_t) 16);\n                    bool bounds_che", "ck_31682 = x_31680 && y_31681;\n                    bool index_ok_31683 = bounds_check_31618 && bounds_check_31682;\n                    bool index_certs_31684;\n                    \n                    if (!index_ok_31683) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 26) == -1) {\n                                global_failure_args[0] = (int64_t) x_31616;\n                                global_failure_args[1] = (int64_t) u8_res_31679;\n                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                global_failure_args[3] = (int64_t) (int64_t) 16;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t binop_x_31685 = binop_x_31619 + u8_res_31679;\n                    int64_t new_index_31686 = squot64(binop_x_31685, (int64_t) 1024);\n                    int64_t binop_y_31687 = (int64_t) 1024 * new_index_31686;\n                    int64_t binop_x_31688 = binop_x_31685 - binop_y_31687;\n                    int64_t new_index_31689 = squot64(binop_x_31688, (int64_t) 64);\n                    int64_t binop_y_31690 = (int64_t) 64 * new_index_31689;\n                    int64_t binop_x_31691 = binop_x_31688 - binop_y_31690;\n                    int64_t new_index_31692 = squot64(binop_x_31691, (int64_t) 32);\n                    int64_t binop_y_31693 = (int64_t) 32 * new_index_31692;\n                    int64_t binop_x_31694 = binop_x_31691 - binop_y_31693;\n                    int64_t new_index_31695 = squot64(binop_x_31694, (int64_t) 16);\n                    int64_t binop_y_31696 = (int64_t) 16 * new_index_31695;\n                    int64_t new_index_31697 = binop_x_31694 - binop_y_31696;\n                    int8_t defunc_0_f_res_31698 = ((__global int8_t *) mem_107222)[new_index_3168",
                                     "6 * (int64_t) 1024 + new_index_31689 * (int64_t) 64 + new_index_31692 * (int64_t) 32 + new_index_31695 * (int64_t) 16 + new_index_31697];\n                    int64_t u8_res_31699 = zext_i8_i64(defunc_0_f_res_31698);\n                    bool x_31700 = sle64((int64_t) 0, u8_res_31699);\n                    bool y_31701 = slt64(u8_res_31699, (int64_t) 16);\n                    bool bounds_check_31702 = x_31700 && y_31701;\n                    bool index_ok_31703 = bounds_check_31614 && bounds_check_31702;\n                    bool index_certs_31704;\n                    \n                    if (!index_ok_31703) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 27) == -1) {\n                                global_failure_args[0] = (int64_t) x_31612;\n                                global_failure_args[1] = (int64_t) u8_res_31699;\n                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                global_failure_args[3] = (int64_t) (int64_t) 16;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t binop_x_31705 = binop_x_31615 + u8_res_31699;\n                    int64_t new_index_31706 = squot64(binop_x_31705, (int64_t) 1024);\n                    int64_t binop_y_31707 = (int64_t) 1024 * new_index_31706;\n                    int64_t binop_x_31708 = binop_x_31705 - binop_y_31707;\n                    int64_t new_index_31709 = squot64(binop_x_31708, (int64_t) 64);\n                    int64_t binop_y_31710 = (int64_t) 64 * new_index_31709;\n                    int64_t binop_x_31711 = binop_x_31708 - binop_y_31710;\n                    int64_t new_index_31712 = squot64(binop_x_31711, (int64_t) 32);\n                    int64_t binop_y_31713 = (int64_t) 32 * new_index_31712;\n                   ", " int64_t binop_x_31714 = binop_x_31711 - binop_y_31713;\n                    int64_t new_index_31715 = squot64(binop_x_31714, (int64_t) 16);\n                    int64_t binop_y_31716 = (int64_t) 16 * new_index_31715;\n                    int64_t new_index_31717 = binop_x_31714 - binop_y_31716;\n                    int8_t defunc_0_f_res_31718 = ((__global int8_t *) mem_107222)[new_index_31706 * (int64_t) 1024 + new_index_31709 * (int64_t) 64 + new_index_31712 * (int64_t) 32 + new_index_31715 * (int64_t) 16 + new_index_31717];\n                    int64_t u8_res_31719 = zext_i8_i64(defunc_0_f_res_31718);\n                    bool x_31720 = sle64((int64_t) 0, u8_res_31719);\n                    bool y_31721 = slt64(u8_res_31719, (int64_t) 16);\n                    bool bounds_check_31722 = x_31720 && y_31721;\n                    bool index_ok_31723 = bounds_check_31610 && bounds_check_31722;\n                    bool index_certs_31724;\n                    \n                    if (!index_ok_31723) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 28) == -1) {\n                                global_failure_args[0] = (int64_t) x_31608;\n                                global_failure_args[1] = (int64_t) u8_res_31719;\n                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                global_failure_args[3] = (int64_t) (int64_t) 16;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                        }\n                    }\n                    \n                    int64_t binop_x_31725 = binop_x_31611 + u8_res_31719;\n                    int64_t new_index_31726 = squot64(binop_x_31725, (int64_t) 1024);\n                    int64_t binop_y_31727 = (int64_t) 1024 * new_index_31726;\n                    int64_t binop_x_31728 = binop_x_31725 - binop_y_31727;\n                    int6", "4_t new_index_31729 = squot64(binop_x_31728, (int64_t) 64);\n                    int64_t binop_y_31730 = (int64_t) 64 * new_index_31729;\n                    int64_t binop_x_31731 = binop_x_31728 - binop_y_31730;\n                    int64_t new_index_31732 = squot64(binop_x_31731, (int64_t) 32);\n                    int64_t binop_y_31733 = (int64_t) 32 * new_index_31732;\n                    int64_t binop_x_31734 = binop_x_31731 - binop_y_31733;\n                    int64_t new_index_31735 = squot64(binop_x_31734, (int64_t) 16);\n                    int64_t binop_y_31736 = (int64_t) 16 * new_index_31735;\n                    int64_t new_index_31737 = binop_x_31734 - binop_y_31736;\n                    int8_t defunc_0_f_res_31738 = ((__global int8_t *) mem_107222)[new_index_31726 * (int64_t) 1024 + new_index_31729 * (int64_t) 64 + new_index_31732 * (int64_t) 32 + new_index_31735 * (int64_t) 16 + new_index_31737];\n                    int64_t u8_res_31739 = zext_i8_i64(defunc_0_f_res_31738);\n                    bool x_31740 = sle64((int64_t) 0, u8_res_31739);\n                    bool y_31741 = slt64(u8_res_31739, (int64_t) 16);\n                    bool bounds_check_31742 = x_31740 && y_31741;\n                    bool index_ok_31743 = bounds_check_31606 && bounds_check_31742;\n                    bool index_certs_31744;\n                    \n                    if (!index_ok_31743) {\n                        {\n                            if (atomic_cmpxchg_i32_global(global_failure, -1, 29) == -1) {\n                                global_failure_args[0] = (int64_t) x_31604;\n                                global_failure_args[1] = (int64_t) u8_res_31739;\n                                global_failure_args[2] = (int64_t) (int64_t) 1024;\n                                global_failure_args[3] = (int64_t) (int64_t) 16;\n                                ;\n                            }\n                            local_failure = 1;\n                            goto error_0;\n                ",
                                     "        }\n                    }\n                    \n                    int64_t binop_x_31745 = binop_x_31607 + u8_res_31739;\n                    int64_t new_index_31746 = squot64(binop_x_31745, (int64_t) 1024);\n                    int64_t binop_y_31747 = (int64_t) 1024 * new_index_31746;\n                    int64_t binop_x_31748 = binop_x_31745 - binop_y_31747;\n                    int64_t new_index_31749 = squot64(binop_x_31748, (int64_t) 64);\n                    int64_t binop_y_31750 = (int64_t) 64 * new_index_31749;\n                    int64_t binop_x_31751 = binop_x_31748 - binop_y_31750;\n                    int64_t new_index_31752 = squot64(binop_x_31751, (int64_t) 32);\n                    int64_t binop_y_31753 = (int64_t) 32 * new_index_31752;\n                    int64_t binop_x_31754 = binop_x_31751 - binop_y_31753;\n                    int64_t new_index_31755 = squot64(binop_x_31754, (int64_t) 16);\n                    int64_t binop_y_31756 = (int64_t) 16 * new_index_31755;\n                    int64_t new_index_31757 = binop_x_31754 - binop_y_31756;\n                    int8_t defunc_0_f_res_31758 = ((__global int8_t *) mem_107222)[new_index_31746 * (int64_t) 1024 + new_index_31749 * (int64_t) 64 + new_index_31752 * (int64_t) 32 + new_index_31755 * (int64_t) 16 + new_index_31757];\n                    bool binlam_res_31759 = defunc_0_f_res_31758 == y_31638;\n                    bool binlam_res_31636 = binlam_res_31759 && redout_83703;\n                    bool redout_tmp_108169 = binlam_res_31636;\n                    \n                    redout_83703 = redout_tmp_108169;\n                }\n                all_equal_31633 = redout_83703;\n                \n                int16_t i64_res_31760 = sext_i64_i16(x_31628);\n                \n                mem_107380[(int64_t) 0] = i64_res_31605;\n                mem_107380[(int64_t) 1] = i64_res_31609;\n                mem_107380[(int64_t) 2] = i64_res_31613;\n                mem_107380[(int64_t) 3] = i64_res_31617;\n        ", "        mem_107380[(int64_t) 4] = i64_res_31621;\n                mem_107380[(int64_t) 5] = i64_res_31760;\n                mem_107376[i_83700] = all_equal_31633;\n                for (int64_t i_108170 = 0; i_108170 < (int64_t) 6; i_108170++) {\n                    int16_t tmp_108171 = mem_107380[i_108170];\n                    \n                    mem_107377[i_83700 * (int64_t) 6 + i_108170] = tmp_108171;\n                }\n            }\n            for (int64_t i_108172 = 0; i_108172 < (int64_t) 8; i_108172++) {\n                bool tmp_108173 = mem_107376[i_108172];\n                \n                ((__global bool *) mem_107383)[gtid_31598 * (int64_t) 4096 + gtid_31599 * (int64_t) 512 + gtid_31600 * (int64_t) 64 + gtid_31601 * (int64_t) 8 + gtid_31602 + i_108172 * (int64_t) 32768] = tmp_108173;\n            }\n            for (int64_t i_108174 = 0; i_108174 < (int64_t) 8; i_108174++) {\n                for (int64_t i_108175 = 0; i_108175 < (int64_t) 6; i_108175++) {\n                    int16_t tmp_108176 = mem_107377[i_108174 * (int64_t) 6 + i_108175];\n                    \n                    ((__global int16_t *) mem_107384)[gtid_31598 * (int64_t) 4096 + gtid_31599 * (int64_t) 512 + gtid_31600 * (int64_t) 64 + gtid_31601 * (int64_t) 8 + gtid_31602 + (i_108174 * (int64_t) 196608 + i_108175 * (int64_t) 32768)] = tmp_108176;\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_31585\n}\n__kernel void segmap_31777(__global int *global_failure, int64_t binop_x_74524, __global unsigned char *mem_107285, __global unsigned char *mem_107316, __global unsigned char *mem_107318, __global unsigned char *mem_107320)\n{\n    #define segmap_group_sizze_31767 (segmap_group_sizze_27863)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_108179;\n    int64_t gro", "up_sizze_108182;\n    int32_t wave_sizze_108181;\n    int32_t group_tid_108180;\n    \n    local_tid_108179 = get_local_id(0);\n    group_sizze_108182 = get_local_size(0);\n    wave_sizze_108181 = LOCKSTEP_WIDTH;\n    group_tid_108180 = get_group_id(0);\n    \n    int32_t global_tid_108178 = group_tid_108180 * group_sizze_108182 + local_tid_108179;\n    int32_t phys_tid_31777 = global_tid_108178;\n    int64_t global_tid_108183 = sext_i32_i64(group_tid_108180) * segmap_group_sizze_31767 + sext_i32_i64(local_tid_108179);\n    int64_t slice_108184 = (int64_t) 8;\n    int64_t slice_108185 = (int64_t) 8 * slice_108184;\n    int64_t slice_108186 = (int64_t) 8 * slice_108185;\n    int64_t slice_108187 = (int64_t) 8 * slice_108186;\n    int64_t slice_108188 = (int64_t) 8 * slice_108187;\n    int64_t gtid_31772 = squot64(global_tid_108183, slice_108187);\n    int64_t remnant_108189 = global_tid_108183 - gtid_31772 * slice_108187;\n    int64_t gtid_31773 = squot64(remnant_108189, slice_108186);\n    int64_t remnant_108190 = remnant_108189 - gtid_31773 * slice_108186;\n    int64_t gtid_31774 = squot64(remnant_108190, slice_108185);\n    int64_t remnant_108191 = remnant_108190 - gtid_31774 * slice_108185;\n    int64_t gtid_31775 = squot64(remnant_108191, slice_108184);\n    int64_t remnant_108192 = remnant_108191 - gtid_31775 * slice_108184;\n    int64_t gtid_31776 = remnant_108192;\n    int64_t remnant_108193 = remnant_108192 - gtid_31776;\n    \n    if ((((slt64(gtid_31772, (int64_t) 8) && slt64(gtid_31773, (int64_t) 8)) && slt64(gtid_31774, (int64_t) 8)) && slt64(gtid_31775, (int64_t) 8)) && slt64(gtid_31776, (int64_t) 8)) {\n        int64_t binop_x_74525 = gtid_31776 + binop_x_74524;\n        int64_t new_index_74526 = squot64(binop_x_74525, (int64_t) 1688849860263936);\n        int64_t binop_y_74534 = (int64_t) 1688849860263936 * new_index_74526;\n        int64_t binop_x_74535 = binop_x_74525 - binop_y_74534;\n        int64_t new_index_74536 = squot64(binop_x_74535, (int64_t) 3298534883328);\n        int64_",
                                     "t binop_y_74556 = (int64_t) 3298534883328 * new_index_74536;\n        int64_t binop_x_74557 = binop_x_74535 - binop_y_74556;\n        int64_t new_index_74558 = squot64(binop_x_74557, (int64_t) 6442450944);\n        int64_t binop_y_74602 = (int64_t) 6442450944 * new_index_74558;\n        int64_t binop_x_74603 = binop_x_74557 - binop_y_74602;\n        int64_t new_index_74604 = squot64(binop_x_74603, (int64_t) 12582912);\n        int64_t binop_y_74696 = (int64_t) 12582912 * new_index_74604;\n        int64_t binop_x_74697 = binop_x_74603 - binop_y_74696;\n        int64_t new_index_74698 = squot64(binop_x_74697, (int64_t) 24576);\n        int64_t binop_y_74886 = (int64_t) 24576 * new_index_74698;\n        int64_t binop_x_74887 = binop_x_74697 - binop_y_74886;\n        int64_t new_index_74888 = squot64(binop_x_74887, (int64_t) 48);\n        int64_t binop_y_75268 = (int64_t) 48 * new_index_74888;\n        int64_t binop_x_75269 = binop_x_74887 - binop_y_75268;\n        int64_t new_index_75270 = squot64(binop_x_75269, (int64_t) 8);\n        int64_t binop_y_76034 = (int64_t) 8 * new_index_75270;\n        int64_t new_index_76035 = binop_x_75269 - binop_y_76034;\n        int64_t x_31778 = ((__global int64_t *) mem_107285)[new_index_74526 * (int64_t) 1688849860263936 + new_index_74536 * (int64_t) 3298534883328 + new_index_74558 * (int64_t) 6442450944 + new_index_74604 * (int64_t) 12582912 + new_index_74698 * (int64_t) 24576 + new_index_74888 * (int64_t) 48 + new_index_75270 * (int64_t) 8 + new_index_76035];\n        int16_t i64_res_31779 = sext_i64_i16(x_31778);\n        bool x_31780 = sle64((int64_t) 0, x_31778);\n        bool y_31781 = slt64(x_31778, (int64_t) 1024);\n        bool bounds_check_31782 = x_31780 && y_31781;\n        int64_t binop_x_31783 = (int64_t) 16 * x_31778;\n        \n        ((__global int16_t *) mem_107316)[gtid_31772 * (int64_t) 4096 + gtid_31773 * (int64_t) 512 + gtid_31774 * (int64_t) 64 + gtid_31775 * (int64_t) 8 + gtid_31776] = i64_res_31779;\n        ((__global bool *) mem_", "107318)[gtid_31772 * (int64_t) 4096 + gtid_31773 * (int64_t) 512 + gtid_31774 * (int64_t) 64 + gtid_31775 * (int64_t) 8 + gtid_31776] = bounds_check_31782;\n        ((__global int64_t *) mem_107320)[gtid_31772 * (int64_t) 4096 + gtid_31773 * (int64_t) 512 + gtid_31774 * (int64_t) 64 + gtid_31775 * (int64_t) 8 + gtid_31776] = binop_x_31783;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_31767\n}\n__kernel void segmap_31981(__global int *global_failure, int64_t binop_x_73009, __global unsigned char *mem_107285, __global unsigned char *mem_107323, __global unsigned char *mem_107325)\n{\n    #define segmap_group_sizze_31971 (segmap_group_sizze_27595)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_108281;\n    int64_t group_sizze_108284;\n    int32_t wave_sizze_108283;\n    int32_t group_tid_108282;\n    \n    local_tid_108281 = get_local_id(0);\n    group_sizze_108284 = get_local_size(0);\n    wave_sizze_108283 = LOCKSTEP_WIDTH;\n    group_tid_108282 = get_group_id(0);\n    \n    int32_t global_tid_108280 = group_tid_108282 * group_sizze_108284 + local_tid_108281;\n    int32_t phys_tid_31981 = global_tid_108280;\n    int64_t global_tid_108285 = sext_i32_i64(group_tid_108282) * segmap_group_sizze_31971 + sext_i32_i64(local_tid_108281);\n    int64_t slice_108286 = (int64_t) 8;\n    int64_t slice_108287 = (int64_t) 8 * slice_108286;\n    int64_t slice_108288 = (int64_t) 8 * slice_108287;\n    int64_t slice_108289 = (int64_t) 8 * slice_108288;\n    int64_t slice_108290 = (int64_t) 8 * slice_108289;\n    int64_t slice_108291 = (int64_t) 8 * slice_108290;\n    int64_t gtid_31975 = squot64(global_tid_108285, slice_108290);\n    int64_t remnant_108292 = global_tid_108285 - gtid_31975 * slice_108290;\n    int64_t gtid_31976 = squot64(remnant_108292, slice_108289);\n    int64_t remnant_108293 = remnant_108292 - gtid_31976 * slice_108289;\n    int64_t gtid_31977 = squ", "ot64(remnant_108293, slice_108288);\n    int64_t remnant_108294 = remnant_108293 - gtid_31977 * slice_108288;\n    int64_t gtid_31978 = squot64(remnant_108294, slice_108287);\n    int64_t remnant_108295 = remnant_108294 - gtid_31978 * slice_108287;\n    int64_t gtid_31979 = squot64(remnant_108295, slice_108286);\n    int64_t remnant_108296 = remnant_108295 - gtid_31979 * slice_108286;\n    int64_t gtid_31980 = remnant_108296;\n    int64_t remnant_108297 = remnant_108296 - gtid_31980;\n    \n    if (((((slt64(gtid_31975, (int64_t) 8) && slt64(gtid_31976, (int64_t) 8)) && slt64(gtid_31977, (int64_t) 8)) && slt64(gtid_31978, (int64_t) 8)) && slt64(gtid_31979, (int64_t) 8)) && slt64(gtid_31980, (int64_t) 8)) {\n        int64_t binop_x_73010 = gtid_31980 + binop_x_73009;\n        int64_t new_index_73011 = squot64(binop_x_73010, (int64_t) 1688849860263936);\n        int64_t binop_y_73019 = (int64_t) 1688849860263936 * new_index_73011;\n        int64_t binop_x_73020 = binop_x_73010 - binop_y_73019;\n        int64_t new_index_73021 = squot64(binop_x_73020, (int64_t) 3298534883328);\n        int64_t binop_y_73041 = (int64_t) 3298534883328 * new_index_73021;\n        int64_t binop_x_73042 = binop_x_73020 - binop_y_73041;\n        int64_t new_index_73043 = squot64(binop_x_73042, (int64_t) 6442450944);\n        int64_t binop_y_73087 = (int64_t) 6442450944 * new_index_73043;\n        int64_t binop_x_73088 = binop_x_73042 - binop_y_73087;\n        int64_t new_index_73089 = squot64(binop_x_73088, (int64_t) 12582912);\n        int64_t binop_y_73181 = (int64_t) 12582912 * new_index_73089;\n        int64_t binop_x_73182 = binop_x_73088 - binop_y_73181;\n        int64_t new_index_73183 = squot64(binop_x_73182, (int64_t) 24576);\n        int64_t binop_y_73371 = (int64_t) 24576 * new_index_73183;\n        int64_t binop_x_73372 = binop_x_73182 - binop_y_73371;\n        int64_t new_index_73373 = squot64(binop_x_73372, (int64_t) 48);\n        int64_t binop_y_73753 = (int64_t) 48 * new_index_73373;\n        int64_t bi",
                                     "nop_x_73754 = binop_x_73372 - binop_y_73753;\n        int64_t new_index_73755 = squot64(binop_x_73754, (int64_t) 8);\n        int64_t binop_y_74519 = (int64_t) 8 * new_index_73755;\n        int64_t new_index_74520 = binop_x_73754 - binop_y_74519;\n        int64_t x_31982 = ((__global int64_t *) mem_107285)[new_index_73011 * (int64_t) 1688849860263936 + new_index_73021 * (int64_t) 3298534883328 + new_index_73043 * (int64_t) 6442450944 + new_index_73089 * (int64_t) 12582912 + new_index_73183 * (int64_t) 24576 + new_index_73373 * (int64_t) 48 + new_index_73755 * (int64_t) 8 + new_index_74520];\n        bool x_31983 = sle64((int64_t) 0, x_31982);\n        bool y_31984 = slt64(x_31982, (int64_t) 1024);\n        bool bounds_check_31985 = x_31983 && y_31984;\n        int64_t binop_x_31986 = (int64_t) 16 * x_31982;\n        \n        ((__global bool *) mem_107323)[gtid_31975 * (int64_t) 32768 + gtid_31976 * (int64_t) 4096 + gtid_31977 * (int64_t) 512 + gtid_31978 * (int64_t) 64 + gtid_31979 * (int64_t) 8 + gtid_31980] = bounds_check_31985;\n        ((__global int64_t *) mem_107325)[gtid_31975 * (int64_t) 32768 + gtid_31976 * (int64_t) 4096 + gtid_31977 * (int64_t) 512 + gtid_31978 * (int64_t) 64 + gtid_31979 * (int64_t) 8 + gtid_31980] = binop_x_31986;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_31971\n}\n__kernel void segmap_32196(__global int *global_failure, int64_t num_groups_32187, int64_t binop_x_73009, int32_t virt_num_groups_108408, __global unsigned char *mem_107285, __global unsigned char *mem_107288, __global unsigned char *mem_107295, __global unsigned char *mem_107302, __global unsigned char *mem_107309, __global unsigned char *mem_107316, __global unsigned char *mem_107331)\n{\n    #define segmap_group_sizze_32186 (segmap_group_sizze_27348)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_108410;\n    int64_t group_sizze_108413;\n    i", "nt32_t wave_sizze_108412;\n    int32_t group_tid_108411;\n    \n    local_tid_108410 = get_local_id(0);\n    group_sizze_108413 = get_local_size(0);\n    wave_sizze_108412 = LOCKSTEP_WIDTH;\n    group_tid_108411 = get_group_id(0);\n    \n    int32_t global_tid_108409 = group_tid_108411 * group_sizze_108413 + local_tid_108410;\n    int32_t phys_tid_32196 = global_tid_108409;\n    int32_t phys_group_id_108414;\n    \n    phys_group_id_108414 = get_group_id(0);\n    \n    int32_t iterations_108415 = sdiv_up32(virt_num_groups_108408 - phys_group_id_108414, sext_i64_i32(num_groups_32187));\n    \n    for (int32_t i_108416 = 0; i_108416 < iterations_108415; i_108416++) {\n        int32_t virt_group_id_108417 = phys_group_id_108414 + i_108416 * sext_i64_i32(num_groups_32187);\n        int64_t global_tid_108418 = sext_i32_i64(virt_group_id_108417) * segmap_group_sizze_32186 + sext_i32_i64(local_tid_108410);\n        int64_t slice_108419 = (int64_t) 8;\n        int64_t slice_108420 = (int64_t) 8 * slice_108419;\n        int64_t slice_108421 = (int64_t) 8 * slice_108420;\n        int64_t slice_108422 = (int64_t) 8 * slice_108421;\n        int64_t slice_108423 = (int64_t) 8 * slice_108422;\n        int64_t slice_108424 = (int64_t) 8 * slice_108423;\n        int64_t gtid_32190 = squot64(global_tid_108418, slice_108423);\n        int64_t remnant_108425 = global_tid_108418 - gtid_32190 * slice_108423;\n        int64_t gtid_32191 = squot64(remnant_108425, slice_108422);\n        int64_t remnant_108426 = remnant_108425 - gtid_32191 * slice_108422;\n        int64_t gtid_32192 = squot64(remnant_108426, slice_108421);\n        int64_t remnant_108427 = remnant_108426 - gtid_32192 * slice_108421;\n        int64_t gtid_32193 = squot64(remnant_108427, slice_108420);\n        int64_t remnant_108428 = remnant_108427 - gtid_32193 * slice_108420;\n        int64_t gtid_32194 = squot64(remnant_108428, slice_108419);\n        int64_t remnant_108429 = remnant_108428 - gtid_32194 * slice_108419;\n        int64_t gtid_32195 = remnan", "t_108429;\n        int64_t remnant_108430 = remnant_108429 - gtid_32195;\n        \n        if (((((slt64(gtid_32190, (int64_t) 8) && slt64(gtid_32191, (int64_t) 8)) && slt64(gtid_32192, (int64_t) 8)) && slt64(gtid_32193, (int64_t) 8)) && slt64(gtid_32194, (int64_t) 8)) && slt64(gtid_32195, (int64_t) 8)) {\n            int16_t i64_res_32197 = ((__global int16_t *) mem_107288)[gtid_32190];\n            int16_t i64_res_32198 = ((__global int16_t *) mem_107295)[gtid_32190 * (int64_t) 8 + gtid_32191];\n            int16_t i64_res_32199 = ((__global int16_t *) mem_107302)[gtid_32190 * (int64_t) 64 + gtid_32191 * (int64_t) 8 + gtid_32192];\n            int16_t i64_res_32200 = ((__global int16_t *) mem_107309)[gtid_32190 * (int64_t) 512 + gtid_32191 * (int64_t) 64 + gtid_32192 * (int64_t) 8 + gtid_32193];\n            int16_t i64_res_32201 = ((__global int16_t *) mem_107316)[gtid_32190 * (int64_t) 4096 + gtid_32191 * (int64_t) 512 + gtid_32192 * (int64_t) 64 + gtid_32193 * (int64_t) 8 + gtid_32194];\n            int64_t binop_x_62674 = gtid_32195 + binop_x_73009;\n            int64_t new_index_62675 = squot64(binop_x_62674, (int64_t) 1688849860263936);\n            int64_t binop_y_62683 = (int64_t) 1688849860263936 * new_index_62675;\n            int64_t binop_x_62684 = binop_x_62674 - binop_y_62683;\n            int64_t new_index_62685 = squot64(binop_x_62684, (int64_t) 3298534883328);\n            int64_t binop_y_62705 = (int64_t) 3298534883328 * new_index_62685;\n            int64_t binop_x_62706 = binop_x_62684 - binop_y_62705;\n            int64_t new_index_62707 = squot64(binop_x_62706, (int64_t) 6442450944);\n            int64_t binop_y_62751 = (int64_t) 6442450944 * new_index_62707;\n            int64_t binop_x_62752 = binop_x_62706 - binop_y_62751;\n            int64_t new_index_62753 = squot64(binop_x_62752, (int64_t) 12582912);\n            int64_t binop_y_62845 = (int64_t) 12582912 * new_index_62753;\n            int64_t binop_x_62846 = binop_x_62752 - binop_y_62845;\n            in",
                                     "t64_t new_index_62847 = squot64(binop_x_62846, (int64_t) 24576);\n            int64_t binop_y_63035 = (int64_t) 24576 * new_index_62847;\n            int64_t binop_x_63036 = binop_x_62846 - binop_y_63035;\n            int64_t new_index_63037 = squot64(binop_x_63036, (int64_t) 48);\n            int64_t binop_y_63417 = (int64_t) 48 * new_index_63037;\n            int64_t binop_x_63418 = binop_x_63036 - binop_y_63417;\n            int64_t new_index_63419 = squot64(binop_x_63418, (int64_t) 8);\n            int64_t binop_y_64183 = (int64_t) 8 * new_index_63419;\n            int64_t new_index_64184 = binop_x_63418 - binop_y_64183;\n            int64_t x_32202 = ((__global int64_t *) mem_107285)[new_index_62675 * (int64_t) 1688849860263936 + new_index_62685 * (int64_t) 3298534883328 + new_index_62707 * (int64_t) 6442450944 + new_index_62753 * (int64_t) 12582912 + new_index_62847 * (int64_t) 24576 + new_index_63037 * (int64_t) 48 + new_index_63419 * (int64_t) 8 + new_index_64184];\n            int16_t i64_res_32203 = sext_i64_i16(x_32202);\n            int16_t mem_107330[(int64_t) 6];\n            \n            mem_107330[(int64_t) 0] = i64_res_32197;\n            mem_107330[(int64_t) 1] = i64_res_32198;\n            mem_107330[(int64_t) 2] = i64_res_32199;\n            mem_107330[(int64_t) 3] = i64_res_32200;\n            mem_107330[(int64_t) 4] = i64_res_32201;\n            mem_107330[(int64_t) 5] = i64_res_32203;\n            for (int64_t i_108431 = 0; i_108431 < (int64_t) 6; i_108431++) {\n                int16_t tmp_108432 = mem_107330[i_108431];\n                \n                ((__global int16_t *) mem_107331)[gtid_32190 * (int64_t) 32768 + gtid_32191 * (int64_t) 4096 + gtid_32192 * (int64_t) 512 + gtid_32193 * (int64_t) 64 + gtid_32194 * (int64_t) 8 + gtid_32195 + i_108431 * (int64_t) 262144] = tmp_108432;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_32186\n}\n__kernel void segmap_intr", "agroup_81844(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, uint color_107695_backing_offset_0, uint color_107694_backing_offset_1, int64_t binop_x_73009, int64_t binop_x_74524, int64_t binop_x_76039, int64_t binop_x_77554, int64_t binop_x_79069, int64_t binop_x_80583, __global unsigned char *mem_107211, __global unsigned char *mem_107213, __global unsigned char *mem_107222, __global unsigned char *mem_107245, __global unsigned char *mem_107288, __global unsigned char *mem_107290, __global unsigned char *mem_107292, __global unsigned char *mem_107295, __global unsigned char *mem_107297, __global unsigned char *mem_107299, __global unsigned char *mem_107302, __global unsigned char *mem_107304, __global unsigned char *mem_107306, __global unsigned char *mem_107309, __global unsigned char *mem_107311, __global unsigned char *mem_107313, __global unsigned char *mem_107316, __global unsigned char *mem_107318, __global unsigned char *mem_107320, __global unsigned char *mem_107367, __global unsigned char *mem_107369)\n{\n    #define tile_sizze_81846 (tile_sizze_81845)\n    #define ldim_81847 (sdiv_up_safe64((int64_t) 8, tile_sizze_81845))\n    #define num_whole_tiles_82883 (squot_safe64((int64_t) 16, tile_sizze_81845))\n    #define residual_input_83346 (srem_safe64((int64_t) 16, tile_sizze_81845))\n    #define cond_83347 (srem_safe64((int64_t) 16, tile_sizze_81845) == (int64_t) 0)\n    #define binop_x_83360 (tile_sizze_81845 * squot_safe64((int64_t) 16, tile_sizze_81845))\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile unsigned char *color_107695_backing_1 = &shared_mem[color_107695_backing_offset_0];\n    volatile unsigned char *color_107694_backing_0 = &shared_mem[color_107694_backing_offset_1];\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    l", "ocal_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_108197;\n    int64_t group_sizze_108200;\n    int32_t wave_sizze_108199;\n    int32_t group_tid_108198;\n    \n    local_tid_108197 = get_local_id(0);\n    group_sizze_108200 = get_local_size(0);\n    wave_sizze_108199 = LOCKSTEP_WIDTH;\n    group_tid_108198 = get_group_id(0);\n    \n    int32_t global_tid_108196 = group_tid_108198 * group_sizze_108200 + local_tid_108197;\n    int32_t gid_flat_81844 = group_tid_108198;\n    int64_t slice_108202 = tile_sizze_81846;\n    int64_t ltid_pre_108201 = sext_i32_i64(local_tid_108197);\n    int64_t remnant_108203 = sext_i32_i64(local_tid_108197) - ltid_pre_108201;\n    int64_t slice_108204 = ldim_81847;\n    int64_t slice_108205 = (int64_t) 8 * slice_108204;\n    int64_t slice_108206 = (int64_t) 8 * slice_108205;\n    int64_t slice_108207 = (int64_t) 8 * slice_108206;\n    int64_t slice_108208 = (int64_t) 8 * slice_108207;\n    int64_t slice_108209 = (int64_t) 8 * slice_108208;\n    int64_t gtid_31804 = squot64(sext_i32_i64(group_tid_108198), slice_108208);\n    int64_t remnant_108210 = sext_i32_i64(group_tid_108198) - gtid_31804 * slice_108208;\n    int64_t gtid_31805 = squot64(remnant_108210, slice_108207);\n    int64_t remnant_108211 = remnant_108210 - gtid_31805 * slice_108207;\n    int64_t gtid_31806 = squot64(remnant_108211, slice_108206);\n    int64_t remnant_108212 = remnant_108211 - gtid_31806 * slice_108206;\n    int64_t gtid_31807 = squot64(remnant_108212, slice_108205);\n    int64_t remnant_108213 = remnant_108212 - gtid_31807 * slice_108205;\n    int64_t gtid_31808 = squot64(remnant_108213, slice_108204);\n    int64_t remnant_108214 = remnant_108213 - gtid_31808 * slice_108204;\n    int64_t gid_81843 = remnant_108214;\n    int64_t remnant_108215 = remnant_108214 - gid_81843;\n    __local unsigned char *color_107694;\n    \n    color_107694 = (__local unsigned char *) color_107694_backing_0;\n    \n    __local unsigned char *color_107695;\n    \n    color_107695 = (__local u",
                                     "nsigned char *) color_107695_backing_1;\n    \n    int64_t binop_x_53850 = gtid_31804 + binop_x_80583;\n    int64_t new_index_53851 = squot64(binop_x_53850, (int64_t) 1688849860263936);\n    int64_t binop_y_53857 = (int64_t) 1688849860263936 * new_index_53851;\n    int64_t binop_x_53858 = binop_x_53850 - binop_y_53857;\n    int64_t new_index_53859 = squot64(binop_x_53858, (int64_t) 3298534883328);\n    int64_t binop_y_53875 = (int64_t) 3298534883328 * new_index_53859;\n    int64_t binop_x_53876 = binop_x_53858 - binop_y_53875;\n    int64_t new_index_53877 = squot64(binop_x_53876, (int64_t) 6442450944);\n    int64_t binop_y_53913 = (int64_t) 6442450944 * new_index_53877;\n    int64_t binop_x_53914 = binop_x_53876 - binop_y_53913;\n    int64_t new_index_53915 = squot64(binop_x_53914, (int64_t) 12582912);\n    int64_t binop_y_53991 = (int64_t) 12582912 * new_index_53915;\n    int64_t binop_x_53992 = binop_x_53914 - binop_y_53991;\n    int64_t new_index_53993 = squot64(binop_x_53992, (int64_t) 24576);\n    int64_t binop_y_54149 = (int64_t) 24576 * new_index_53993;\n    int64_t binop_x_54150 = binop_x_53992 - binop_y_54149;\n    int64_t new_index_54151 = squot64(binop_x_54150, (int64_t) 48);\n    int64_t binop_y_54467 = (int64_t) 48 * new_index_54151;\n    int64_t binop_x_54468 = binop_x_54150 - binop_y_54467;\n    int64_t new_index_54469 = squot64(binop_x_54468, (int64_t) 8);\n    int64_t binop_y_55105 = (int64_t) 8 * new_index_54469;\n    int64_t new_index_55106 = binop_x_54468 - binop_y_55105;\n    int64_t x_31811 = ((__global int64_t *) mem_107245)[new_index_54469 * (int64_t) 144115188075855872 + new_index_55106 * (int64_t) 18014398509481984 + new_index_53851 * (int64_t) 35184372088832 + new_index_53859 * (int64_t) 68719476736 + new_index_53877 * (int64_t) 134217728 + new_index_53915 * (int64_t) 262144 + new_index_53993 * (int64_t) 512 + new_index_54151];\n    bool bounds_check_31813 = ((__global bool *) mem_107290)[gtid_31804];\n    int64_t binop_x_31814 = ((__global int64_t *) mem_107292)[g", "tid_31804];\n    int64_t binop_x_55109 = gtid_31805 + binop_x_79069;\n    int64_t new_index_55110 = squot64(binop_x_55109, (int64_t) 1688849860263936);\n    int64_t binop_y_55118 = (int64_t) 1688849860263936 * new_index_55110;\n    int64_t binop_x_55119 = binop_x_55109 - binop_y_55118;\n    int64_t new_index_55120 = squot64(binop_x_55119, (int64_t) 3298534883328);\n    int64_t binop_y_55140 = (int64_t) 3298534883328 * new_index_55120;\n    int64_t binop_x_55141 = binop_x_55119 - binop_y_55140;\n    int64_t new_index_55142 = squot64(binop_x_55141, (int64_t) 6442450944);\n    int64_t binop_y_55186 = (int64_t) 6442450944 * new_index_55142;\n    int64_t binop_x_55187 = binop_x_55141 - binop_y_55186;\n    int64_t new_index_55188 = squot64(binop_x_55187, (int64_t) 12582912);\n    int64_t binop_y_55280 = (int64_t) 12582912 * new_index_55188;\n    int64_t binop_x_55281 = binop_x_55187 - binop_y_55280;\n    int64_t new_index_55282 = squot64(binop_x_55281, (int64_t) 24576);\n    int64_t binop_y_55470 = (int64_t) 24576 * new_index_55282;\n    int64_t binop_x_55471 = binop_x_55281 - binop_y_55470;\n    int64_t new_index_55472 = squot64(binop_x_55471, (int64_t) 48);\n    int64_t binop_y_55852 = (int64_t) 48 * new_index_55472;\n    int64_t binop_x_55853 = binop_x_55471 - binop_y_55852;\n    int64_t new_index_55854 = squot64(binop_x_55853, (int64_t) 8);\n    int64_t binop_y_56618 = (int64_t) 8 * new_index_55854;\n    int64_t new_index_56619 = binop_x_55853 - binop_y_56618;\n    int64_t x_31815 = ((__global int64_t *) mem_107245)[new_index_55854 * (int64_t) 144115188075855872 + new_index_56619 * (int64_t) 18014398509481984 + new_index_55110 * (int64_t) 35184372088832 + new_index_55120 * (int64_t) 68719476736 + new_index_55142 * (int64_t) 134217728 + new_index_55188 * (int64_t) 262144 + new_index_55282 * (int64_t) 512 + new_index_55472];\n    bool bounds_check_31817 = ((__global bool *) mem_107297)[gtid_31804 * (int64_t) 8 + gtid_31805];\n    int64_t binop_x_31818 = ((__global int64_t *) mem_107299)[gtid_31", "804 * (int64_t) 8 + gtid_31805];\n    int64_t binop_x_56622 = gtid_31806 + binop_x_77554;\n    int64_t new_index_56623 = squot64(binop_x_56622, (int64_t) 1688849860263936);\n    int64_t binop_y_56631 = (int64_t) 1688849860263936 * new_index_56623;\n    int64_t binop_x_56632 = binop_x_56622 - binop_y_56631;\n    int64_t new_index_56633 = squot64(binop_x_56632, (int64_t) 3298534883328);\n    int64_t binop_y_56653 = (int64_t) 3298534883328 * new_index_56633;\n    int64_t binop_x_56654 = binop_x_56632 - binop_y_56653;\n    int64_t new_index_56655 = squot64(binop_x_56654, (int64_t) 6442450944);\n    int64_t binop_y_56699 = (int64_t) 6442450944 * new_index_56655;\n    int64_t binop_x_56700 = binop_x_56654 - binop_y_56699;\n    int64_t new_index_56701 = squot64(binop_x_56700, (int64_t) 12582912);\n    int64_t binop_y_56793 = (int64_t) 12582912 * new_index_56701;\n    int64_t binop_x_56794 = binop_x_56700 - binop_y_56793;\n    int64_t new_index_56795 = squot64(binop_x_56794, (int64_t) 24576);\n    int64_t binop_y_56983 = (int64_t) 24576 * new_index_56795;\n    int64_t binop_x_56984 = binop_x_56794 - binop_y_56983;\n    int64_t new_index_56985 = squot64(binop_x_56984, (int64_t) 48);\n    int64_t binop_y_57365 = (int64_t) 48 * new_index_56985;\n    int64_t binop_x_57366 = binop_x_56984 - binop_y_57365;\n    int64_t new_index_57367 = squot64(binop_x_57366, (int64_t) 8);\n    int64_t binop_y_58131 = (int64_t) 8 * new_index_57367;\n    int64_t new_index_58132 = binop_x_57366 - binop_y_58131;\n    int64_t x_31819 = ((__global int64_t *) mem_107245)[new_index_57367 * (int64_t) 144115188075855872 + new_index_58132 * (int64_t) 18014398509481984 + new_index_56623 * (int64_t) 35184372088832 + new_index_56633 * (int64_t) 68719476736 + new_index_56655 * (int64_t) 134217728 + new_index_56701 * (int64_t) 262144 + new_index_56795 * (int64_t) 512 + new_index_56985];\n    bool bounds_check_31821 = ((__global bool *) mem_107304)[gtid_31804 * (int64_t) 64 + gtid_31805 * (int64_t) 8 + gtid_31806];\n    int64_t binop_x_",
                                     "31822 = ((__global int64_t *) mem_107306)[gtid_31804 * (int64_t) 64 + gtid_31805 * (int64_t) 8 + gtid_31806];\n    int64_t binop_x_58135 = gtid_31807 + binop_x_76039;\n    int64_t new_index_58136 = squot64(binop_x_58135, (int64_t) 1688849860263936);\n    int64_t binop_y_58144 = (int64_t) 1688849860263936 * new_index_58136;\n    int64_t binop_x_58145 = binop_x_58135 - binop_y_58144;\n    int64_t new_index_58146 = squot64(binop_x_58145, (int64_t) 3298534883328);\n    int64_t binop_y_58166 = (int64_t) 3298534883328 * new_index_58146;\n    int64_t binop_x_58167 = binop_x_58145 - binop_y_58166;\n    int64_t new_index_58168 = squot64(binop_x_58167, (int64_t) 6442450944);\n    int64_t binop_y_58212 = (int64_t) 6442450944 * new_index_58168;\n    int64_t binop_x_58213 = binop_x_58167 - binop_y_58212;\n    int64_t new_index_58214 = squot64(binop_x_58213, (int64_t) 12582912);\n    int64_t binop_y_58306 = (int64_t) 12582912 * new_index_58214;\n    int64_t binop_x_58307 = binop_x_58213 - binop_y_58306;\n    int64_t new_index_58308 = squot64(binop_x_58307, (int64_t) 24576);\n    int64_t binop_y_58496 = (int64_t) 24576 * new_index_58308;\n    int64_t binop_x_58497 = binop_x_58307 - binop_y_58496;\n    int64_t new_index_58498 = squot64(binop_x_58497, (int64_t) 48);\n    int64_t binop_y_58878 = (int64_t) 48 * new_index_58498;\n    int64_t binop_x_58879 = binop_x_58497 - binop_y_58878;\n    int64_t new_index_58880 = squot64(binop_x_58879, (int64_t) 8);\n    int64_t binop_y_59644 = (int64_t) 8 * new_index_58880;\n    int64_t new_index_59645 = binop_x_58879 - binop_y_59644;\n    int64_t x_31823 = ((__global int64_t *) mem_107245)[new_index_58880 * (int64_t) 144115188075855872 + new_index_59645 * (int64_t) 18014398509481984 + new_index_58136 * (int64_t) 35184372088832 + new_index_58146 * (int64_t) 68719476736 + new_index_58168 * (int64_t) 134217728 + new_index_58214 * (int64_t) 262144 + new_index_58308 * (int64_t) 512 + new_index_58498];\n    bool bounds_check_31825 = ((__global bool *) mem_107311)[gtid_31804 ", "* (int64_t) 512 + gtid_31805 * (int64_t) 64 + gtid_31806 * (int64_t) 8 + gtid_31807];\n    int64_t binop_x_31826 = ((__global int64_t *) mem_107313)[gtid_31804 * (int64_t) 512 + gtid_31805 * (int64_t) 64 + gtid_31806 * (int64_t) 8 + gtid_31807];\n    int64_t binop_x_59648 = gtid_31808 + binop_x_74524;\n    int64_t new_index_59649 = squot64(binop_x_59648, (int64_t) 1688849860263936);\n    int64_t binop_y_59657 = (int64_t) 1688849860263936 * new_index_59649;\n    int64_t binop_x_59658 = binop_x_59648 - binop_y_59657;\n    int64_t new_index_59659 = squot64(binop_x_59658, (int64_t) 3298534883328);\n    int64_t binop_y_59679 = (int64_t) 3298534883328 * new_index_59659;\n    int64_t binop_x_59680 = binop_x_59658 - binop_y_59679;\n    int64_t new_index_59681 = squot64(binop_x_59680, (int64_t) 6442450944);\n    int64_t binop_y_59725 = (int64_t) 6442450944 * new_index_59681;\n    int64_t binop_x_59726 = binop_x_59680 - binop_y_59725;\n    int64_t new_index_59727 = squot64(binop_x_59726, (int64_t) 12582912);\n    int64_t binop_y_59819 = (int64_t) 12582912 * new_index_59727;\n    int64_t binop_x_59820 = binop_x_59726 - binop_y_59819;\n    int64_t new_index_59821 = squot64(binop_x_59820, (int64_t) 24576);\n    int64_t binop_y_60009 = (int64_t) 24576 * new_index_59821;\n    int64_t binop_x_60010 = binop_x_59820 - binop_y_60009;\n    int64_t new_index_60011 = squot64(binop_x_60010, (int64_t) 48);\n    int64_t binop_y_60391 = (int64_t) 48 * new_index_60011;\n    int64_t binop_x_60392 = binop_x_60010 - binop_y_60391;\n    int64_t new_index_60393 = squot64(binop_x_60392, (int64_t) 8);\n    int64_t binop_y_61157 = (int64_t) 8 * new_index_60393;\n    int64_t new_index_61158 = binop_x_60392 - binop_y_61157;\n    int64_t x_31827 = ((__global int64_t *) mem_107245)[new_index_60393 * (int64_t) 144115188075855872 + new_index_61158 * (int64_t) 18014398509481984 + new_index_59649 * (int64_t) 35184372088832 + new_index_59659 * (int64_t) 68719476736 + new_index_59681 * (int64_t) 134217728 + new_index_59727 * (int64_t", ") 262144 + new_index_59821 * (int64_t) 512 + new_index_60011];\n    bool bounds_check_31829 = ((__global bool *) mem_107318)[gtid_31804 * (int64_t) 4096 + gtid_31805 * (int64_t) 512 + gtid_31806 * (int64_t) 64 + gtid_31807 * (int64_t) 8 + gtid_31808];\n    int64_t binop_x_31830 = ((__global int64_t *) mem_107320)[gtid_31804 * (int64_t) 4096 + gtid_31805 * (int64_t) 512 + gtid_31806 * (int64_t) 64 + gtid_31807 * (int64_t) 8 + gtid_31808];\n    int64_t binop_x_81863 = gid_81843 * tile_sizze_81846;\n    int64_t mem_107335[1];\n    bool mem_107336[1];\n    int64_t mem_107338[1];\n    int32_t ltid_flat_81854 = local_tid_108197;\n    int64_t ltid_81853 = sext_i32_i64(sext_i64_i32(ltid_pre_108201));\n    int64_t gtid_81864 = ltid_81853 + binop_x_81863;\n    bool cond_81865 = slt64(gtid_81864, (int64_t) 8);\n    int64_t pre_81866;\n    bool pre_81867;\n    int64_t pre_81868;\n    \n    if (cond_81865 == 1) {\n        int64_t binop_x_81869 = binop_x_73009 + gtid_81864;\n        int64_t new_index_81870 = squot64(binop_x_81869, (int64_t) 1688849860263936);\n        int64_t binop_y_81874 = (int64_t) 1688849860263936 * new_index_81870;\n        int64_t binop_x_81875 = binop_x_81869 - binop_y_81874;\n        int64_t new_index_81876 = squot64(binop_x_81875, (int64_t) 3298534883328);\n        int64_t binop_y_81888 = (int64_t) 3298534883328 * new_index_81876;\n        int64_t binop_x_81889 = binop_x_81875 - binop_y_81888;\n        int64_t new_index_81890 = squot64(binop_x_81889, (int64_t) 6442450944);\n        int64_t binop_y_81918 = (int64_t) 6442450944 * new_index_81890;\n        int64_t binop_x_81919 = binop_x_81889 - binop_y_81918;\n        int64_t new_index_81920 = squot64(binop_x_81919, (int64_t) 12582912);\n        int64_t binop_y_81980 = (int64_t) 12582912 * new_index_81920;\n        int64_t binop_x_81981 = binop_x_81919 - binop_y_81980;\n        int64_t new_index_81982 = squot64(binop_x_81981, (int64_t) 24576);\n        int64_t binop_y_82106 = (int64_t) 24576 * new_index_81982;\n        int64_t binop_x_8",
                                     "2107 = binop_x_81981 - binop_y_82106;\n        int64_t new_index_82108 = squot64(binop_x_82107, (int64_t) 48);\n        int64_t binop_y_82360 = (int64_t) 48 * new_index_82108;\n        int64_t binop_x_82361 = binop_x_82107 - binop_y_82360;\n        int64_t new_index_82362 = squot64(binop_x_82361, (int64_t) 8);\n        int64_t binop_y_82870 = (int64_t) 8 * new_index_82362;\n        int64_t new_index_82871 = binop_x_82361 - binop_y_82870;\n        int64_t x_82872 = ((__global int64_t *) mem_107245)[new_index_82362 * (int64_t) 144115188075855872 + new_index_82871 * (int64_t) 18014398509481984 + new_index_81870 * (int64_t) 35184372088832 + new_index_81876 * (int64_t) 68719476736 + new_index_81890 * (int64_t) 134217728 + new_index_81920 * (int64_t) 262144 + new_index_81982 * (int64_t) 512 + new_index_82108];\n        bool x_82873 = sle64((int64_t) 0, x_82872);\n        bool y_82874 = slt64(x_82872, (int64_t) 1024);\n        bool bounds_check_82875 = x_82873 && y_82874;\n        int64_t binop_x_82876 = (int64_t) 16 * x_82872;\n        \n        pre_81866 = x_82872;\n        pre_81867 = bounds_check_82875;\n        pre_81868 = binop_x_82876;\n    } else {\n        pre_81866 = (int64_t) 0;\n        pre_81867 = 0;\n        pre_81868 = (int64_t) 0;\n    }\n    mem_107335[(int64_t) 0] = pre_81866;\n    mem_107336[(int64_t) 0] = pre_81867;\n    mem_107338[(int64_t) 0] = pre_81868;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool mem_107340[1];\n    int32_t ltid_flat_82885 = local_tid_108197;\n    int64_t ltid_82884 = sext_i32_i64(sext_i64_i32(ltid_pre_108201));\n    \n    mem_107340[(int64_t) 0] = 1;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool mem_in_107690[1];\n    bool mem_107348[1];\n    bool tmp_108216 = mem_107340[(int64_t) 0];\n    \n    mem_in_107690[(int64_t) 0] = tmp_108216;\n    \n    bool ext_mem_107349[1];\n    bool ext_mem_unused_107691[1];\n    bool mem_param_107341[1];\n    bool mem_param_out_107692[1];\n    \n    for (int32_t i_2 = 0; i_2 < 1; i_2++)\n        mem_param_107341[i_2] = mem_in_107690", "[i_2];\n    for (int32_t i_3 = 0; i_3 < 1; i_3++)\n        mem_param_out_107692[i_3] = mem_107348[i_3];\n    for (int64_t tile_id_82891 = 0; tile_id_82891 < num_whole_tiles_82883; tile_id_82891++) {\n        int64_t binop_x_83067 = tile_sizze_81846 * tile_id_82891;\n        int32_t ltid_flat_83066 = local_tid_108197;\n        int64_t ltid_83065 = sext_i32_i64(sext_i64_i32(ltid_pre_108201));\n        int64_t j_83068 = ltid_83065 + binop_x_83067;\n        bool cond_83074 = slt64(j_83068, (int64_t) 16);\n        int8_t pre1d_83075;\n        int8_t pre1d_83076;\n        \n        if (cond_83074 == 1) {\n            int8_t tile_elem_83077 = ((__global int8_t *) mem_107211)[j_83068];\n            int8_t tile_elem_83078 = ((__global int8_t *) mem_107213)[j_83068];\n            \n            pre1d_83075 = tile_elem_83077;\n            pre1d_83076 = tile_elem_83078;\n        } else {\n            pre1d_83075 = (int8_t) 0;\n            pre1d_83076 = (int8_t) 0;\n        }\n        ((__local int8_t *) color_107695)[ltid_83065] = pre1d_83075;\n        ((__local int8_t *) color_107694)[ltid_83065] = pre1d_83076;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t ltid_flat_83083 = local_tid_108197;\n        int64_t ltid_83082 = sext_i32_i64(sext_i64_i32(ltid_pre_108201));\n        int64_t gtid_83085 = binop_x_81863 + ltid_83082;\n        bool acc_83089 = mem_param_107341[(int64_t) 0];\n        bool cond_83090 = slt64(gtid_83085, (int64_t) 8);\n        bool acc_83091;\n        \n        if (cond_83090 == 1) {\n            int64_t x_83086 = mem_107335[(int64_t) 0];\n            bool bounds_check_83087 = mem_107336[(int64_t) 0];\n            int64_t binop_x_83088 = mem_107338[(int64_t) 0];\n            bool x_83092;\n            bool redout_83705 = acc_83089;\n            \n            for (int64_t i_83706 = 0; i_83706 < tile_sizze_81846; i_83706++) {\n                int8_t x_83096 = ((__local int8_t *) color_107695)[i_83706];\n                int8_t y_83097 = ((__local int8_t *) color_107694)[i_83706];\n    ", "            int64_t u8_res_83098 = zext_i8_i64(x_83096);\n                bool x_83099 = sle64((int64_t) 0, u8_res_83098);\n                bool y_83100 = slt64(u8_res_83098, (int64_t) 16);\n                bool bounds_check_83101 = x_83099 && y_83100;\n                bool index_ok_83102 = bounds_check_83087 && bounds_check_83101;\n                bool index_certs_83103;\n                \n                if (!index_ok_83102) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 30) == -1) {\n                            global_failure_args[0] = (int64_t) x_83086;\n                            global_failure_args[1] = (int64_t) u8_res_83098;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_3;\n                    }\n                }\n                \n                int64_t binop_x_83104 = binop_x_83088 + u8_res_83098;\n                int64_t new_index_83105 = squot64(binop_x_83104, (int64_t) 1024);\n                int64_t binop_y_83106 = (int64_t) 1024 * new_index_83105;\n                int64_t binop_x_83107 = binop_x_83104 - binop_y_83106;\n                int64_t new_index_83108 = squot64(binop_x_83107, (int64_t) 64);\n                int64_t binop_y_83109 = (int64_t) 64 * new_index_83108;\n                int64_t binop_x_83110 = binop_x_83107 - binop_y_83109;\n                int64_t new_index_83111 = squot64(binop_x_83110, (int64_t) 32);\n                int64_t binop_y_83112 = (int64_t) 32 * new_index_83111;\n                int64_t binop_x_83113 = binop_x_83110 - binop_y_83112;\n                int64_t new_index_83114 = squot64(binop_x_83113, (int64_t) 16);\n                int64_t binop_y_83115 = (int64_t) 16 * new_index_83114;\n                int64_t new_index_83116 = binop_x_83113 - binop_y_83115",
                                     ";\n                int8_t defunc_0_f_res_83117 = ((__global int8_t *) mem_107222)[new_index_83105 * (int64_t) 1024 + new_index_83108 * (int64_t) 64 + new_index_83111 * (int64_t) 32 + new_index_83114 * (int64_t) 16 + new_index_83116];\n                int64_t u8_res_83118 = zext_i8_i64(defunc_0_f_res_83117);\n                bool x_83119 = sle64((int64_t) 0, u8_res_83118);\n                bool y_83120 = slt64(u8_res_83118, (int64_t) 16);\n                bool bounds_check_83121 = x_83119 && y_83120;\n                bool index_ok_83122 = bounds_check_31829 && bounds_check_83121;\n                bool index_certs_83123;\n                \n                if (!index_ok_83122) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 31) == -1) {\n                            global_failure_args[0] = (int64_t) x_31827;\n                            global_failure_args[1] = (int64_t) u8_res_83118;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_3;\n                    }\n                }\n                \n                int64_t binop_x_83124 = binop_x_31830 + u8_res_83118;\n                int64_t new_index_83125 = squot64(binop_x_83124, (int64_t) 1024);\n                int64_t binop_y_83126 = (int64_t) 1024 * new_index_83125;\n                int64_t binop_x_83127 = binop_x_83124 - binop_y_83126;\n                int64_t new_index_83128 = squot64(binop_x_83127, (int64_t) 64);\n                int64_t binop_y_83129 = (int64_t) 64 * new_index_83128;\n                int64_t binop_x_83130 = binop_x_83127 - binop_y_83129;\n                int64_t new_index_83131 = squot64(binop_x_83130, (int64_t) 32);\n                int64_t binop_y_83132 = (int64_t) 32 * new_index_83131;\n                int64_t binop_x_83133 = bino", "p_x_83130 - binop_y_83132;\n                int64_t new_index_83134 = squot64(binop_x_83133, (int64_t) 16);\n                int64_t binop_y_83135 = (int64_t) 16 * new_index_83134;\n                int64_t new_index_83136 = binop_x_83133 - binop_y_83135;\n                int8_t defunc_0_f_res_83137 = ((__global int8_t *) mem_107222)[new_index_83125 * (int64_t) 1024 + new_index_83128 * (int64_t) 64 + new_index_83131 * (int64_t) 32 + new_index_83134 * (int64_t) 16 + new_index_83136];\n                int64_t u8_res_83138 = zext_i8_i64(defunc_0_f_res_83137);\n                bool x_83139 = sle64((int64_t) 0, u8_res_83138);\n                bool y_83140 = slt64(u8_res_83138, (int64_t) 16);\n                bool bounds_check_83141 = x_83139 && y_83140;\n                bool index_ok_83142 = bounds_check_31825 && bounds_check_83141;\n                bool index_certs_83143;\n                \n                if (!index_ok_83142) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 32) == -1) {\n                            global_failure_args[0] = (int64_t) x_31823;\n                            global_failure_args[1] = (int64_t) u8_res_83138;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_3;\n                    }\n                }\n                \n                int64_t binop_x_83144 = binop_x_31826 + u8_res_83138;\n                int64_t new_index_83145 = squot64(binop_x_83144, (int64_t) 1024);\n                int64_t binop_y_83146 = (int64_t) 1024 * new_index_83145;\n                int64_t binop_x_83147 = binop_x_83144 - binop_y_83146;\n                int64_t new_index_83148 = squot64(binop_x_83147, (int64_t) 64);\n                int64_t binop_y_83149 = (int64_t) 64 * new_index_83148;\n                i", "nt64_t binop_x_83150 = binop_x_83147 - binop_y_83149;\n                int64_t new_index_83151 = squot64(binop_x_83150, (int64_t) 32);\n                int64_t binop_y_83152 = (int64_t) 32 * new_index_83151;\n                int64_t binop_x_83153 = binop_x_83150 - binop_y_83152;\n                int64_t new_index_83154 = squot64(binop_x_83153, (int64_t) 16);\n                int64_t binop_y_83155 = (int64_t) 16 * new_index_83154;\n                int64_t new_index_83156 = binop_x_83153 - binop_y_83155;\n                int8_t defunc_0_f_res_83157 = ((__global int8_t *) mem_107222)[new_index_83145 * (int64_t) 1024 + new_index_83148 * (int64_t) 64 + new_index_83151 * (int64_t) 32 + new_index_83154 * (int64_t) 16 + new_index_83156];\n                int64_t u8_res_83158 = zext_i8_i64(defunc_0_f_res_83157);\n                bool x_83159 = sle64((int64_t) 0, u8_res_83158);\n                bool y_83160 = slt64(u8_res_83158, (int64_t) 16);\n                bool bounds_check_83161 = x_83159 && y_83160;\n                bool index_ok_83162 = bounds_check_31821 && bounds_check_83161;\n                bool index_certs_83163;\n                \n                if (!index_ok_83162) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 33) == -1) {\n                            global_failure_args[0] = (int64_t) x_31819;\n                            global_failure_args[1] = (int64_t) u8_res_83158;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_3;\n                    }\n                }\n                \n                int64_t binop_x_83164 = binop_x_31822 + u8_res_83158;\n                int64_t new_index_83165 = squot64(binop_x_83164, (int64_t) 1024);\n                int64_t binop_y_83166 = (int64_t) 1024 * new_ind",
                                     "ex_83165;\n                int64_t binop_x_83167 = binop_x_83164 - binop_y_83166;\n                int64_t new_index_83168 = squot64(binop_x_83167, (int64_t) 64);\n                int64_t binop_y_83169 = (int64_t) 64 * new_index_83168;\n                int64_t binop_x_83170 = binop_x_83167 - binop_y_83169;\n                int64_t new_index_83171 = squot64(binop_x_83170, (int64_t) 32);\n                int64_t binop_y_83172 = (int64_t) 32 * new_index_83171;\n                int64_t binop_x_83173 = binop_x_83170 - binop_y_83172;\n                int64_t new_index_83174 = squot64(binop_x_83173, (int64_t) 16);\n                int64_t binop_y_83175 = (int64_t) 16 * new_index_83174;\n                int64_t new_index_83176 = binop_x_83173 - binop_y_83175;\n                int8_t defunc_0_f_res_83177 = ((__global int8_t *) mem_107222)[new_index_83165 * (int64_t) 1024 + new_index_83168 * (int64_t) 64 + new_index_83171 * (int64_t) 32 + new_index_83174 * (int64_t) 16 + new_index_83176];\n                int64_t u8_res_83178 = zext_i8_i64(defunc_0_f_res_83177);\n                bool x_83179 = sle64((int64_t) 0, u8_res_83178);\n                bool y_83180 = slt64(u8_res_83178, (int64_t) 16);\n                bool bounds_check_83181 = x_83179 && y_83180;\n                bool index_ok_83182 = bounds_check_31817 && bounds_check_83181;\n                bool index_certs_83183;\n                \n                if (!index_ok_83182) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 34) == -1) {\n                            global_failure_args[0] = (int64_t) x_31815;\n                            global_failure_args[1] = (int64_t) u8_res_83178;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_3;\n                    }\n ", "               }\n                \n                int64_t binop_x_83184 = binop_x_31818 + u8_res_83178;\n                int64_t new_index_83185 = squot64(binop_x_83184, (int64_t) 1024);\n                int64_t binop_y_83186 = (int64_t) 1024 * new_index_83185;\n                int64_t binop_x_83187 = binop_x_83184 - binop_y_83186;\n                int64_t new_index_83188 = squot64(binop_x_83187, (int64_t) 64);\n                int64_t binop_y_83189 = (int64_t) 64 * new_index_83188;\n                int64_t binop_x_83190 = binop_x_83187 - binop_y_83189;\n                int64_t new_index_83191 = squot64(binop_x_83190, (int64_t) 32);\n                int64_t binop_y_83192 = (int64_t) 32 * new_index_83191;\n                int64_t binop_x_83193 = binop_x_83190 - binop_y_83192;\n                int64_t new_index_83194 = squot64(binop_x_83193, (int64_t) 16);\n                int64_t binop_y_83195 = (int64_t) 16 * new_index_83194;\n                int64_t new_index_83196 = binop_x_83193 - binop_y_83195;\n                int8_t defunc_0_f_res_83197 = ((__global int8_t *) mem_107222)[new_index_83185 * (int64_t) 1024 + new_index_83188 * (int64_t) 64 + new_index_83191 * (int64_t) 32 + new_index_83194 * (int64_t) 16 + new_index_83196];\n                int64_t u8_res_83198 = zext_i8_i64(defunc_0_f_res_83197);\n                bool x_83199 = sle64((int64_t) 0, u8_res_83198);\n                bool y_83200 = slt64(u8_res_83198, (int64_t) 16);\n                bool bounds_check_83201 = x_83199 && y_83200;\n                bool index_ok_83202 = bounds_check_31813 && bounds_check_83201;\n                bool index_certs_83203;\n                \n                if (!index_ok_83202) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 35) == -1) {\n                            global_failure_args[0] = (int64_t) x_31811;\n                            global_failure_args[1] = (int64_t) u8_res_83198;\n                            global_failure_args[2] = (int64_t) (in", "t64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_3;\n                    }\n                }\n                \n                int64_t binop_x_83204 = binop_x_31814 + u8_res_83198;\n                int64_t new_index_83205 = squot64(binop_x_83204, (int64_t) 1024);\n                int64_t binop_y_83206 = (int64_t) 1024 * new_index_83205;\n                int64_t binop_x_83207 = binop_x_83204 - binop_y_83206;\n                int64_t new_index_83208 = squot64(binop_x_83207, (int64_t) 64);\n                int64_t binop_y_83209 = (int64_t) 64 * new_index_83208;\n                int64_t binop_x_83210 = binop_x_83207 - binop_y_83209;\n                int64_t new_index_83211 = squot64(binop_x_83210, (int64_t) 32);\n                int64_t binop_y_83212 = (int64_t) 32 * new_index_83211;\n                int64_t binop_x_83213 = binop_x_83210 - binop_y_83212;\n                int64_t new_index_83214 = squot64(binop_x_83213, (int64_t) 16);\n                int64_t binop_y_83215 = (int64_t) 16 * new_index_83214;\n                int64_t new_index_83216 = binop_x_83213 - binop_y_83215;\n                int8_t defunc_0_f_res_83217 = ((__global int8_t *) mem_107222)[new_index_83205 * (int64_t) 1024 + new_index_83208 * (int64_t) 64 + new_index_83211 * (int64_t) 32 + new_index_83214 * (int64_t) 16 + new_index_83216];\n                bool binlam_res_83218 = defunc_0_f_res_83217 == y_83097;\n                bool binlam_res_83095 = binlam_res_83218 && redout_83705;\n                bool redout_tmp_108220 = binlam_res_83095;\n                \n                redout_83705 = redout_tmp_108220;\n            }\n            x_83092 = redout_83705;\n            acc_83091 = x_83092;\n        } else {\n            acc_83091 = acc_83089;\n        }\n        mem_param_out_107692[(int64_t) 0] = acc_83091;\n        \n      error_3:\n        barrier(CLK_",
                                     "LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        bool mem_param_tmp_108217[1];\n        \n        for (int32_t i_4 = 0; i_4 < 1; i_4++)\n            mem_param_tmp_108217[i_4] = mem_param_out_107692[i_4];\n        \n        bool mem_param_out_tmp_108218[1];\n        \n        for (int32_t i_5 = 0; i_5 < 1; i_5++)\n            mem_param_out_tmp_108218[i_5] = mem_param_107341[i_5];\n        for (int32_t i_6 = 0; i_6 < 1; i_6++)\n            mem_param_107341[i_6] = mem_param_tmp_108217[i_6];\n        for (int32_t i_7 = 0; i_7 < 1; i_7++)\n            mem_param_out_107692[i_7] = mem_param_out_tmp_108218[i_7];\n    }\n    for (int32_t i_8 = 0; i_8 < 1; i_8++)\n        ext_mem_107349[i_8] = mem_param_107341[i_8];\n    for (int32_t i_9 = 0; i_9 < 1; i_9++)\n        ext_mem_unused_107691[i_9] = mem_param_out_107692[i_9];\n    \n    bool mem_107676[1];\n    bool mem_107356[1];\n    \n    if (cond_83347 == 1) {\n        bool tmp_108221 = ext_mem_107349[(int64_t) 0];\n        \n        mem_107676[(int64_t) 0] = tmp_108221;\n    } else {\n        int32_t ltid_flat_83349 = local_tid_108197;\n        int64_t ltid_83348 = sext_i32_i64(sext_i64_i32(ltid_pre_108201));\n        int64_t j_83361 = ltid_83348 + binop_x_83360;\n        bool cond_83367 = slt64(j_83361, (int64_t) 16);\n        int8_t pre1d_83368;\n        int8_t pre1d_83369;\n        \n        if (cond_83367 == 1) {\n            int8_t tile_elem_83370 = ((__global int8_t *) mem_107211)[j_83361];\n            int8_t tile_elem_83371 = ((__global int8_t *) mem_107213)[j_83361];\n            \n            pre1d_83368 = tile_elem_83370;\n            pre1d_83369 = tile_elem_83371;\n        } else {\n            pre1d_83368 = (int8_t) 0;\n            pre1d_83369 = (int8_t) 0;\n        }\n        ((__local int8_t *) color_107695)[ltid_83348] = pre1d_83368;\n        ((__local int8_t *) color_107694)[ltid_83348] = pre1d_83369;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t ltid_flat_83379 = l", "ocal_tid_108197;\n        int64_t ltid_83378 = sext_i32_i64(sext_i64_i32(ltid_pre_108201));\n        int64_t gtid_83386 = binop_x_81863 + ltid_83378;\n        bool acc_83390 = ext_mem_107349[(int64_t) 0];\n        bool cond_83391 = slt64(gtid_83386, (int64_t) 8);\n        bool acc_83392;\n        \n        if (cond_83391 == 1) {\n            int64_t x_83387 = mem_107335[(int64_t) 0];\n            bool bounds_check_83388 = mem_107336[(int64_t) 0];\n            int64_t binop_x_83389 = mem_107338[(int64_t) 0];\n            bool x_83393;\n            bool redout_83707 = acc_83390;\n            \n            for (int64_t i_83708 = 0; i_83708 < residual_input_83346; i_83708++) {\n                int8_t x_83397 = ((__local int8_t *) color_107695)[i_83708];\n                int8_t y_83398 = ((__local int8_t *) color_107694)[i_83708];\n                int64_t u8_res_83399 = zext_i8_i64(x_83397);\n                bool x_83400 = sle64((int64_t) 0, u8_res_83399);\n                bool y_83401 = slt64(u8_res_83399, (int64_t) 16);\n                bool bounds_check_83402 = x_83400 && y_83401;\n                bool index_ok_83403 = bounds_check_83388 && bounds_check_83402;\n                bool index_certs_83404;\n                \n                if (!index_ok_83403) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 36) == -1) {\n                            global_failure_args[0] = (int64_t) x_83387;\n                            global_failure_args[1] = (int64_t) u8_res_83399;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                \n                int64_t binop_x_83405 = binop_x_83389 + u8_res_83399;\n                int64_t new_index_83406 = squot64(binop_x_83405, (int6", "4_t) 1024);\n                int64_t binop_y_83407 = (int64_t) 1024 * new_index_83406;\n                int64_t binop_x_83408 = binop_x_83405 - binop_y_83407;\n                int64_t new_index_83409 = squot64(binop_x_83408, (int64_t) 64);\n                int64_t binop_y_83410 = (int64_t) 64 * new_index_83409;\n                int64_t binop_x_83411 = binop_x_83408 - binop_y_83410;\n                int64_t new_index_83412 = squot64(binop_x_83411, (int64_t) 32);\n                int64_t binop_y_83413 = (int64_t) 32 * new_index_83412;\n                int64_t binop_x_83414 = binop_x_83411 - binop_y_83413;\n                int64_t new_index_83415 = squot64(binop_x_83414, (int64_t) 16);\n                int64_t binop_y_83416 = (int64_t) 16 * new_index_83415;\n                int64_t new_index_83417 = binop_x_83414 - binop_y_83416;\n                int8_t defunc_0_f_res_83418 = ((__global int8_t *) mem_107222)[new_index_83406 * (int64_t) 1024 + new_index_83409 * (int64_t) 64 + new_index_83412 * (int64_t) 32 + new_index_83415 * (int64_t) 16 + new_index_83417];\n                int64_t u8_res_83419 = zext_i8_i64(defunc_0_f_res_83418);\n                bool x_83420 = sle64((int64_t) 0, u8_res_83419);\n                bool y_83421 = slt64(u8_res_83419, (int64_t) 16);\n                bool bounds_check_83422 = x_83420 && y_83421;\n                bool index_ok_83423 = bounds_check_31829 && bounds_check_83422;\n                bool index_certs_83424;\n                \n                if (!index_ok_83423) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 37) == -1) {\n                            global_failure_args[0] = (int64_t) x_31827;\n                            global_failure_args[1] = (int64_t) u8_res_83419;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        loca",
                                     "l_failure = 1;\n                        goto error_5;\n                    }\n                }\n                \n                int64_t binop_x_83425 = binop_x_31830 + u8_res_83419;\n                int64_t new_index_83426 = squot64(binop_x_83425, (int64_t) 1024);\n                int64_t binop_y_83427 = (int64_t) 1024 * new_index_83426;\n                int64_t binop_x_83428 = binop_x_83425 - binop_y_83427;\n                int64_t new_index_83429 = squot64(binop_x_83428, (int64_t) 64);\n                int64_t binop_y_83430 = (int64_t) 64 * new_index_83429;\n                int64_t binop_x_83431 = binop_x_83428 - binop_y_83430;\n                int64_t new_index_83432 = squot64(binop_x_83431, (int64_t) 32);\n                int64_t binop_y_83433 = (int64_t) 32 * new_index_83432;\n                int64_t binop_x_83434 = binop_x_83431 - binop_y_83433;\n                int64_t new_index_83435 = squot64(binop_x_83434, (int64_t) 16);\n                int64_t binop_y_83436 = (int64_t) 16 * new_index_83435;\n                int64_t new_index_83437 = binop_x_83434 - binop_y_83436;\n                int8_t defunc_0_f_res_83438 = ((__global int8_t *) mem_107222)[new_index_83426 * (int64_t) 1024 + new_index_83429 * (int64_t) 64 + new_index_83432 * (int64_t) 32 + new_index_83435 * (int64_t) 16 + new_index_83437];\n                int64_t u8_res_83439 = zext_i8_i64(defunc_0_f_res_83438);\n                bool x_83440 = sle64((int64_t) 0, u8_res_83439);\n                bool y_83441 = slt64(u8_res_83439, (int64_t) 16);\n                bool bounds_check_83442 = x_83440 && y_83441;\n                bool index_ok_83443 = bounds_check_31825 && bounds_check_83442;\n                bool index_certs_83444;\n                \n                if (!index_ok_83443) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 38) == -1) {\n                            global_failure_args[0] = (int64_t) x_31823;\n                            global_failure_args[1] = (int64_t) u8_r", "es_83439;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                \n                int64_t binop_x_83445 = binop_x_31826 + u8_res_83439;\n                int64_t new_index_83446 = squot64(binop_x_83445, (int64_t) 1024);\n                int64_t binop_y_83447 = (int64_t) 1024 * new_index_83446;\n                int64_t binop_x_83448 = binop_x_83445 - binop_y_83447;\n                int64_t new_index_83449 = squot64(binop_x_83448, (int64_t) 64);\n                int64_t binop_y_83450 = (int64_t) 64 * new_index_83449;\n                int64_t binop_x_83451 = binop_x_83448 - binop_y_83450;\n                int64_t new_index_83452 = squot64(binop_x_83451, (int64_t) 32);\n                int64_t binop_y_83453 = (int64_t) 32 * new_index_83452;\n                int64_t binop_x_83454 = binop_x_83451 - binop_y_83453;\n                int64_t new_index_83455 = squot64(binop_x_83454, (int64_t) 16);\n                int64_t binop_y_83456 = (int64_t) 16 * new_index_83455;\n                int64_t new_index_83457 = binop_x_83454 - binop_y_83456;\n                int8_t defunc_0_f_res_83458 = ((__global int8_t *) mem_107222)[new_index_83446 * (int64_t) 1024 + new_index_83449 * (int64_t) 64 + new_index_83452 * (int64_t) 32 + new_index_83455 * (int64_t) 16 + new_index_83457];\n                int64_t u8_res_83459 = zext_i8_i64(defunc_0_f_res_83458);\n                bool x_83460 = sle64((int64_t) 0, u8_res_83459);\n                bool y_83461 = slt64(u8_res_83459, (int64_t) 16);\n                bool bounds_check_83462 = x_83460 && y_83461;\n                bool index_ok_83463 = bounds_check_31821 && bounds_check_83462;\n                bool index_certs_83464;\n                \n                if (!index_ok_83463) ", "{\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 39) == -1) {\n                            global_failure_args[0] = (int64_t) x_31819;\n                            global_failure_args[1] = (int64_t) u8_res_83459;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                \n                int64_t binop_x_83465 = binop_x_31822 + u8_res_83459;\n                int64_t new_index_83466 = squot64(binop_x_83465, (int64_t) 1024);\n                int64_t binop_y_83467 = (int64_t) 1024 * new_index_83466;\n                int64_t binop_x_83468 = binop_x_83465 - binop_y_83467;\n                int64_t new_index_83469 = squot64(binop_x_83468, (int64_t) 64);\n                int64_t binop_y_83470 = (int64_t) 64 * new_index_83469;\n                int64_t binop_x_83471 = binop_x_83468 - binop_y_83470;\n                int64_t new_index_83472 = squot64(binop_x_83471, (int64_t) 32);\n                int64_t binop_y_83473 = (int64_t) 32 * new_index_83472;\n                int64_t binop_x_83474 = binop_x_83471 - binop_y_83473;\n                int64_t new_index_83475 = squot64(binop_x_83474, (int64_t) 16);\n                int64_t binop_y_83476 = (int64_t) 16 * new_index_83475;\n                int64_t new_index_83477 = binop_x_83474 - binop_y_83476;\n                int8_t defunc_0_f_res_83478 = ((__global int8_t *) mem_107222)[new_index_83466 * (int64_t) 1024 + new_index_83469 * (int64_t) 64 + new_index_83472 * (int64_t) 32 + new_index_83475 * (int64_t) 16 + new_index_83477];\n                int64_t u8_res_83479 = zext_i8_i64(defunc_0_f_res_83478);\n                bool x_83480 = sle64((int64_t) 0, u8_res_83479);\n                bool y_83481 = slt64(u8_res_83479, (",
                                     "int64_t) 16);\n                bool bounds_check_83482 = x_83480 && y_83481;\n                bool index_ok_83483 = bounds_check_31817 && bounds_check_83482;\n                bool index_certs_83484;\n                \n                if (!index_ok_83483) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 40) == -1) {\n                            global_failure_args[0] = (int64_t) x_31815;\n                            global_failure_args[1] = (int64_t) u8_res_83479;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                \n                int64_t binop_x_83485 = binop_x_31818 + u8_res_83479;\n                int64_t new_index_83486 = squot64(binop_x_83485, (int64_t) 1024);\n                int64_t binop_y_83487 = (int64_t) 1024 * new_index_83486;\n                int64_t binop_x_83488 = binop_x_83485 - binop_y_83487;\n                int64_t new_index_83489 = squot64(binop_x_83488, (int64_t) 64);\n                int64_t binop_y_83490 = (int64_t) 64 * new_index_83489;\n                int64_t binop_x_83491 = binop_x_83488 - binop_y_83490;\n                int64_t new_index_83492 = squot64(binop_x_83491, (int64_t) 32);\n                int64_t binop_y_83493 = (int64_t) 32 * new_index_83492;\n                int64_t binop_x_83494 = binop_x_83491 - binop_y_83493;\n                int64_t new_index_83495 = squot64(binop_x_83494, (int64_t) 16);\n                int64_t binop_y_83496 = (int64_t) 16 * new_index_83495;\n                int64_t new_index_83497 = binop_x_83494 - binop_y_83496;\n                int8_t defunc_0_f_res_83498 = ((__global int8_t *) mem_107222)[new_index_83486 * (int64_t) 1024 + new_index_83489 * (int64_t) 64 + new_index_83492 * (int64_", "t) 32 + new_index_83495 * (int64_t) 16 + new_index_83497];\n                int64_t u8_res_83499 = zext_i8_i64(defunc_0_f_res_83498);\n                bool x_83500 = sle64((int64_t) 0, u8_res_83499);\n                bool y_83501 = slt64(u8_res_83499, (int64_t) 16);\n                bool bounds_check_83502 = x_83500 && y_83501;\n                bool index_ok_83503 = bounds_check_31813 && bounds_check_83502;\n                bool index_certs_83504;\n                \n                if (!index_ok_83503) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 41) == -1) {\n                            global_failure_args[0] = (int64_t) x_31811;\n                            global_failure_args[1] = (int64_t) u8_res_83499;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_5;\n                    }\n                }\n                \n                int64_t binop_x_83505 = binop_x_31814 + u8_res_83499;\n                int64_t new_index_83506 = squot64(binop_x_83505, (int64_t) 1024);\n                int64_t binop_y_83507 = (int64_t) 1024 * new_index_83506;\n                int64_t binop_x_83508 = binop_x_83505 - binop_y_83507;\n                int64_t new_index_83509 = squot64(binop_x_83508, (int64_t) 64);\n                int64_t binop_y_83510 = (int64_t) 64 * new_index_83509;\n                int64_t binop_x_83511 = binop_x_83508 - binop_y_83510;\n                int64_t new_index_83512 = squot64(binop_x_83511, (int64_t) 32);\n                int64_t binop_y_83513 = (int64_t) 32 * new_index_83512;\n                int64_t binop_x_83514 = binop_x_83511 - binop_y_83513;\n                int64_t new_index_83515 = squot64(binop_x_83514, (int64_t) 16);\n                int64_t binop_y_83516 = (int64_t) 16 * new_index_83", "515;\n                int64_t new_index_83517 = binop_x_83514 - binop_y_83516;\n                int8_t defunc_0_f_res_83518 = ((__global int8_t *) mem_107222)[new_index_83506 * (int64_t) 1024 + new_index_83509 * (int64_t) 64 + new_index_83512 * (int64_t) 32 + new_index_83515 * (int64_t) 16 + new_index_83517];\n                bool binlam_res_83519 = defunc_0_f_res_83518 == y_83398;\n                bool binlam_res_83396 = binlam_res_83519 && redout_83707;\n                bool redout_tmp_108222 = binlam_res_83396;\n                \n                redout_83707 = redout_tmp_108222;\n            }\n            x_83393 = redout_83707;\n            acc_83392 = x_83393;\n        } else {\n            acc_83392 = acc_83390;\n        }\n        mem_107356[(int64_t) 0] = acc_83392;\n        \n      error_5:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        bool tmp_108223 = mem_107356[(int64_t) 0];\n        \n        mem_107676[(int64_t) 0] = tmp_108223;\n    }\n    \n    bool mem_107362[1];\n    int16_t mem_107365[(int64_t) 6];\n    int32_t ltid_flat_83523 = local_tid_108197;\n    int64_t ltid_83522 = sext_i32_i64(sext_i64_i32(ltid_pre_108201));\n    int64_t gtid_83531 = binop_x_81863 + ltid_83522;\n    bool all_equal_83532 = mem_107676[(int64_t) 0];\n    bool cond_83533 = slt64(gtid_83531, (int64_t) 8);\n    bool x_83552 = all_equal_83532 && cond_83533;\n    int16_t mem_107679[(int64_t) 6];\n    int16_t mem_107360[(int64_t) 6];\n    \n    if (cond_83533 == 1) {\n        int64_t x_83536 = mem_107335[(int64_t) 0];\n        int16_t i64_res_83539 = ((__global int16_t *) mem_107288)[gtid_31804];\n        int16_t i64_res_83540 = ((__global int16_t *) mem_107295)[gtid_31804 * (int64_t) 8 + gtid_31805];\n        int16_t i64_res_83541 = ((__global int16_t *) mem_107302)[gtid_31804 * (int64_t) 64 + gtid_31805 * (int64_t) 8 + gtid_31806];\n        int16_t i64_res_83542 = ((__global int16_t *) mem_107309)[gtid_31804 * (int64_t) 51",
                                     "2 + gtid_31805 * (int64_t) 64 + gtid_31806 * (int64_t) 8 + gtid_31807];\n        int16_t i64_res_83543 = ((__global int16_t *) mem_107316)[gtid_31804 * (int64_t) 4096 + gtid_31805 * (int64_t) 512 + gtid_31806 * (int64_t) 64 + gtid_31807 * (int64_t) 8 + gtid_31808];\n        int16_t i64_res_83544 = sext_i64_i16(x_83536);\n        \n        mem_107360[(int64_t) 0] = i64_res_83539;\n        mem_107360[(int64_t) 1] = i64_res_83540;\n        mem_107360[(int64_t) 2] = i64_res_83541;\n        mem_107360[(int64_t) 3] = i64_res_83542;\n        mem_107360[(int64_t) 4] = i64_res_83543;\n        mem_107360[(int64_t) 5] = i64_res_83544;\n        for (int64_t i_108224 = 0; i_108224 < (int64_t) 6; i_108224++) {\n            int16_t tmp_108225 = mem_107360[i_108224];\n            \n            mem_107679[i_108224] = tmp_108225;\n        }\n    }\n    mem_107362[(int64_t) 0] = x_83552;\n    for (int64_t i_108226 = 0; i_108226 < (int64_t) 6; i_108226++) {\n        int16_t tmp_108227 = mem_107679[i_108226];\n        \n        mem_107365[i_108226] = tmp_108227;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t slice_108234 = tile_sizze_81846;\n    int64_t slice_108235 = slice_108234;\n    int64_t slice_108236 = slice_108235;\n    int64_t slice_108237 = slice_108236;\n    int64_t slice_108238 = slice_108237;\n    int64_t slice_108239 = slice_108238;\n    int64_t ltid_108228 = squot64(sext_i32_i64(local_tid_108197), slice_108238);\n    int64_t remnant_108240 = sext_i32_i64(local_tid_108197) - ltid_108228 * slice_108238;\n    int64_t ltid_108229 = squot64(remnant_108240, slice_108237);\n    int64_t remnant_108241 = remnant_108240 - ltid_108229 * slice_108237;\n    int64_t ltid_108230 = squot64(remnant_108241, slice_108236);\n    int64_t remnant_108242 = remnant_108241 - ltid_108230 * slice_108236;\n    int64_t ltid_108231 = squot64(remnant_108242, slice_108235);\n    int64_t remnant_108243 = remnant_108242 - ltid_108231 * slice_108235;\n    int64_t ltid_108232 = squot64(remnant_108243, slice_108234);\n    int64_t re", "mnant_108244 = remnant_108243 - ltid_108232 * slice_108234;\n    int64_t ltid_108233 = remnant_108244;\n    int64_t remnant_108245 = remnant_108244 - ltid_108233;\n    int64_t thread_out_index_108246 = gtid_31804 + ltid_108228;\n    int64_t thread_out_index_108247 = gtid_31805 + ltid_108229;\n    int64_t thread_out_index_108248 = gtid_31806 + ltid_108230;\n    int64_t thread_out_index_108249 = gtid_31807 + ltid_108231;\n    int64_t thread_out_index_108250 = gtid_31808 + ltid_108232;\n    int64_t thread_out_index_108251 = gid_81843 * tile_sizze_81846 + ltid_108233;\n    \n    if (((((slt64(thread_out_index_108246, (int64_t) 8) && slt64(thread_out_index_108247, (int64_t) 8)) && slt64(thread_out_index_108248, (int64_t) 8)) && slt64(thread_out_index_108249, (int64_t) 8)) && slt64(thread_out_index_108250, (int64_t) 8)) && slt64(thread_out_index_108251, (int64_t) 8)) {\n        bool tmp_108252 = mem_107362[(int64_t) 0];\n        \n        ((__global bool *) mem_107367)[thread_out_index_108246 * (int64_t) 32768 + thread_out_index_108247 * (int64_t) 4096 + thread_out_index_108248 * (int64_t) 512 + thread_out_index_108249 * (int64_t) 64 + thread_out_index_108250 * (int64_t) 8 + thread_out_index_108251] = tmp_108252;\n    }\n    \n    int64_t slice_108259 = tile_sizze_81846;\n    int64_t slice_108260 = slice_108259;\n    int64_t slice_108261 = slice_108260;\n    int64_t slice_108262 = slice_108261;\n    int64_t slice_108263 = slice_108262;\n    int64_t slice_108264 = slice_108263;\n    int64_t ltid_108253 = squot64(sext_i32_i64(local_tid_108197), slice_108263);\n    int64_t remnant_108265 = sext_i32_i64(local_tid_108197) - ltid_108253 * slice_108263;\n    int64_t ltid_108254 = squot64(remnant_108265, slice_108262);\n    int64_t remnant_108266 = remnant_108265 - ltid_108254 * slice_108262;\n    int64_t ltid_108255 = squot64(remnant_108266, slice_108261);\n    int64_t remnant_108267 = remnant_108266 - ltid_108255 * slice_108261;\n    int64_t ltid_108256 = squot64(remnant_108267, slice_108260);\n    int64_t", " remnant_108268 = remnant_108267 - ltid_108256 * slice_108260;\n    int64_t ltid_108257 = squot64(remnant_108268, slice_108259);\n    int64_t remnant_108269 = remnant_108268 - ltid_108257 * slice_108259;\n    int64_t ltid_108258 = remnant_108269;\n    int64_t remnant_108270 = remnant_108269 - ltid_108258;\n    int64_t thread_out_index_108271 = gtid_31804 + ltid_108253;\n    int64_t thread_out_index_108272 = gtid_31805 + ltid_108254;\n    int64_t thread_out_index_108273 = gtid_31806 + ltid_108255;\n    int64_t thread_out_index_108274 = gtid_31807 + ltid_108256;\n    int64_t thread_out_index_108275 = gtid_31808 + ltid_108257;\n    int64_t thread_out_index_108276 = gid_81843 * tile_sizze_81846 + ltid_108258;\n    \n    if (((((slt64(thread_out_index_108271, (int64_t) 8) && slt64(thread_out_index_108272, (int64_t) 8)) && slt64(thread_out_index_108273, (int64_t) 8)) && slt64(thread_out_index_108274, (int64_t) 8)) && slt64(thread_out_index_108275, (int64_t) 8)) && slt64(thread_out_index_108276, (int64_t) 8)) {\n        for (int64_t i_108277 = 0; i_108277 < (int64_t) 6; i_108277++) {\n            int16_t tmp_108278 = mem_107365[ltid_108253 * ((int64_t) 6 * tile_sizze_81846) + ltid_108254 * ((int64_t) 6 * tile_sizze_81846) + ltid_108255 * ((int64_t) 6 * tile_sizze_81846) + ltid_108256 * ((int64_t) 6 * tile_sizze_81846) + ltid_108257 * ((int64_t) 6 * tile_sizze_81846) + ltid_108258 * (int64_t) 6 + i_108277 - squot64(ltid_108253 * ((int64_t) 6 * tile_sizze_81846) + ltid_108254 * ((int64_t) 6 * tile_sizze_81846) + ltid_108255 * ((int64_t) 6 * tile_sizze_81846) + ltid_108256 * ((int64_t) 6 * tile_sizze_81846) + ltid_108257 * ((int64_t) 6 * tile_sizze_81846) + ltid_108258 * (int64_t) 6 + i_108277, (int64_t) 6) * (int64_t) 6];\n            \n            ((__global int16_t *) mem_107369)[thread_out_index_108271 * (int64_t) 196608 + thread_out_index_108272 * (int64_t) 24576 + thread_out_index_108273 * (int64_t) 3072 + thread_out_index_108274 * (int64_t) 384 + thread_out_index_108275 * (int64_t) 48",
                                     " + thread_out_index_108276 * (int64_t) 6 + i_108277] = tmp_108278;\n        }\n    }\n    \n  error_7:\n    return;\n    #undef tile_sizze_81846\n    #undef ldim_81847\n    #undef num_whole_tiles_82883\n    #undef residual_input_83346\n    #undef cond_83347\n    #undef binop_x_83360\n}\n__kernel void segred_large_32005(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, uint sync_arr_mem_108372_backing_offset_0, uint red_arr_mem_108370_backing_offset_1, int64_t num_groups_31995, int64_t binop_x_73009, int64_t binop_x_74524, int64_t binop_x_76039, int64_t binop_x_77554, int64_t binop_x_79069, int64_t binop_x_80583, int64_t groups_per_segment_108336, int64_t elements_per_thread_108337, int64_t virt_num_groups_108338, int64_t threads_per_segment_108340, __global unsigned char *mem_107211, __global unsigned char *mem_107213, __global unsigned char *mem_107222, __global unsigned char *mem_107285, __global unsigned char *mem_107290, __global unsigned char *mem_107292, __global unsigned char *mem_107297, __global unsigned char *mem_107299, __global unsigned char *mem_107304, __global unsigned char *mem_107306, __global unsigned char *mem_107311, __global unsigned char *mem_107313, __global unsigned char *mem_107318, __global unsigned char *mem_107320, __global unsigned char *mem_107323, __global unsigned char *mem_107325, __global unsigned char *mem_107328, __global unsigned char *segred_tmp_mem_108341, __global unsigned char *counters_mem_108343)\n{\n    #define segred_group_sizze_31994 (segred_group_sizze_27393)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile unsigned char *sync_arr_mem_108372_backing_1 = &shared_mem[sync_arr_mem_108372_backing_offset_0];\n    volatile unsigned char *red_arr_mem_108370_backing_0 = &shared_mem[red_arr_mem_108370_backing_offset_1];\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n    ", "    \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_108366;\n    int64_t group_sizze_108369;\n    int32_t wave_sizze_108368;\n    int32_t group_tid_108367;\n    \n    local_tid_108366 = get_local_id(0);\n    group_sizze_108369 = get_local_size(0);\n    wave_sizze_108368 = LOCKSTEP_WIDTH;\n    group_tid_108367 = get_group_id(0);\n    \n    int32_t global_tid_108365 = group_tid_108367 * group_sizze_108369 + local_tid_108366;\n    int32_t phys_tid_32005 = global_tid_108365;\n    __local unsigned char *red_arr_mem_108370;\n    \n    red_arr_mem_108370 = (__local unsigned char *) red_arr_mem_108370_backing_0;\n    \n    __local unsigned char *sync_arr_mem_108372;\n    \n    sync_arr_mem_108372 = (__local unsigned char *) sync_arr_mem_108372_backing_1;\n    \n    int32_t phys_group_id_108374;\n    \n    phys_group_id_108374 = get_group_id(0);\n    \n    int32_t iterations_108375 = sdiv_up32(sext_i64_i32(virt_num_groups_108338) - phys_group_id_108374, sext_i64_i32(num_groups_31995));\n    \n    for (int32_t i_108376 = 0; i_108376 < iterations_108375; i_108376++) {\n        int32_t virt_group_id_108377 = phys_group_id_108374 + i_108376 * sext_i64_i32(num_groups_31995);\n        int32_t flat_segment_id_108378 = squot32(virt_group_id_108377, sext_i64_i32(groups_per_segment_108336));\n        int64_t global_tid_108379 = srem64(sext_i32_i64(virt_group_id_108377) * segred_group_sizze_31994 + sext_i32_i64(local_tid_108366), segred_group_sizze_31994 * groups_per_segment_108336);\n        int64_t slice_108380 = (int64_t) 8;\n        int64_t slice_108381 = (int64_t) 8 * slice_108380;\n        int64_t slice_108382 = (int64_t) 8 * slice_108381;\n        int64_t slice_108383 = (int64_t) 8 * slice_108382;\n        int64_t slice_108384 = (int64_t) 8 * slice_108383;\n        int64_t slice_108385 = (int64_t) 8 * slice_108384;\n        int64_t gtid_31998 = squot64(sext_i32_i64(flat_segment_id_108378), slice_108384);\n        int64_t remnant_1083", "86 = sext_i32_i64(flat_segment_id_108378) - gtid_31998 * slice_108384;\n        int64_t gtid_31999 = squot64(remnant_108386, slice_108383);\n        int64_t remnant_108387 = remnant_108386 - gtid_31999 * slice_108383;\n        int64_t gtid_32000 = squot64(remnant_108387, slice_108382);\n        int64_t remnant_108388 = remnant_108387 - gtid_32000 * slice_108382;\n        int64_t gtid_32001 = squot64(remnant_108388, slice_108381);\n        int64_t remnant_108389 = remnant_108388 - gtid_32001 * slice_108381;\n        int64_t gtid_32002 = squot64(remnant_108389, slice_108380);\n        int64_t remnant_108390 = remnant_108389 - gtid_32002 * slice_108380;\n        int64_t gtid_32003 = remnant_108390;\n        int64_t remnant_108391 = remnant_108390 - gtid_32003;\n        int64_t gtid_32004;\n        bool x_acc_108392;\n        int64_t chunk_sizze_108393 = smin64(elements_per_thread_108337, sdiv_up64((int64_t) 16 - global_tid_108379, threads_per_segment_108340));\n        bool x_32006;\n        bool y_32007;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_108392 = 1;\n        }\n        for (int64_t i_108397 = 0; i_108397 < chunk_sizze_108393; i_108397++) {\n            gtid_32004 = global_tid_108379 + threads_per_segment_108340 * i_108397;\n            // apply map function\n            {\n                int64_t binop_x_64186 = gtid_31998 + binop_x_80583;\n                int64_t new_index_64187 = squot64(binop_x_64186, (int64_t) 1688849860263936);\n                int64_t binop_y_64193 = (int64_t) 1688849860263936 * new_index_64187;\n                int64_t binop_x_64194 = binop_x_64186 - binop_y_64193;\n                int64_t new_index_64195 = squot64(binop_x_64194, (int64_t) 3298534883328);\n                int64_t binop_y_64211 = (int64_t) 3298534883328 * new_index_64195;\n                int64_t binop_x_64212 = binop_x_64194 - binop_y_64211;\n                int64_t new_index_64213 = squot64(binop_x_64212, (int64_t) 6442450944);\n                int64_t bin",
                                     "op_y_64249 = (int64_t) 6442450944 * new_index_64213;\n                int64_t binop_x_64250 = binop_x_64212 - binop_y_64249;\n                int64_t new_index_64251 = squot64(binop_x_64250, (int64_t) 12582912);\n                int64_t binop_y_64327 = (int64_t) 12582912 * new_index_64251;\n                int64_t binop_x_64328 = binop_x_64250 - binop_y_64327;\n                int64_t new_index_64329 = squot64(binop_x_64328, (int64_t) 24576);\n                int64_t binop_y_64485 = (int64_t) 24576 * new_index_64329;\n                int64_t binop_x_64486 = binop_x_64328 - binop_y_64485;\n                int64_t new_index_64487 = squot64(binop_x_64486, (int64_t) 48);\n                int64_t binop_y_64803 = (int64_t) 48 * new_index_64487;\n                int64_t binop_x_64804 = binop_x_64486 - binop_y_64803;\n                int64_t new_index_64805 = squot64(binop_x_64804, (int64_t) 8);\n                int64_t binop_y_65441 = (int64_t) 8 * new_index_64805;\n                int64_t new_index_65442 = binop_x_64804 - binop_y_65441;\n                int64_t x_32009 = ((__global int64_t *) mem_107285)[new_index_64187 * (int64_t) 1688849860263936 + new_index_64195 * (int64_t) 3298534883328 + new_index_64213 * (int64_t) 6442450944 + new_index_64251 * (int64_t) 12582912 + new_index_64329 * (int64_t) 24576 + new_index_64487 * (int64_t) 48 + new_index_64805 * (int64_t) 8 + new_index_65442];\n                bool bounds_check_32010 = ((__global bool *) mem_107290)[gtid_31998];\n                int64_t binop_x_32011 = ((__global int64_t *) mem_107292)[gtid_31998];\n                int64_t binop_x_65445 = gtid_31999 + binop_x_79069;\n                int64_t new_index_65446 = squot64(binop_x_65445, (int64_t) 1688849860263936);\n                int64_t binop_y_65454 = (int64_t) 1688849860263936 * new_index_65446;\n                int64_t binop_x_65455 = binop_x_65445 - binop_y_65454;\n                int64_t new_index_65456 = squot64(binop_x_65455, (int64_t) 3298534883328);\n                int64_t b", "inop_y_65476 = (int64_t) 3298534883328 * new_index_65456;\n                int64_t binop_x_65477 = binop_x_65455 - binop_y_65476;\n                int64_t new_index_65478 = squot64(binop_x_65477, (int64_t) 6442450944);\n                int64_t binop_y_65522 = (int64_t) 6442450944 * new_index_65478;\n                int64_t binop_x_65523 = binop_x_65477 - binop_y_65522;\n                int64_t new_index_65524 = squot64(binop_x_65523, (int64_t) 12582912);\n                int64_t binop_y_65616 = (int64_t) 12582912 * new_index_65524;\n                int64_t binop_x_65617 = binop_x_65523 - binop_y_65616;\n                int64_t new_index_65618 = squot64(binop_x_65617, (int64_t) 24576);\n                int64_t binop_y_65806 = (int64_t) 24576 * new_index_65618;\n                int64_t binop_x_65807 = binop_x_65617 - binop_y_65806;\n                int64_t new_index_65808 = squot64(binop_x_65807, (int64_t) 48);\n                int64_t binop_y_66188 = (int64_t) 48 * new_index_65808;\n                int64_t binop_x_66189 = binop_x_65807 - binop_y_66188;\n                int64_t new_index_66190 = squot64(binop_x_66189, (int64_t) 8);\n                int64_t binop_y_66954 = (int64_t) 8 * new_index_66190;\n                int64_t new_index_66955 = binop_x_66189 - binop_y_66954;\n                int64_t x_32022 = ((__global int64_t *) mem_107285)[new_index_65446 * (int64_t) 1688849860263936 + new_index_65456 * (int64_t) 3298534883328 + new_index_65478 * (int64_t) 6442450944 + new_index_65524 * (int64_t) 12582912 + new_index_65618 * (int64_t) 24576 + new_index_65808 * (int64_t) 48 + new_index_66190 * (int64_t) 8 + new_index_66955];\n                bool bounds_check_32023 = ((__global bool *) mem_107297)[gtid_31998 * (int64_t) 8 + gtid_31999];\n                int64_t binop_x_32024 = ((__global int64_t *) mem_107299)[gtid_31998 * (int64_t) 8 + gtid_31999];\n                int64_t binop_x_66958 = gtid_32000 + binop_x_77554;\n                int64_t new_index_66959 = squot64(binop_x_66958, (int", "64_t) 1688849860263936);\n                int64_t binop_y_66967 = (int64_t) 1688849860263936 * new_index_66959;\n                int64_t binop_x_66968 = binop_x_66958 - binop_y_66967;\n                int64_t new_index_66969 = squot64(binop_x_66968, (int64_t) 3298534883328);\n                int64_t binop_y_66989 = (int64_t) 3298534883328 * new_index_66969;\n                int64_t binop_x_66990 = binop_x_66968 - binop_y_66989;\n                int64_t new_index_66991 = squot64(binop_x_66990, (int64_t) 6442450944);\n                int64_t binop_y_67035 = (int64_t) 6442450944 * new_index_66991;\n                int64_t binop_x_67036 = binop_x_66990 - binop_y_67035;\n                int64_t new_index_67037 = squot64(binop_x_67036, (int64_t) 12582912);\n                int64_t binop_y_67129 = (int64_t) 12582912 * new_index_67037;\n                int64_t binop_x_67130 = binop_x_67036 - binop_y_67129;\n                int64_t new_index_67131 = squot64(binop_x_67130, (int64_t) 24576);\n                int64_t binop_y_67319 = (int64_t) 24576 * new_index_67131;\n                int64_t binop_x_67320 = binop_x_67130 - binop_y_67319;\n                int64_t new_index_67321 = squot64(binop_x_67320, (int64_t) 48);\n                int64_t binop_y_67701 = (int64_t) 48 * new_index_67321;\n                int64_t binop_x_67702 = binop_x_67320 - binop_y_67701;\n                int64_t new_index_67703 = squot64(binop_x_67702, (int64_t) 8);\n                int64_t binop_y_68467 = (int64_t) 8 * new_index_67703;\n                int64_t new_index_68468 = binop_x_67702 - binop_y_68467;\n                int64_t x_32033 = ((__global int64_t *) mem_107285)[new_index_66959 * (int64_t) 1688849860263936 + new_index_66969 * (int64_t) 3298534883328 + new_index_66991 * (int64_t) 6442450944 + new_index_67037 * (int64_t) 12582912 + new_index_67131 * (int64_t) 24576 + new_index_67321 * (int64_t) 48 + new_index_67703 * (int64_t) 8 + new_index_68468];\n                bool bounds_check_32034 = ((__global bool *) mem_1",
                                     "07304)[gtid_31998 * (int64_t) 64 + gtid_31999 * (int64_t) 8 + gtid_32000];\n                int64_t binop_x_32035 = ((__global int64_t *) mem_107306)[gtid_31998 * (int64_t) 64 + gtid_31999 * (int64_t) 8 + gtid_32000];\n                int64_t binop_x_68471 = gtid_32001 + binop_x_76039;\n                int64_t new_index_68472 = squot64(binop_x_68471, (int64_t) 1688849860263936);\n                int64_t binop_y_68480 = (int64_t) 1688849860263936 * new_index_68472;\n                int64_t binop_x_68481 = binop_x_68471 - binop_y_68480;\n                int64_t new_index_68482 = squot64(binop_x_68481, (int64_t) 3298534883328);\n                int64_t binop_y_68502 = (int64_t) 3298534883328 * new_index_68482;\n                int64_t binop_x_68503 = binop_x_68481 - binop_y_68502;\n                int64_t new_index_68504 = squot64(binop_x_68503, (int64_t) 6442450944);\n                int64_t binop_y_68548 = (int64_t) 6442450944 * new_index_68504;\n                int64_t binop_x_68549 = binop_x_68503 - binop_y_68548;\n                int64_t new_index_68550 = squot64(binop_x_68549, (int64_t) 12582912);\n                int64_t binop_y_68642 = (int64_t) 12582912 * new_index_68550;\n                int64_t binop_x_68643 = binop_x_68549 - binop_y_68642;\n                int64_t new_index_68644 = squot64(binop_x_68643, (int64_t) 24576);\n                int64_t binop_y_68832 = (int64_t) 24576 * new_index_68644;\n                int64_t binop_x_68833 = binop_x_68643 - binop_y_68832;\n                int64_t new_index_68834 = squot64(binop_x_68833, (int64_t) 48);\n                int64_t binop_y_69214 = (int64_t) 48 * new_index_68834;\n                int64_t binop_x_69215 = binop_x_68833 - binop_y_69214;\n                int64_t new_index_69216 = squot64(binop_x_69215, (int64_t) 8);\n                int64_t binop_y_69980 = (int64_t) 8 * new_index_69216;\n                int64_t new_index_69981 = binop_x_69215 - binop_y_69980;\n                int64_t x_32042 = ((__global int64_t *) mem_107285)[ne", "w_index_68472 * (int64_t) 1688849860263936 + new_index_68482 * (int64_t) 3298534883328 + new_index_68504 * (int64_t) 6442450944 + new_index_68550 * (int64_t) 12582912 + new_index_68644 * (int64_t) 24576 + new_index_68834 * (int64_t) 48 + new_index_69216 * (int64_t) 8 + new_index_69981];\n                bool bounds_check_32043 = ((__global bool *) mem_107311)[gtid_31998 * (int64_t) 512 + gtid_31999 * (int64_t) 64 + gtid_32000 * (int64_t) 8 + gtid_32001];\n                int64_t binop_x_32044 = ((__global int64_t *) mem_107313)[gtid_31998 * (int64_t) 512 + gtid_31999 * (int64_t) 64 + gtid_32000 * (int64_t) 8 + gtid_32001];\n                int64_t binop_x_69984 = gtid_32002 + binop_x_74524;\n                int64_t new_index_69985 = squot64(binop_x_69984, (int64_t) 1688849860263936);\n                int64_t binop_y_69993 = (int64_t) 1688849860263936 * new_index_69985;\n                int64_t binop_x_69994 = binop_x_69984 - binop_y_69993;\n                int64_t new_index_69995 = squot64(binop_x_69994, (int64_t) 3298534883328);\n                int64_t binop_y_70015 = (int64_t) 3298534883328 * new_index_69995;\n                int64_t binop_x_70016 = binop_x_69994 - binop_y_70015;\n                int64_t new_index_70017 = squot64(binop_x_70016, (int64_t) 6442450944);\n                int64_t binop_y_70061 = (int64_t) 6442450944 * new_index_70017;\n                int64_t binop_x_70062 = binop_x_70016 - binop_y_70061;\n                int64_t new_index_70063 = squot64(binop_x_70062, (int64_t) 12582912);\n                int64_t binop_y_70155 = (int64_t) 12582912 * new_index_70063;\n                int64_t binop_x_70156 = binop_x_70062 - binop_y_70155;\n                int64_t new_index_70157 = squot64(binop_x_70156, (int64_t) 24576);\n                int64_t binop_y_70345 = (int64_t) 24576 * new_index_70157;\n                int64_t binop_x_70346 = binop_x_70156 - binop_y_70345;\n                int64_t new_index_70347 = squot64(binop_x_70346, (int64_t) 48);\n                int64_t ", "binop_y_70727 = (int64_t) 48 * new_index_70347;\n                int64_t binop_x_70728 = binop_x_70346 - binop_y_70727;\n                int64_t new_index_70729 = squot64(binop_x_70728, (int64_t) 8);\n                int64_t binop_y_71493 = (int64_t) 8 * new_index_70729;\n                int64_t new_index_71494 = binop_x_70728 - binop_y_71493;\n                int64_t x_32049 = ((__global int64_t *) mem_107285)[new_index_69985 * (int64_t) 1688849860263936 + new_index_69995 * (int64_t) 3298534883328 + new_index_70017 * (int64_t) 6442450944 + new_index_70063 * (int64_t) 12582912 + new_index_70157 * (int64_t) 24576 + new_index_70347 * (int64_t) 48 + new_index_70729 * (int64_t) 8 + new_index_71494];\n                bool bounds_check_32050 = ((__global bool *) mem_107318)[gtid_31998 * (int64_t) 4096 + gtid_31999 * (int64_t) 512 + gtid_32000 * (int64_t) 64 + gtid_32001 * (int64_t) 8 + gtid_32002];\n                int64_t binop_x_32051 = ((__global int64_t *) mem_107320)[gtid_31998 * (int64_t) 4096 + gtid_31999 * (int64_t) 512 + gtid_32000 * (int64_t) 64 + gtid_32001 * (int64_t) 8 + gtid_32002];\n                int64_t binop_x_71497 = gtid_32003 + binop_x_73009;\n                int64_t new_index_71498 = squot64(binop_x_71497, (int64_t) 1688849860263936);\n                int64_t binop_y_71506 = (int64_t) 1688849860263936 * new_index_71498;\n                int64_t binop_x_71507 = binop_x_71497 - binop_y_71506;\n                int64_t new_index_71508 = squot64(binop_x_71507, (int64_t) 3298534883328);\n                int64_t binop_y_71528 = (int64_t) 3298534883328 * new_index_71508;\n                int64_t binop_x_71529 = binop_x_71507 - binop_y_71528;\n                int64_t new_index_71530 = squot64(binop_x_71529, (int64_t) 6442450944);\n                int64_t binop_y_71574 = (int64_t) 6442450944 * new_index_71530;\n                int64_t binop_x_71575 = binop_x_71529 - binop_y_71574;\n                int64_t new_index_71576 = squot64(binop_x_71575, (int64_t) 12582912);\n          ",
                                     "      int64_t binop_y_71668 = (int64_t) 12582912 * new_index_71576;\n                int64_t binop_x_71669 = binop_x_71575 - binop_y_71668;\n                int64_t new_index_71670 = squot64(binop_x_71669, (int64_t) 24576);\n                int64_t binop_y_71858 = (int64_t) 24576 * new_index_71670;\n                int64_t binop_x_71859 = binop_x_71669 - binop_y_71858;\n                int64_t new_index_71860 = squot64(binop_x_71859, (int64_t) 48);\n                int64_t binop_y_72240 = (int64_t) 48 * new_index_71860;\n                int64_t binop_x_72241 = binop_x_71859 - binop_y_72240;\n                int64_t new_index_72242 = squot64(binop_x_72241, (int64_t) 8);\n                int64_t binop_y_73006 = (int64_t) 8 * new_index_72242;\n                int64_t new_index_73007 = binop_x_72241 - binop_y_73006;\n                int64_t x_32054 = ((__global int64_t *) mem_107285)[new_index_71498 * (int64_t) 1688849860263936 + new_index_71508 * (int64_t) 3298534883328 + new_index_71530 * (int64_t) 6442450944 + new_index_71576 * (int64_t) 12582912 + new_index_71670 * (int64_t) 24576 + new_index_71860 * (int64_t) 48 + new_index_72242 * (int64_t) 8 + new_index_73007];\n                bool bounds_check_32055 = ((__global bool *) mem_107323)[gtid_31998 * (int64_t) 32768 + gtid_31999 * (int64_t) 4096 + gtid_32000 * (int64_t) 512 + gtid_32001 * (int64_t) 64 + gtid_32002 * (int64_t) 8 + gtid_32003];\n                int64_t binop_x_32056 = ((__global int64_t *) mem_107325)[gtid_31998 * (int64_t) 32768 + gtid_31999 * (int64_t) 4096 + gtid_32000 * (int64_t) 512 + gtid_32001 * (int64_t) 64 + gtid_32002 * (int64_t) 8 + gtid_32003];\n                int8_t x_32057 = ((__global int8_t *) mem_107211)[gtid_32004];\n                int8_t y_32058 = ((__global int8_t *) mem_107213)[gtid_32004];\n                int64_t u8_res_32059 = zext_i8_i64(x_32057);\n                bool x_32060 = sle64((int64_t) 0, u8_res_32059);\n                bool y_32061 = slt64(u8_res_32059, (int64_t) 16);\n               ", " bool bounds_check_32062 = x_32060 && y_32061;\n                bool index_ok_32063 = bounds_check_32055 && bounds_check_32062;\n                bool index_certs_32064;\n                \n                if (!index_ok_32063) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 48) == -1) {\n                            global_failure_args[0] = (int64_t) x_32054;\n                            global_failure_args[1] = (int64_t) u8_res_32059;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32065 = binop_x_32056 + u8_res_32059;\n                int64_t new_index_32066 = squot64(binop_x_32065, (int64_t) 1024);\n                int64_t binop_y_32067 = (int64_t) 1024 * new_index_32066;\n                int64_t binop_x_32068 = binop_x_32065 - binop_y_32067;\n                int64_t new_index_32069 = squot64(binop_x_32068, (int64_t) 64);\n                int64_t binop_y_32070 = (int64_t) 64 * new_index_32069;\n                int64_t binop_x_32071 = binop_x_32068 - binop_y_32070;\n                int64_t new_index_32072 = squot64(binop_x_32071, (int64_t) 32);\n                int64_t binop_y_32073 = (int64_t) 32 * new_index_32072;\n                int64_t binop_x_32074 = binop_x_32071 - binop_y_32073;\n                int64_t new_index_32075 = squot64(binop_x_32074, (int64_t) 16);\n                int64_t binop_y_32076 = (int64_t) 16 * new_index_32075;\n                int64_t new_index_32077 = binop_x_32074 - binop_y_32076;\n                int8_t defunc_0_f_res_32078 = ((__global int8_t *) mem_107222)[new_index_32066 * (int64_t) 1024 + new_index_32069 * (int64_t) 64 + new_index_32072 * (int64_t) 32 + new_index_32075 * (in", "t64_t) 16 + new_index_32077];\n                int64_t u8_res_32079 = zext_i8_i64(defunc_0_f_res_32078);\n                bool x_32080 = sle64((int64_t) 0, u8_res_32079);\n                bool y_32081 = slt64(u8_res_32079, (int64_t) 16);\n                bool bounds_check_32082 = x_32080 && y_32081;\n                bool index_ok_32083 = bounds_check_32050 && bounds_check_32082;\n                bool index_certs_32084;\n                \n                if (!index_ok_32083) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 49) == -1) {\n                            global_failure_args[0] = (int64_t) x_32049;\n                            global_failure_args[1] = (int64_t) u8_res_32079;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32085 = binop_x_32051 + u8_res_32079;\n                int64_t new_index_32086 = squot64(binop_x_32085, (int64_t) 1024);\n                int64_t binop_y_32087 = (int64_t) 1024 * new_index_32086;\n                int64_t binop_x_32088 = binop_x_32085 - binop_y_32087;\n                int64_t new_index_32089 = squot64(binop_x_32088, (int64_t) 64);\n                int64_t binop_y_32090 = (int64_t) 64 * new_index_32089;\n                int64_t binop_x_32091 = binop_x_32088 - binop_y_32090;\n                int64_t new_index_32092 = squot64(binop_x_32091, (int64_t) 32);\n                int64_t binop_y_32093 = (int64_t) 32 * new_index_32092;\n                int64_t binop_x_32094 = binop_x_32091 - binop_y_32093;\n                int64_t new_index_32095 = squot64(binop_x_32094, (int64_t) 16);\n                int64_t binop_y_32096 = (int64_t) 16 * new_index_32095;\n                int64_t ",
                                     "new_index_32097 = binop_x_32094 - binop_y_32096;\n                int8_t defunc_0_f_res_32098 = ((__global int8_t *) mem_107222)[new_index_32086 * (int64_t) 1024 + new_index_32089 * (int64_t) 64 + new_index_32092 * (int64_t) 32 + new_index_32095 * (int64_t) 16 + new_index_32097];\n                int64_t u8_res_32099 = zext_i8_i64(defunc_0_f_res_32098);\n                bool x_32100 = sle64((int64_t) 0, u8_res_32099);\n                bool y_32101 = slt64(u8_res_32099, (int64_t) 16);\n                bool bounds_check_32102 = x_32100 && y_32101;\n                bool index_ok_32103 = bounds_check_32043 && bounds_check_32102;\n                bool index_certs_32104;\n                \n                if (!index_ok_32103) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 50) == -1) {\n                            global_failure_args[0] = (int64_t) x_32042;\n                            global_failure_args[1] = (int64_t) u8_res_32099;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32105 = binop_x_32044 + u8_res_32099;\n                int64_t new_index_32106 = squot64(binop_x_32105, (int64_t) 1024);\n                int64_t binop_y_32107 = (int64_t) 1024 * new_index_32106;\n                int64_t binop_x_32108 = binop_x_32105 - binop_y_32107;\n                int64_t new_index_32109 = squot64(binop_x_32108, (int64_t) 64);\n                int64_t binop_y_32110 = (int64_t) 64 * new_index_32109;\n                int64_t binop_x_32111 = binop_x_32108 - binop_y_32110;\n                int64_t new_index_32112 = squot64(binop_x_32111, (int64_t) 32);\n                int64_t binop_y_32113 = (int64_t) 32 * new_index_3211", "2;\n                int64_t binop_x_32114 = binop_x_32111 - binop_y_32113;\n                int64_t new_index_32115 = squot64(binop_x_32114, (int64_t) 16);\n                int64_t binop_y_32116 = (int64_t) 16 * new_index_32115;\n                int64_t new_index_32117 = binop_x_32114 - binop_y_32116;\n                int8_t defunc_0_f_res_32118 = ((__global int8_t *) mem_107222)[new_index_32106 * (int64_t) 1024 + new_index_32109 * (int64_t) 64 + new_index_32112 * (int64_t) 32 + new_index_32115 * (int64_t) 16 + new_index_32117];\n                int64_t u8_res_32119 = zext_i8_i64(defunc_0_f_res_32118);\n                bool x_32120 = sle64((int64_t) 0, u8_res_32119);\n                bool y_32121 = slt64(u8_res_32119, (int64_t) 16);\n                bool bounds_check_32122 = x_32120 && y_32121;\n                bool index_ok_32123 = bounds_check_32034 && bounds_check_32122;\n                bool index_certs_32124;\n                \n                if (!index_ok_32123) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 51) == -1) {\n                            global_failure_args[0] = (int64_t) x_32033;\n                            global_failure_args[1] = (int64_t) u8_res_32119;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32125 = binop_x_32035 + u8_res_32119;\n                int64_t new_index_32126 = squot64(binop_x_32125, (int64_t) 1024);\n                int64_t binop_y_32127 = (int64_t) 1024 * new_index_32126;\n                int64_t binop_x_32128 = binop_x_32125 - binop_y_32127;\n                int64_t new_index_32129 = squot64(binop_x_32128, (int64_t) 64);\n                int64_t binop_y_32130 = (i", "nt64_t) 64 * new_index_32129;\n                int64_t binop_x_32131 = binop_x_32128 - binop_y_32130;\n                int64_t new_index_32132 = squot64(binop_x_32131, (int64_t) 32);\n                int64_t binop_y_32133 = (int64_t) 32 * new_index_32132;\n                int64_t binop_x_32134 = binop_x_32131 - binop_y_32133;\n                int64_t new_index_32135 = squot64(binop_x_32134, (int64_t) 16);\n                int64_t binop_y_32136 = (int64_t) 16 * new_index_32135;\n                int64_t new_index_32137 = binop_x_32134 - binop_y_32136;\n                int8_t defunc_0_f_res_32138 = ((__global int8_t *) mem_107222)[new_index_32126 * (int64_t) 1024 + new_index_32129 * (int64_t) 64 + new_index_32132 * (int64_t) 32 + new_index_32135 * (int64_t) 16 + new_index_32137];\n                int64_t u8_res_32139 = zext_i8_i64(defunc_0_f_res_32138);\n                bool x_32140 = sle64((int64_t) 0, u8_res_32139);\n                bool y_32141 = slt64(u8_res_32139, (int64_t) 16);\n                bool bounds_check_32142 = x_32140 && y_32141;\n                bool index_ok_32143 = bounds_check_32023 && bounds_check_32142;\n                bool index_certs_32144;\n                \n                if (!index_ok_32143) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 52) == -1) {\n                            global_failure_args[0] = (int64_t) x_32022;\n                            global_failure_args[1] = (int64_t) u8_res_32139;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32145 = binop_x_32024 + u8_res_32139;\n                int64_t new_index_32146 = squot64(binop_x_32145, (int64_t) 1024);\n                i",
                                     "nt64_t binop_y_32147 = (int64_t) 1024 * new_index_32146;\n                int64_t binop_x_32148 = binop_x_32145 - binop_y_32147;\n                int64_t new_index_32149 = squot64(binop_x_32148, (int64_t) 64);\n                int64_t binop_y_32150 = (int64_t) 64 * new_index_32149;\n                int64_t binop_x_32151 = binop_x_32148 - binop_y_32150;\n                int64_t new_index_32152 = squot64(binop_x_32151, (int64_t) 32);\n                int64_t binop_y_32153 = (int64_t) 32 * new_index_32152;\n                int64_t binop_x_32154 = binop_x_32151 - binop_y_32153;\n                int64_t new_index_32155 = squot64(binop_x_32154, (int64_t) 16);\n                int64_t binop_y_32156 = (int64_t) 16 * new_index_32155;\n                int64_t new_index_32157 = binop_x_32154 - binop_y_32156;\n                int8_t defunc_0_f_res_32158 = ((__global int8_t *) mem_107222)[new_index_32146 * (int64_t) 1024 + new_index_32149 * (int64_t) 64 + new_index_32152 * (int64_t) 32 + new_index_32155 * (int64_t) 16 + new_index_32157];\n                int64_t u8_res_32159 = zext_i8_i64(defunc_0_f_res_32158);\n                bool x_32160 = sle64((int64_t) 0, u8_res_32159);\n                bool y_32161 = slt64(u8_res_32159, (int64_t) 16);\n                bool bounds_check_32162 = x_32160 && y_32161;\n                bool index_ok_32163 = bounds_check_32010 && bounds_check_32162;\n                bool index_certs_32164;\n                \n                if (!index_ok_32163) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 53) == -1) {\n                            global_failure_args[0] = (int64_t) x_32009;\n                            global_failure_args[1] = (int64_t) u8_res_32159;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n              ", "          goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32165 = binop_x_32011 + u8_res_32159;\n                int64_t new_index_32166 = squot64(binop_x_32165, (int64_t) 1024);\n                int64_t binop_y_32167 = (int64_t) 1024 * new_index_32166;\n                int64_t binop_x_32168 = binop_x_32165 - binop_y_32167;\n                int64_t new_index_32169 = squot64(binop_x_32168, (int64_t) 64);\n                int64_t binop_y_32170 = (int64_t) 64 * new_index_32169;\n                int64_t binop_x_32171 = binop_x_32168 - binop_y_32170;\n                int64_t new_index_32172 = squot64(binop_x_32171, (int64_t) 32);\n                int64_t binop_y_32173 = (int64_t) 32 * new_index_32172;\n                int64_t binop_x_32174 = binop_x_32171 - binop_y_32173;\n                int64_t new_index_32175 = squot64(binop_x_32174, (int64_t) 16);\n                int64_t binop_y_32176 = (int64_t) 16 * new_index_32175;\n                int64_t new_index_32177 = binop_x_32174 - binop_y_32176;\n                int8_t defunc_0_f_res_32178 = ((__global int8_t *) mem_107222)[new_index_32166 * (int64_t) 1024 + new_index_32169 * (int64_t) 64 + new_index_32172 * (int64_t) 32 + new_index_32175 * (int64_t) 16 + new_index_32177];\n                bool binlam_res_32179 = defunc_0_f_res_32178 == y_32058;\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_32006 = x_acc_108392;\n                }\n                // load new values\n                {\n                    y_32007 = binlam_res_32179;\n                }\n                // apply reduction operator\n                {\n                    bool binlam_res_32008 = x_32006 && y_32007;\n                    \n                    // store in accumulator\n                    {\n                        x_acc_108392 = binlam_res_32008;\n                    }\n                }\n            }\n        }\n ", "       // to reduce current chunk, first store our result in memory\n        {\n            x_32006 = x_acc_108392;\n            ((__local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366)] = x_32006;\n        }\n        \n      error_0:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_108398;\n        int32_t skip_waves_108399 = 1;\n        bool x_108394;\n        bool y_108395;\n        \n        offset_108398 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_108366, sext_i64_i32(segred_group_sizze_31994))) {\n                x_108394 = ((__local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366 + offset_108398)];\n            }\n        }\n        offset_108398 = 1;\n        while (slt32(offset_108398, wave_sizze_108368)) {\n            if (slt32(local_tid_108366 + offset_108398, sext_i64_i32(segred_group_sizze_31994)) && ((local_tid_108366 - squot32(local_tid_108366, wave_sizze_108368) * wave_sizze_108368) & (2 * offset_108398 - 1)) == 0) {\n                // read array element\n                {\n                    y_108395 = ((volatile __local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366 + offset_108398)];\n                }\n                // apply reduction operation\n                {\n                    bool binlam_res_108396 = x_108394 && y_108395;\n                    \n                    x_108394 = binlam_res_108396;\n                }\n                // write result of operation\n                {\n                    ((volatile __local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366)] = x_108394;\n                }\n            }\n            offset_108398 *= 2;\n        }\n        while (slt32(skip_waves_108399, squot32(sext_i64_i32(segred_group_sizze_31994) + wave_sizze_108368 - 1, wave_sizze_108368))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_108398 = skip_wa",
                                     "ves_108399 * wave_sizze_108368;\n            if (slt32(local_tid_108366 + offset_108398, sext_i64_i32(segred_group_sizze_31994)) && ((local_tid_108366 - squot32(local_tid_108366, wave_sizze_108368) * wave_sizze_108368) == 0 && (squot32(local_tid_108366, wave_sizze_108368) & (2 * skip_waves_108399 - 1)) == 0)) {\n                // read array element\n                {\n                    y_108395 = ((__local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366 + offset_108398)];\n                }\n                // apply reduction operation\n                {\n                    bool binlam_res_108396 = x_108394 && y_108395;\n                    \n                    x_108394 = binlam_res_108396;\n                }\n                // write result of operation\n                {\n                    ((__local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366)] = x_108394;\n                }\n            }\n            skip_waves_108399 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_108366) == (int64_t) 0) {\n                x_acc_108392 = x_108394;\n            }\n        }\n        if (groups_per_segment_108336 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_108366 == 0) {\n                    ((__global bool *) mem_107328)[gtid_31998 * (int64_t) 32768 + gtid_31999 * (int64_t) 4096 + gtid_32000 * (int64_t) 512 + gtid_32001 * (int64_t) 64 + gtid_32002 * (int64_t) 8 + gtid_32003] = x_acc_108392;\n                }\n            }\n        } else {\n            int32_t old_counter_108400;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_108366 == 0) {\n                    ((__global bool *) segred_tmp_mem_108341)[sext_i32_i64(virt_group_id_108377)] = x_acc_108392;\n                    mem_fence_global();\n       ", "             old_counter_108400 = atomic_add_i32_global(&((volatile __global int *) counters_mem_108343)[sext_i32_i64(srem32(flat_segment_id_108378, 10240))], (int) 1);\n                    ((__local bool *) sync_arr_mem_108372)[(int64_t) 0] = old_counter_108400 == groups_per_segment_108336 - (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_108401 = ((__local bool *) sync_arr_mem_108372)[(int64_t) 0];\n            \n            if (is_last_group_108401) {\n                if (local_tid_108366 == 0) {\n                    old_counter_108400 = atomic_add_i32_global(&((volatile __global int *) counters_mem_108343)[sext_i32_i64(srem32(flat_segment_id_108378, 10240))], (int) ((int64_t) 0 - groups_per_segment_108336));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_108402 = sdiv_up64(groups_per_segment_108336, segred_group_sizze_31994);\n                    \n                    x_32006 = 1;\n                    for (int64_t i_108403 = 0; i_108403 < read_per_thread_108402; i_108403++) {\n                        int64_t group_res_id_108404 = sext_i32_i64(local_tid_108366) * read_per_thread_108402 + i_108403;\n                        int64_t index_of_group_res_108405 = sext_i32_i64(flat_segment_id_108378) * groups_per_segment_108336 + group_res_id_108404;\n                        \n                        if (slt64(group_res_id_108404, groups_per_segment_108336)) {\n                            y_32007 = ((__global bool *) segred_tmp_mem_108341)[index_of_group_res_108405];\n                            \n                            bool binlam_res_32008 = x_32006 && y_32007;\n                            \n                            x_32006 = binlam_res_32008;\n                        }\n                    }\n                }\n                ((__local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366)]", " = x_32006;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_108406;\n                    int32_t skip_waves_108407 = 1;\n                    bool x_108394;\n                    bool y_108395;\n                    \n                    offset_108406 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_108366, sext_i64_i32(segred_group_sizze_31994))) {\n                            x_108394 = ((__local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366 + offset_108406)];\n                        }\n                    }\n                    offset_108406 = 1;\n                    while (slt32(offset_108406, wave_sizze_108368)) {\n                        if (slt32(local_tid_108366 + offset_108406, sext_i64_i32(segred_group_sizze_31994)) && ((local_tid_108366 - squot32(local_tid_108366, wave_sizze_108368) * wave_sizze_108368) & (2 * offset_108406 - 1)) == 0) {\n                            // read array element\n                            {\n                                y_108395 = ((volatile __local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366 + offset_108406)];\n                            }\n                            // apply reduction operation\n                            {\n                                bool binlam_res_108396 = x_108394 && y_108395;\n                                \n                                x_108394 = binlam_res_108396;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366)] = x_108394;\n                            }\n                        }\n                        offset_108406 *= 2;\n                    }\n                    while (slt32(skip_waves_108407, squot32(sext_i64_i32(segr",
                                     "ed_group_sizze_31994) + wave_sizze_108368 - 1, wave_sizze_108368))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_108406 = skip_waves_108407 * wave_sizze_108368;\n                        if (slt32(local_tid_108366 + offset_108406, sext_i64_i32(segred_group_sizze_31994)) && ((local_tid_108366 - squot32(local_tid_108366, wave_sizze_108368) * wave_sizze_108368) == 0 && (squot32(local_tid_108366, wave_sizze_108368) & (2 * skip_waves_108407 - 1)) == 0)) {\n                            // read array element\n                            {\n                                y_108395 = ((__local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366 + offset_108406)];\n                            }\n                            // apply reduction operation\n                            {\n                                bool binlam_res_108396 = x_108394 && y_108395;\n                                \n                                x_108394 = binlam_res_108396;\n                            }\n                            // write result of operation\n                            {\n                                ((__local bool *) red_arr_mem_108370)[sext_i32_i64(local_tid_108366)] = x_108394;\n                            }\n                        }\n                        skip_waves_108407 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_108366 == 0) {\n                            ((__global bool *) mem_107328)[gtid_31998 * (int64_t) 32768 + gtid_31999 * (int64_t) 4096 + gtid_32000 * (int64_t) 512 + gtid_32001 * (int64_t) 64 + gtid_32002 * (int64_t) 8 + gtid_32003] = x_108394;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_31994\n}\n__kernel void segred_nonseg_32226(__global int *global_fa", "ilure, uint red_arr_mem_108451_backing_offset_0, uint sync_arr_mem_108449_backing_offset_1, int64_t num_groups_32221, int64_t num_threads_108443, __global unsigned char *ext_mem_107605, __global unsigned char *mem_107608, __global unsigned char *counters_mem_108439, __global unsigned char *segred_tmp_mem_108441)\n{\n    #define segred_group_sizze_32219 (segred_group_sizze_32218)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile unsigned char *red_arr_mem_108451_backing_1 = &shared_mem[red_arr_mem_108451_backing_offset_0];\n    volatile unsigned char *sync_arr_mem_108449_backing_0 = &shared_mem[sync_arr_mem_108449_backing_offset_1];\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_108445;\n    int64_t group_sizze_108448;\n    int32_t wave_sizze_108447;\n    int32_t group_tid_108446;\n    \n    local_tid_108445 = get_local_id(0);\n    group_sizze_108448 = get_local_size(0);\n    wave_sizze_108447 = LOCKSTEP_WIDTH;\n    group_tid_108446 = get_group_id(0);\n    \n    int32_t global_tid_108444 = group_tid_108446 * group_sizze_108448 + local_tid_108445;\n    int32_t phys_tid_32226 = global_tid_108444;\n    __local unsigned char *sync_arr_mem_108449;\n    \n    sync_arr_mem_108449 = (__local unsigned char *) sync_arr_mem_108449_backing_0;\n    \n    __local unsigned char *red_arr_mem_108451;\n    \n    red_arr_mem_108451 = (__local unsigned char *) red_arr_mem_108451_backing_1;\n    \n    int64_t dummy_32224 = (int64_t) 0;\n    int64_t gtid_32225 = (int64_t) 0;\n    int64_t x_acc_108453;\n    int64_t chunk_sizze_108454 = smin64(sdiv_up64((int64_t) 262144, sext_i32_i64(sext_i64_i32(segred_group_sizze_32219 * num_groups_32221))), sdiv_up64((int64_t) 262144 - phys_tid_32226, num_threads_108443));\n    int64_t x_21716;\n    int64_t x_21717;\n    \n    // neutral-initialise the accumulators\n    {\n        x_acc_108453 = (int64_t) 262144;\n    }\n    for (int64_t i_108458 = 0; i_108458 < chunk_sizze_108454; i_108458++) {\n    ", "    gtid_32225 = phys_tid_32226 + num_threads_108443 * i_108458;\n        // apply map function\n        {\n            int64_t new_index_32227 = squot64(gtid_32225, (int64_t) 32768);\n            int64_t binop_y_32229 = (int64_t) 32768 * new_index_32227;\n            int64_t binop_x_32230 = gtid_32225 - binop_y_32229;\n            int64_t new_index_32231 = squot64(binop_x_32230, (int64_t) 4096);\n            int64_t binop_y_32239 = (int64_t) 4096 * new_index_32231;\n            int64_t binop_x_32240 = binop_x_32230 - binop_y_32239;\n            int64_t new_index_32241 = squot64(binop_x_32240, (int64_t) 512);\n            int64_t binop_y_32261 = (int64_t) 512 * new_index_32241;\n            int64_t binop_x_32262 = binop_x_32240 - binop_y_32261;\n            int64_t new_index_32263 = squot64(binop_x_32262, (int64_t) 64);\n            int64_t binop_y_32307 = (int64_t) 64 * new_index_32263;\n            int64_t binop_x_32308 = binop_x_32262 - binop_y_32307;\n            int64_t new_index_32309 = squot64(binop_x_32308, (int64_t) 8);\n            int64_t binop_y_32401 = (int64_t) 8 * new_index_32309;\n            int64_t new_index_32402 = binop_x_32308 - binop_y_32401;\n            bool x_23657 = ((__global bool *) ext_mem_107605)[new_index_32227 * (int64_t) 32768 + new_index_32231 * (int64_t) 4096 + new_index_32241 * (int64_t) 512 + new_index_32263 * (int64_t) 64 + new_index_32309 * (int64_t) 8 + new_index_32402];\n            bool cond_23659 = x_23657 == 1;\n            int64_t defunc_0_f_res_23660;\n            \n            if (cond_23659 == 1) {\n                defunc_0_f_res_23660 = gtid_32225;\n            } else {\n                defunc_0_f_res_23660 = (int64_t) 262144;\n            }\n            // save map-out results\n            { }\n            // load accumulator\n            {\n                x_21716 = x_acc_108453;\n            }\n            // load new values\n            {\n                x_21717 = defunc_0_f_res_23660;\n            }\n            // apply reduction operator\n        ",
                                     "    {\n                int64_t defunc_0_op_res_21718 = smin64(x_21716, x_21717);\n                \n                // store in accumulator\n                {\n                    x_acc_108453 = defunc_0_op_res_21718;\n                }\n            }\n        }\n    }\n    // to reduce current chunk, first store our result in memory\n    {\n        x_21716 = x_acc_108453;\n        ((__local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445)] = x_21716;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_108459;\n    int32_t skip_waves_108460 = 1;\n    int64_t x_108455;\n    int64_t x_108456;\n    \n    offset_108459 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_108445, sext_i64_i32(segred_group_sizze_32219))) {\n            x_108455 = ((__local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445 + offset_108459)];\n        }\n    }\n    offset_108459 = 1;\n    while (slt32(offset_108459, wave_sizze_108447)) {\n        if (slt32(local_tid_108445 + offset_108459, sext_i64_i32(segred_group_sizze_32219)) && ((local_tid_108445 - squot32(local_tid_108445, wave_sizze_108447) * wave_sizze_108447) & (2 * offset_108459 - 1)) == 0) {\n            // read array element\n            {\n                x_108456 = ((volatile __local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445 + offset_108459)];\n            }\n            // apply reduction operation\n            {\n                int64_t defunc_0_op_res_108457 = smin64(x_108455, x_108456);\n                \n                x_108455 = defunc_0_op_res_108457;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445)] = x_108455;\n            }\n        }\n        offset_108459 *= 2;\n    }\n    while (slt32(skip_waves_108460, squot32(sext_i64_i32(segred_group_sizze_32219) + wave_sizze_108447 - 1, wave_sizze_108447))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        o", "ffset_108459 = skip_waves_108460 * wave_sizze_108447;\n        if (slt32(local_tid_108445 + offset_108459, sext_i64_i32(segred_group_sizze_32219)) && ((local_tid_108445 - squot32(local_tid_108445, wave_sizze_108447) * wave_sizze_108447) == 0 && (squot32(local_tid_108445, wave_sizze_108447) & (2 * skip_waves_108460 - 1)) == 0)) {\n            // read array element\n            {\n                x_108456 = ((__local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445 + offset_108459)];\n            }\n            // apply reduction operation\n            {\n                int64_t defunc_0_op_res_108457 = smin64(x_108455, x_108456);\n                \n                x_108455 = defunc_0_op_res_108457;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445)] = x_108455;\n            }\n        }\n        skip_waves_108460 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // first thread saves the result in accumulator\n    {\n        if (sext_i32_i64(local_tid_108445) == (int64_t) 0) {\n            x_acc_108453 = x_108455;\n        }\n    }\n    \n    int32_t old_counter_108461;\n    \n    // first thread in group saves group result to global memory\n    {\n        if (local_tid_108445 == 0) {\n            ((__global int64_t *) segred_tmp_mem_108441)[sext_i32_i64(group_tid_108446)] = x_acc_108453;\n            mem_fence_global();\n            old_counter_108461 = atomic_add_i32_global(&((volatile __global int *) counters_mem_108439)[(int64_t) 0], (int) 1);\n            ((__local bool *) sync_arr_mem_108449)[(int64_t) 0] = old_counter_108461 == num_groups_32221 - (int64_t) 1;\n        }\n    }\n    barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    \n    bool is_last_group_108462 = ((__local bool *) sync_arr_mem_108449)[(int64_t) 0];\n    \n    if (is_last_group_108462) {\n        if (local_tid_108445 == 0) {\n            old_counter_108461 = atomic_add_i32_global(&((volatile __global int *", ") counters_mem_108439)[(int64_t) 0], (int) ((int64_t) 0 - num_groups_32221));\n        }\n        // read in the per-group-results\n        {\n            int64_t read_per_thread_108463 = sdiv_up64(num_groups_32221, segred_group_sizze_32219);\n            \n            x_21716 = (int64_t) 262144;\n            for (int64_t i_108464 = 0; i_108464 < read_per_thread_108463; i_108464++) {\n                int64_t group_res_id_108465 = sext_i32_i64(local_tid_108445) * read_per_thread_108463 + i_108464;\n                int64_t index_of_group_res_108466 = group_res_id_108465;\n                \n                if (slt64(group_res_id_108465, num_groups_32221)) {\n                    x_21717 = ((__global int64_t *) segred_tmp_mem_108441)[index_of_group_res_108466];\n                    \n                    int64_t defunc_0_op_res_21718 = smin64(x_21716, x_21717);\n                    \n                    x_21716 = defunc_0_op_res_21718;\n                }\n            }\n        }\n        ((__local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445)] = x_21716;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // reduce the per-group results\n        {\n            int32_t offset_108467;\n            int32_t skip_waves_108468 = 1;\n            int64_t x_108455;\n            int64_t x_108456;\n            \n            offset_108467 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_108445, sext_i64_i32(segred_group_sizze_32219))) {\n                    x_108455 = ((__local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445 + offset_108467)];\n                }\n            }\n            offset_108467 = 1;\n            while (slt32(offset_108467, wave_sizze_108447)) {\n                if (slt32(local_tid_108445 + offset_108467, sext_i64_i32(segred_group_sizze_32219)) && ((local_tid_108445 - squot32(local_tid_108445, wave_sizze_108447) * wave_sizze_108447) & (2 * offset_108467 - 1)) == 0) {\n                    // read array ",
                                     "element\n                    {\n                        x_108456 = ((volatile __local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445 + offset_108467)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t defunc_0_op_res_108457 = smin64(x_108455, x_108456);\n                        \n                        x_108455 = defunc_0_op_res_108457;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445)] = x_108455;\n                    }\n                }\n                offset_108467 *= 2;\n            }\n            while (slt32(skip_waves_108468, squot32(sext_i64_i32(segred_group_sizze_32219) + wave_sizze_108447 - 1, wave_sizze_108447))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_108467 = skip_waves_108468 * wave_sizze_108447;\n                if (slt32(local_tid_108445 + offset_108467, sext_i64_i32(segred_group_sizze_32219)) && ((local_tid_108445 - squot32(local_tid_108445, wave_sizze_108447) * wave_sizze_108447) == 0 && (squot32(local_tid_108445, wave_sizze_108447) & (2 * skip_waves_108468 - 1)) == 0)) {\n                    // read array element\n                    {\n                        x_108456 = ((__local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445 + offset_108467)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t defunc_0_op_res_108457 = smin64(x_108455, x_108456);\n                        \n                        x_108455 = defunc_0_op_res_108457;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_mem_108451)[sext_i32_i64(local_tid_108445)] = x_108455;\n                    }\n                }\n                skip_waves_108468 *= 2;\n", "            }\n            // and back to memory with the final result\n            {\n                if (local_tid_108445 == 0) {\n                    ((__global int64_t *) mem_107608)[(int64_t) 0] = x_108455;\n                }\n            }\n        }\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_32219\n}\n__kernel void segred_small_32005(__global int *global_failure, int failure_is_an_option, __global int64_t *global_failure_args, uint red_arr_mem_108305_backing_offset_0, int64_t num_groups_31995, int64_t binop_x_73009, int64_t binop_x_74524, int64_t binop_x_76039, int64_t binop_x_77554, int64_t binop_x_79069, int64_t binop_x_80583, int64_t segment_sizze_nonzzero_108298, __global unsigned char *mem_107211, __global unsigned char *mem_107213, __global unsigned char *mem_107222, __global unsigned char *mem_107285, __global unsigned char *mem_107290, __global unsigned char *mem_107292, __global unsigned char *mem_107297, __global unsigned char *mem_107299, __global unsigned char *mem_107304, __global unsigned char *mem_107306, __global unsigned char *mem_107311, __global unsigned char *mem_107313, __global unsigned char *mem_107318, __global unsigned char *mem_107320, __global unsigned char *mem_107323, __global unsigned char *mem_107325, __global unsigned char *mem_107328)\n{\n    #define segred_group_sizze_31994 (segred_group_sizze_27393)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    volatile unsigned char *red_arr_mem_108305_backing_0 = &shared_mem[red_arr_mem_108305_backing_offset_0];\n    volatile __local int local_failure;\n    \n    if (failure_is_an_option) {\n        int failed = *global_failure >= 0;\n        \n        if (failed)\n            return;\n    }\n    local_failure = 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t local_tid_108301;\n    int64_t group_sizze_108304;\n    int32_t wave_sizze_108303;\n    int32_t group_tid_108302;\n    \n    local_tid_108301 = get_local_id(0);\n    group_sizze_10", "8304 = get_local_size(0);\n    wave_sizze_108303 = LOCKSTEP_WIDTH;\n    group_tid_108302 = get_group_id(0);\n    \n    int32_t global_tid_108300 = group_tid_108302 * group_sizze_108304 + local_tid_108301;\n    int32_t phys_tid_32005 = global_tid_108300;\n    __local unsigned char *red_arr_mem_108305;\n    \n    red_arr_mem_108305 = (__local unsigned char *) red_arr_mem_108305_backing_0;\n    \n    int32_t phys_group_id_108307;\n    \n    phys_group_id_108307 = get_group_id(0);\n    \n    int32_t iterations_108308 = sdiv_up32(sext_i64_i32(sdiv_up64((int64_t) 262144, squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298))) - phys_group_id_108307, sext_i64_i32(num_groups_31995));\n    \n    for (int32_t i_108309 = 0; i_108309 < iterations_108308; i_108309++) {\n        int32_t virt_group_id_108310 = phys_group_id_108307 + i_108309 * sext_i64_i32(num_groups_31995);\n        int64_t slice_108311 = (int64_t) 8;\n        int64_t slice_108312 = (int64_t) 8 * slice_108311;\n        int64_t slice_108313 = (int64_t) 8 * slice_108312;\n        int64_t slice_108314 = (int64_t) 8 * slice_108313;\n        int64_t slice_108315 = (int64_t) 8 * slice_108314;\n        int64_t slice_108316 = (int64_t) 8 * slice_108315;\n        int64_t gtid_31998 = squot64(squot64(sext_i32_i64(local_tid_108301), segment_sizze_nonzzero_108298) + sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298), slice_108315);\n        int64_t remnant_108317 = squot64(sext_i32_i64(local_tid_108301), segment_sizze_nonzzero_108298) + sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) - gtid_31998 * slice_108315;\n        int64_t gtid_31999 = squot64(remnant_108317, slice_108314);\n        int64_t remnant_108318 = remnant_108317 - gtid_31999 * slice_108314;\n        int64_t gtid_32000 = squot64(remnant_108318, slice_108313);\n        int64_t remnant_108319 = remnant_108318 - gtid_32000 * slice_108313;\n        int64_t gtid_32001 = squot64(re",
                                     "mnant_108319, slice_108312);\n        int64_t remnant_108320 = remnant_108319 - gtid_32001 * slice_108312;\n        int64_t gtid_32002 = squot64(remnant_108320, slice_108311);\n        int64_t remnant_108321 = remnant_108320 - gtid_32002 * slice_108311;\n        int64_t gtid_32003 = remnant_108321;\n        int64_t remnant_108322 = remnant_108321 - gtid_32003;\n        int64_t gtid_32004 = srem64(sext_i32_i64(local_tid_108301), (int64_t) 16);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, (int64_t) 16) && ((((((slt64(gtid_31998, (int64_t) 8) && slt64(gtid_31999, (int64_t) 8)) && slt64(gtid_32000, (int64_t) 8)) && slt64(gtid_32001, (int64_t) 8)) && slt64(gtid_32002, (int64_t) 8)) && slt64(gtid_32003, (int64_t) 8)) && slt64(sext_i32_i64(local_tid_108301), (int64_t) 16 * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298)))) {\n                int64_t binop_x_64186 = gtid_31998 + binop_x_80583;\n                int64_t new_index_64187 = squot64(binop_x_64186, (int64_t) 1688849860263936);\n                int64_t binop_y_64193 = (int64_t) 1688849860263936 * new_index_64187;\n                int64_t binop_x_64194 = binop_x_64186 - binop_y_64193;\n                int64_t new_index_64195 = squot64(binop_x_64194, (int64_t) 3298534883328);\n                int64_t binop_y_64211 = (int64_t) 3298534883328 * new_index_64195;\n                int64_t binop_x_64212 = binop_x_64194 - binop_y_64211;\n                int64_t new_index_64213 = squot64(binop_x_64212, (int64_t) 6442450944);\n                int64_t binop_y_64249 = (int64_t) 6442450944 * new_index_64213;\n                int64_t binop_x_64250 = binop_x_64212 - binop_y_64249;\n                int64_t new_index_64251 = squot64(binop_x_64250, (int64_t) 12582912);\n                int64_t binop_y_64327 = (int64_t) 12582912 * new_index_64251;\n                int64_t binop_x_64328 = binop_x_64250 - binop_y_64327;\n                int64_t new_index_64329 = squot64(binop_x_64328, (int", "64_t) 24576);\n                int64_t binop_y_64485 = (int64_t) 24576 * new_index_64329;\n                int64_t binop_x_64486 = binop_x_64328 - binop_y_64485;\n                int64_t new_index_64487 = squot64(binop_x_64486, (int64_t) 48);\n                int64_t binop_y_64803 = (int64_t) 48 * new_index_64487;\n                int64_t binop_x_64804 = binop_x_64486 - binop_y_64803;\n                int64_t new_index_64805 = squot64(binop_x_64804, (int64_t) 8);\n                int64_t binop_y_65441 = (int64_t) 8 * new_index_64805;\n                int64_t new_index_65442 = binop_x_64804 - binop_y_65441;\n                int64_t x_32009 = ((__global int64_t *) mem_107285)[new_index_64187 * (int64_t) 1688849860263936 + new_index_64195 * (int64_t) 3298534883328 + new_index_64213 * (int64_t) 6442450944 + new_index_64251 * (int64_t) 12582912 + new_index_64329 * (int64_t) 24576 + new_index_64487 * (int64_t) 48 + new_index_64805 * (int64_t) 8 + new_index_65442];\n                bool bounds_check_32010 = ((__global bool *) mem_107290)[gtid_31998];\n                int64_t binop_x_32011 = ((__global int64_t *) mem_107292)[gtid_31998];\n                int64_t binop_x_65445 = gtid_31999 + binop_x_79069;\n                int64_t new_index_65446 = squot64(binop_x_65445, (int64_t) 1688849860263936);\n                int64_t binop_y_65454 = (int64_t) 1688849860263936 * new_index_65446;\n                int64_t binop_x_65455 = binop_x_65445 - binop_y_65454;\n                int64_t new_index_65456 = squot64(binop_x_65455, (int64_t) 3298534883328);\n                int64_t binop_y_65476 = (int64_t) 3298534883328 * new_index_65456;\n                int64_t binop_x_65477 = binop_x_65455 - binop_y_65476;\n                int64_t new_index_65478 = squot64(binop_x_65477, (int64_t) 6442450944);\n                int64_t binop_y_65522 = (int64_t) 6442450944 * new_index_65478;\n                int64_t binop_x_65523 = binop_x_65477 - binop_y_65522;\n                int64_t new_index_65524 = squot64(binop_x_65", "523, (int64_t) 12582912);\n                int64_t binop_y_65616 = (int64_t) 12582912 * new_index_65524;\n                int64_t binop_x_65617 = binop_x_65523 - binop_y_65616;\n                int64_t new_index_65618 = squot64(binop_x_65617, (int64_t) 24576);\n                int64_t binop_y_65806 = (int64_t) 24576 * new_index_65618;\n                int64_t binop_x_65807 = binop_x_65617 - binop_y_65806;\n                int64_t new_index_65808 = squot64(binop_x_65807, (int64_t) 48);\n                int64_t binop_y_66188 = (int64_t) 48 * new_index_65808;\n                int64_t binop_x_66189 = binop_x_65807 - binop_y_66188;\n                int64_t new_index_66190 = squot64(binop_x_66189, (int64_t) 8);\n                int64_t binop_y_66954 = (int64_t) 8 * new_index_66190;\n                int64_t new_index_66955 = binop_x_66189 - binop_y_66954;\n                int64_t x_32022 = ((__global int64_t *) mem_107285)[new_index_65446 * (int64_t) 1688849860263936 + new_index_65456 * (int64_t) 3298534883328 + new_index_65478 * (int64_t) 6442450944 + new_index_65524 * (int64_t) 12582912 + new_index_65618 * (int64_t) 24576 + new_index_65808 * (int64_t) 48 + new_index_66190 * (int64_t) 8 + new_index_66955];\n                bool bounds_check_32023 = ((__global bool *) mem_107297)[gtid_31998 * (int64_t) 8 + gtid_31999];\n                int64_t binop_x_32024 = ((__global int64_t *) mem_107299)[gtid_31998 * (int64_t) 8 + gtid_31999];\n                int64_t binop_x_66958 = gtid_32000 + binop_x_77554;\n                int64_t new_index_66959 = squot64(binop_x_66958, (int64_t) 1688849860263936);\n                int64_t binop_y_66967 = (int64_t) 1688849860263936 * new_index_66959;\n                int64_t binop_x_66968 = binop_x_66958 - binop_y_66967;\n                int64_t new_index_66969 = squot64(binop_x_66968, (int64_t) 3298534883328);\n                int64_t binop_y_66989 = (int64_t) 3298534883328 * new_index_66969;\n                int64_t binop_x_66990 = binop_x_66968 - binop_y_66989;\n ",
                                     "               int64_t new_index_66991 = squot64(binop_x_66990, (int64_t) 6442450944);\n                int64_t binop_y_67035 = (int64_t) 6442450944 * new_index_66991;\n                int64_t binop_x_67036 = binop_x_66990 - binop_y_67035;\n                int64_t new_index_67037 = squot64(binop_x_67036, (int64_t) 12582912);\n                int64_t binop_y_67129 = (int64_t) 12582912 * new_index_67037;\n                int64_t binop_x_67130 = binop_x_67036 - binop_y_67129;\n                int64_t new_index_67131 = squot64(binop_x_67130, (int64_t) 24576);\n                int64_t binop_y_67319 = (int64_t) 24576 * new_index_67131;\n                int64_t binop_x_67320 = binop_x_67130 - binop_y_67319;\n                int64_t new_index_67321 = squot64(binop_x_67320, (int64_t) 48);\n                int64_t binop_y_67701 = (int64_t) 48 * new_index_67321;\n                int64_t binop_x_67702 = binop_x_67320 - binop_y_67701;\n                int64_t new_index_67703 = squot64(binop_x_67702, (int64_t) 8);\n                int64_t binop_y_68467 = (int64_t) 8 * new_index_67703;\n                int64_t new_index_68468 = binop_x_67702 - binop_y_68467;\n                int64_t x_32033 = ((__global int64_t *) mem_107285)[new_index_66959 * (int64_t) 1688849860263936 + new_index_66969 * (int64_t) 3298534883328 + new_index_66991 * (int64_t) 6442450944 + new_index_67037 * (int64_t) 12582912 + new_index_67131 * (int64_t) 24576 + new_index_67321 * (int64_t) 48 + new_index_67703 * (int64_t) 8 + new_index_68468];\n                bool bounds_check_32034 = ((__global bool *) mem_107304)[gtid_31998 * (int64_t) 64 + gtid_31999 * (int64_t) 8 + gtid_32000];\n                int64_t binop_x_32035 = ((__global int64_t *) mem_107306)[gtid_31998 * (int64_t) 64 + gtid_31999 * (int64_t) 8 + gtid_32000];\n                int64_t binop_x_68471 = gtid_32001 + binop_x_76039;\n                int64_t new_index_68472 = squot64(binop_x_68471, (int64_t) 1688849860263936);\n                int64_t binop_y_68480 = (int64_t)", " 1688849860263936 * new_index_68472;\n                int64_t binop_x_68481 = binop_x_68471 - binop_y_68480;\n                int64_t new_index_68482 = squot64(binop_x_68481, (int64_t) 3298534883328);\n                int64_t binop_y_68502 = (int64_t) 3298534883328 * new_index_68482;\n                int64_t binop_x_68503 = binop_x_68481 - binop_y_68502;\n                int64_t new_index_68504 = squot64(binop_x_68503, (int64_t) 6442450944);\n                int64_t binop_y_68548 = (int64_t) 6442450944 * new_index_68504;\n                int64_t binop_x_68549 = binop_x_68503 - binop_y_68548;\n                int64_t new_index_68550 = squot64(binop_x_68549, (int64_t) 12582912);\n                int64_t binop_y_68642 = (int64_t) 12582912 * new_index_68550;\n                int64_t binop_x_68643 = binop_x_68549 - binop_y_68642;\n                int64_t new_index_68644 = squot64(binop_x_68643, (int64_t) 24576);\n                int64_t binop_y_68832 = (int64_t) 24576 * new_index_68644;\n                int64_t binop_x_68833 = binop_x_68643 - binop_y_68832;\n                int64_t new_index_68834 = squot64(binop_x_68833, (int64_t) 48);\n                int64_t binop_y_69214 = (int64_t) 48 * new_index_68834;\n                int64_t binop_x_69215 = binop_x_68833 - binop_y_69214;\n                int64_t new_index_69216 = squot64(binop_x_69215, (int64_t) 8);\n                int64_t binop_y_69980 = (int64_t) 8 * new_index_69216;\n                int64_t new_index_69981 = binop_x_69215 - binop_y_69980;\n                int64_t x_32042 = ((__global int64_t *) mem_107285)[new_index_68472 * (int64_t) 1688849860263936 + new_index_68482 * (int64_t) 3298534883328 + new_index_68504 * (int64_t) 6442450944 + new_index_68550 * (int64_t) 12582912 + new_index_68644 * (int64_t) 24576 + new_index_68834 * (int64_t) 48 + new_index_69216 * (int64_t) 8 + new_index_69981];\n                bool bounds_check_32043 = ((__global bool *) mem_107311)[gtid_31998 * (int64_t) 512 + gtid_31999 * (int64_t) 64 + gtid_32000", " * (int64_t) 8 + gtid_32001];\n                int64_t binop_x_32044 = ((__global int64_t *) mem_107313)[gtid_31998 * (int64_t) 512 + gtid_31999 * (int64_t) 64 + gtid_32000 * (int64_t) 8 + gtid_32001];\n                int64_t binop_x_69984 = gtid_32002 + binop_x_74524;\n                int64_t new_index_69985 = squot64(binop_x_69984, (int64_t) 1688849860263936);\n                int64_t binop_y_69993 = (int64_t) 1688849860263936 * new_index_69985;\n                int64_t binop_x_69994 = binop_x_69984 - binop_y_69993;\n                int64_t new_index_69995 = squot64(binop_x_69994, (int64_t) 3298534883328);\n                int64_t binop_y_70015 = (int64_t) 3298534883328 * new_index_69995;\n                int64_t binop_x_70016 = binop_x_69994 - binop_y_70015;\n                int64_t new_index_70017 = squot64(binop_x_70016, (int64_t) 6442450944);\n                int64_t binop_y_70061 = (int64_t) 6442450944 * new_index_70017;\n                int64_t binop_x_70062 = binop_x_70016 - binop_y_70061;\n                int64_t new_index_70063 = squot64(binop_x_70062, (int64_t) 12582912);\n                int64_t binop_y_70155 = (int64_t) 12582912 * new_index_70063;\n                int64_t binop_x_70156 = binop_x_70062 - binop_y_70155;\n                int64_t new_index_70157 = squot64(binop_x_70156, (int64_t) 24576);\n                int64_t binop_y_70345 = (int64_t) 24576 * new_index_70157;\n                int64_t binop_x_70346 = binop_x_70156 - binop_y_70345;\n                int64_t new_index_70347 = squot64(binop_x_70346, (int64_t) 48);\n                int64_t binop_y_70727 = (int64_t) 48 * new_index_70347;\n                int64_t binop_x_70728 = binop_x_70346 - binop_y_70727;\n                int64_t new_index_70729 = squot64(binop_x_70728, (int64_t) 8);\n                int64_t binop_y_71493 = (int64_t) 8 * new_index_70729;\n                int64_t new_index_71494 = binop_x_70728 - binop_y_71493;\n                int64_t x_32049 = ((__global int64_t *) mem_107285)[new_index_69985 * ",
                                     "(int64_t) 1688849860263936 + new_index_69995 * (int64_t) 3298534883328 + new_index_70017 * (int64_t) 6442450944 + new_index_70063 * (int64_t) 12582912 + new_index_70157 * (int64_t) 24576 + new_index_70347 * (int64_t) 48 + new_index_70729 * (int64_t) 8 + new_index_71494];\n                bool bounds_check_32050 = ((__global bool *) mem_107318)[gtid_31998 * (int64_t) 4096 + gtid_31999 * (int64_t) 512 + gtid_32000 * (int64_t) 64 + gtid_32001 * (int64_t) 8 + gtid_32002];\n                int64_t binop_x_32051 = ((__global int64_t *) mem_107320)[gtid_31998 * (int64_t) 4096 + gtid_31999 * (int64_t) 512 + gtid_32000 * (int64_t) 64 + gtid_32001 * (int64_t) 8 + gtid_32002];\n                int64_t binop_x_71497 = gtid_32003 + binop_x_73009;\n                int64_t new_index_71498 = squot64(binop_x_71497, (int64_t) 1688849860263936);\n                int64_t binop_y_71506 = (int64_t) 1688849860263936 * new_index_71498;\n                int64_t binop_x_71507 = binop_x_71497 - binop_y_71506;\n                int64_t new_index_71508 = squot64(binop_x_71507, (int64_t) 3298534883328);\n                int64_t binop_y_71528 = (int64_t) 3298534883328 * new_index_71508;\n                int64_t binop_x_71529 = binop_x_71507 - binop_y_71528;\n                int64_t new_index_71530 = squot64(binop_x_71529, (int64_t) 6442450944);\n                int64_t binop_y_71574 = (int64_t) 6442450944 * new_index_71530;\n                int64_t binop_x_71575 = binop_x_71529 - binop_y_71574;\n                int64_t new_index_71576 = squot64(binop_x_71575, (int64_t) 12582912);\n                int64_t binop_y_71668 = (int64_t) 12582912 * new_index_71576;\n                int64_t binop_x_71669 = binop_x_71575 - binop_y_71668;\n                int64_t new_index_71670 = squot64(binop_x_71669, (int64_t) 24576);\n                int64_t binop_y_71858 = (int64_t) 24576 * new_index_71670;\n                int64_t binop_x_71859 = binop_x_71669 - binop_y_71858;\n                int64_t new_index_71860 = squot64(binop_x_71", "859, (int64_t) 48);\n                int64_t binop_y_72240 = (int64_t) 48 * new_index_71860;\n                int64_t binop_x_72241 = binop_x_71859 - binop_y_72240;\n                int64_t new_index_72242 = squot64(binop_x_72241, (int64_t) 8);\n                int64_t binop_y_73006 = (int64_t) 8 * new_index_72242;\n                int64_t new_index_73007 = binop_x_72241 - binop_y_73006;\n                int64_t x_32054 = ((__global int64_t *) mem_107285)[new_index_71498 * (int64_t) 1688849860263936 + new_index_71508 * (int64_t) 3298534883328 + new_index_71530 * (int64_t) 6442450944 + new_index_71576 * (int64_t) 12582912 + new_index_71670 * (int64_t) 24576 + new_index_71860 * (int64_t) 48 + new_index_72242 * (int64_t) 8 + new_index_73007];\n                bool bounds_check_32055 = ((__global bool *) mem_107323)[gtid_31998 * (int64_t) 32768 + gtid_31999 * (int64_t) 4096 + gtid_32000 * (int64_t) 512 + gtid_32001 * (int64_t) 64 + gtid_32002 * (int64_t) 8 + gtid_32003];\n                int64_t binop_x_32056 = ((__global int64_t *) mem_107325)[gtid_31998 * (int64_t) 32768 + gtid_31999 * (int64_t) 4096 + gtid_32000 * (int64_t) 512 + gtid_32001 * (int64_t) 64 + gtid_32002 * (int64_t) 8 + gtid_32003];\n                int8_t x_32057 = ((__global int8_t *) mem_107211)[gtid_32004];\n                int8_t y_32058 = ((__global int8_t *) mem_107213)[gtid_32004];\n                int64_t u8_res_32059 = zext_i8_i64(x_32057);\n                bool x_32060 = sle64((int64_t) 0, u8_res_32059);\n                bool y_32061 = slt64(u8_res_32059, (int64_t) 16);\n                bool bounds_check_32062 = x_32060 && y_32061;\n                bool index_ok_32063 = bounds_check_32055 && bounds_check_32062;\n                bool index_certs_32064;\n                \n                if (!index_ok_32063) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 42) == -1) {\n                            global_failure_args[0] = (int64_t) x_32054;\n                        ", "    global_failure_args[1] = (int64_t) u8_res_32059;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32065 = binop_x_32056 + u8_res_32059;\n                int64_t new_index_32066 = squot64(binop_x_32065, (int64_t) 1024);\n                int64_t binop_y_32067 = (int64_t) 1024 * new_index_32066;\n                int64_t binop_x_32068 = binop_x_32065 - binop_y_32067;\n                int64_t new_index_32069 = squot64(binop_x_32068, (int64_t) 64);\n                int64_t binop_y_32070 = (int64_t) 64 * new_index_32069;\n                int64_t binop_x_32071 = binop_x_32068 - binop_y_32070;\n                int64_t new_index_32072 = squot64(binop_x_32071, (int64_t) 32);\n                int64_t binop_y_32073 = (int64_t) 32 * new_index_32072;\n                int64_t binop_x_32074 = binop_x_32071 - binop_y_32073;\n                int64_t new_index_32075 = squot64(binop_x_32074, (int64_t) 16);\n                int64_t binop_y_32076 = (int64_t) 16 * new_index_32075;\n                int64_t new_index_32077 = binop_x_32074 - binop_y_32076;\n                int8_t defunc_0_f_res_32078 = ((__global int8_t *) mem_107222)[new_index_32066 * (int64_t) 1024 + new_index_32069 * (int64_t) 64 + new_index_32072 * (int64_t) 32 + new_index_32075 * (int64_t) 16 + new_index_32077];\n                int64_t u8_res_32079 = zext_i8_i64(defunc_0_f_res_32078);\n                bool x_32080 = sle64((int64_t) 0, u8_res_32079);\n                bool y_32081 = slt64(u8_res_32079, (int64_t) 16);\n                bool bounds_check_32082 = x_32080 && y_32081;\n                bool index_ok_32083 = bounds_check_32050 && bounds_check_32082;\n                bool index_certs_32084;\n           ",
                                     "     \n                if (!index_ok_32083) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 43) == -1) {\n                            global_failure_args[0] = (int64_t) x_32049;\n                            global_failure_args[1] = (int64_t) u8_res_32079;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32085 = binop_x_32051 + u8_res_32079;\n                int64_t new_index_32086 = squot64(binop_x_32085, (int64_t) 1024);\n                int64_t binop_y_32087 = (int64_t) 1024 * new_index_32086;\n                int64_t binop_x_32088 = binop_x_32085 - binop_y_32087;\n                int64_t new_index_32089 = squot64(binop_x_32088, (int64_t) 64);\n                int64_t binop_y_32090 = (int64_t) 64 * new_index_32089;\n                int64_t binop_x_32091 = binop_x_32088 - binop_y_32090;\n                int64_t new_index_32092 = squot64(binop_x_32091, (int64_t) 32);\n                int64_t binop_y_32093 = (int64_t) 32 * new_index_32092;\n                int64_t binop_x_32094 = binop_x_32091 - binop_y_32093;\n                int64_t new_index_32095 = squot64(binop_x_32094, (int64_t) 16);\n                int64_t binop_y_32096 = (int64_t) 16 * new_index_32095;\n                int64_t new_index_32097 = binop_x_32094 - binop_y_32096;\n                int8_t defunc_0_f_res_32098 = ((__global int8_t *) mem_107222)[new_index_32086 * (int64_t) 1024 + new_index_32089 * (int64_t) 64 + new_index_32092 * (int64_t) 32 + new_index_32095 * (int64_t) 16 + new_index_32097];\n                int64_t u8_res_32099 = zext_i8_i64(defunc_0_f_res_32098);\n                bool x_32100 = sle64((int64_t) 0, u8_res_32099);\n         ", "       bool y_32101 = slt64(u8_res_32099, (int64_t) 16);\n                bool bounds_check_32102 = x_32100 && y_32101;\n                bool index_ok_32103 = bounds_check_32043 && bounds_check_32102;\n                bool index_certs_32104;\n                \n                if (!index_ok_32103) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 44) == -1) {\n                            global_failure_args[0] = (int64_t) x_32042;\n                            global_failure_args[1] = (int64_t) u8_res_32099;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32105 = binop_x_32044 + u8_res_32099;\n                int64_t new_index_32106 = squot64(binop_x_32105, (int64_t) 1024);\n                int64_t binop_y_32107 = (int64_t) 1024 * new_index_32106;\n                int64_t binop_x_32108 = binop_x_32105 - binop_y_32107;\n                int64_t new_index_32109 = squot64(binop_x_32108, (int64_t) 64);\n                int64_t binop_y_32110 = (int64_t) 64 * new_index_32109;\n                int64_t binop_x_32111 = binop_x_32108 - binop_y_32110;\n                int64_t new_index_32112 = squot64(binop_x_32111, (int64_t) 32);\n                int64_t binop_y_32113 = (int64_t) 32 * new_index_32112;\n                int64_t binop_x_32114 = binop_x_32111 - binop_y_32113;\n                int64_t new_index_32115 = squot64(binop_x_32114, (int64_t) 16);\n                int64_t binop_y_32116 = (int64_t) 16 * new_index_32115;\n                int64_t new_index_32117 = binop_x_32114 - binop_y_32116;\n                int8_t defunc_0_f_res_32118 = ((__global int8_t *) mem_107222)[new_index_32106 * (int64_t) 1024 + new_index_32109", " * (int64_t) 64 + new_index_32112 * (int64_t) 32 + new_index_32115 * (int64_t) 16 + new_index_32117];\n                int64_t u8_res_32119 = zext_i8_i64(defunc_0_f_res_32118);\n                bool x_32120 = sle64((int64_t) 0, u8_res_32119);\n                bool y_32121 = slt64(u8_res_32119, (int64_t) 16);\n                bool bounds_check_32122 = x_32120 && y_32121;\n                bool index_ok_32123 = bounds_check_32034 && bounds_check_32122;\n                bool index_certs_32124;\n                \n                if (!index_ok_32123) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 45) == -1) {\n                            global_failure_args[0] = (int64_t) x_32033;\n                            global_failure_args[1] = (int64_t) u8_res_32119;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32125 = binop_x_32035 + u8_res_32119;\n                int64_t new_index_32126 = squot64(binop_x_32125, (int64_t) 1024);\n                int64_t binop_y_32127 = (int64_t) 1024 * new_index_32126;\n                int64_t binop_x_32128 = binop_x_32125 - binop_y_32127;\n                int64_t new_index_32129 = squot64(binop_x_32128, (int64_t) 64);\n                int64_t binop_y_32130 = (int64_t) 64 * new_index_32129;\n                int64_t binop_x_32131 = binop_x_32128 - binop_y_32130;\n                int64_t new_index_32132 = squot64(binop_x_32131, (int64_t) 32);\n                int64_t binop_y_32133 = (int64_t) 32 * new_index_32132;\n                int64_t binop_x_32134 = binop_x_32131 - binop_y_32133;\n                int64_t new_index_32135 = squot64(binop_x_32134, (int64_t) 16);\n                int64_t ",
                                     "binop_y_32136 = (int64_t) 16 * new_index_32135;\n                int64_t new_index_32137 = binop_x_32134 - binop_y_32136;\n                int8_t defunc_0_f_res_32138 = ((__global int8_t *) mem_107222)[new_index_32126 * (int64_t) 1024 + new_index_32129 * (int64_t) 64 + new_index_32132 * (int64_t) 32 + new_index_32135 * (int64_t) 16 + new_index_32137];\n                int64_t u8_res_32139 = zext_i8_i64(defunc_0_f_res_32138);\n                bool x_32140 = sle64((int64_t) 0, u8_res_32139);\n                bool y_32141 = slt64(u8_res_32139, (int64_t) 16);\n                bool bounds_check_32142 = x_32140 && y_32141;\n                bool index_ok_32143 = bounds_check_32023 && bounds_check_32142;\n                bool index_certs_32144;\n                \n                if (!index_ok_32143) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 46) == -1) {\n                            global_failure_args[0] = (int64_t) x_32022;\n                            global_failure_args[1] = (int64_t) u8_res_32139;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32145 = binop_x_32024 + u8_res_32139;\n                int64_t new_index_32146 = squot64(binop_x_32145, (int64_t) 1024);\n                int64_t binop_y_32147 = (int64_t) 1024 * new_index_32146;\n                int64_t binop_x_32148 = binop_x_32145 - binop_y_32147;\n                int64_t new_index_32149 = squot64(binop_x_32148, (int64_t) 64);\n                int64_t binop_y_32150 = (int64_t) 64 * new_index_32149;\n                int64_t binop_x_32151 = binop_x_32148 - binop_y_32150;\n                int64_t new_index_32152 = squot64(binop_x_32151, (int64_t) 32", ");\n                int64_t binop_y_32153 = (int64_t) 32 * new_index_32152;\n                int64_t binop_x_32154 = binop_x_32151 - binop_y_32153;\n                int64_t new_index_32155 = squot64(binop_x_32154, (int64_t) 16);\n                int64_t binop_y_32156 = (int64_t) 16 * new_index_32155;\n                int64_t new_index_32157 = binop_x_32154 - binop_y_32156;\n                int8_t defunc_0_f_res_32158 = ((__global int8_t *) mem_107222)[new_index_32146 * (int64_t) 1024 + new_index_32149 * (int64_t) 64 + new_index_32152 * (int64_t) 32 + new_index_32155 * (int64_t) 16 + new_index_32157];\n                int64_t u8_res_32159 = zext_i8_i64(defunc_0_f_res_32158);\n                bool x_32160 = sle64((int64_t) 0, u8_res_32159);\n                bool y_32161 = slt64(u8_res_32159, (int64_t) 16);\n                bool bounds_check_32162 = x_32160 && y_32161;\n                bool index_ok_32163 = bounds_check_32010 && bounds_check_32162;\n                bool index_certs_32164;\n                \n                if (!index_ok_32163) {\n                    {\n                        if (atomic_cmpxchg_i32_global(global_failure, -1, 47) == -1) {\n                            global_failure_args[0] = (int64_t) x_32009;\n                            global_failure_args[1] = (int64_t) u8_res_32159;\n                            global_failure_args[2] = (int64_t) (int64_t) 1024;\n                            global_failure_args[3] = (int64_t) (int64_t) 16;\n                            ;\n                        }\n                        local_failure = 1;\n                        goto error_0;\n                    }\n                }\n                \n                int64_t binop_x_32165 = binop_x_32011 + u8_res_32159;\n                int64_t new_index_32166 = squot64(binop_x_32165, (int64_t) 1024);\n                int64_t binop_y_32167 = (int64_t) 1024 * new_index_32166;\n                int64_t binop_x_32168 = binop_x_32165 - binop_y_32167;\n                int64_t new_index_32169 = squot64(", "binop_x_32168, (int64_t) 64);\n                int64_t binop_y_32170 = (int64_t) 64 * new_index_32169;\n                int64_t binop_x_32171 = binop_x_32168 - binop_y_32170;\n                int64_t new_index_32172 = squot64(binop_x_32171, (int64_t) 32);\n                int64_t binop_y_32173 = (int64_t) 32 * new_index_32172;\n                int64_t binop_x_32174 = binop_x_32171 - binop_y_32173;\n                int64_t new_index_32175 = squot64(binop_x_32174, (int64_t) 16);\n                int64_t binop_y_32176 = (int64_t) 16 * new_index_32175;\n                int64_t new_index_32177 = binop_x_32174 - binop_y_32176;\n                int8_t defunc_0_f_res_32178 = ((__global int8_t *) mem_107222)[new_index_32166 * (int64_t) 1024 + new_index_32169 * (int64_t) 64 + new_index_32172 * (int64_t) 32 + new_index_32175 * (int64_t) 16 + new_index_32177];\n                bool binlam_res_32179 = defunc_0_f_res_32178 == y_32058;\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local bool *) red_arr_mem_108305)[sext_i32_i64(local_tid_108301)] = binlam_res_32179;\n                }\n            } else {\n                ((__local bool *) red_arr_mem_108305)[sext_i32_i64(local_tid_108301)] = 1;\n            }\n        }\n        \n      error_0:\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (local_failure)\n            return;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, (int64_t) 16)) {\n            // perform segmented scan to imitate reduction\n            {\n                bool x_32006;\n                bool y_32007;\n                bool x_108323;\n                bool y_108324;\n                bool ltid_in_bounds_108326 = slt64(sext_i32_i64(local_tid_108301), (int64_t) 16 * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298));\n                int32_t skip_threads_108327;\n                \n                // read input for in-block scan\n     ",
                                     "           {\n                    if (ltid_in_bounds_108326) {\n                        y_32007 = ((volatile __local bool *) red_arr_mem_108305)[sext_i32_i64(local_tid_108301)];\n                        if ((local_tid_108301 - squot32(local_tid_108301, 32) * 32) == 0) {\n                            x_32006 = y_32007;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_108327 = 1;\n                    while (slt32(skip_threads_108327, 32)) {\n                        bool thread_active_108328 = sle32(skip_threads_108327, local_tid_108301 - squot32(local_tid_108301, 32) * 32) && ltid_in_bounds_108326;\n                        \n                        if (thread_active_108328) {\n                            // read operands\n                            {\n                                x_32006 = ((volatile __local bool *) red_arr_mem_108305)[sext_i32_i64(local_tid_108301) - sext_i32_i64(skip_threads_108327)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_108329 = slt64(srem64(sext_i32_i64(local_tid_108301), (int64_t) 16), sext_i32_i64(local_tid_108301) - sext_i32_i64(local_tid_108301 - skip_threads_108327));\n                            \n                            if (thread_active_108328 && inactive_108329) {\n                                x_32006 = y_32007;\n                            }\n                            if (thread_active_108328) {\n                                if (!inactive_108329) {\n                                    bool binlam_res_32008 = x_32006 && y_32007;\n                                    \n                                    x_32006 = binlam_res_32008;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_108303, skip_threads_1", "08327)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_108328) {\n                            // write result\n                            {\n                                ((volatile __local bool *) red_arr_mem_108305)[sext_i32_i64(local_tid_108301)] = x_32006;\n                                y_32007 = x_32006;\n                            }\n                        }\n                        if (sle32(wave_sizze_108303, skip_threads_108327)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_108327 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_108301 - squot32(local_tid_108301, 32) * 32) == 31 && ltid_in_bounds_108326) {\n                        ((volatile __local bool *) red_arr_mem_108305)[sext_i32_i64(squot32(local_tid_108301, 32))] = x_32006;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_108330;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_108301, 32) == 0 && ltid_in_bounds_108326) {\n                            y_108324 = ((volatile __local bool *) red_arr_mem_108305)[sext_i32_i64(local_tid_108301)];\n                            if ((local_tid_108301 - squot32(local_tid_108301, 32) * 32) == 0) {\n                                x_108323 = y_108324;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_108330 = ", "1;\n                        while (slt32(skip_threads_108330, 32)) {\n                            bool thread_active_108331 = sle32(skip_threads_108330, local_tid_108301 - squot32(local_tid_108301, 32) * 32) && (squot32(local_tid_108301, 32) == 0 && ltid_in_bounds_108326);\n                            \n                            if (thread_active_108331) {\n                                // read operands\n                                {\n                                    x_108323 = ((volatile __local bool *) red_arr_mem_108305)[sext_i32_i64(local_tid_108301) - sext_i32_i64(skip_threads_108330)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_108332 = slt64(srem64(sext_i32_i64(local_tid_108301 * 32 + 32 - 1), (int64_t) 16), sext_i32_i64(local_tid_108301 * 32 + 32 - 1) - sext_i32_i64((local_tid_108301 - skip_threads_108330) * 32 + 32 - 1));\n                                \n                                if (thread_active_108331 && inactive_108332) {\n                                    x_108323 = y_108324;\n                                }\n                                if (thread_active_108331) {\n                                    if (!inactive_108332) {\n                                        bool binlam_res_108325 = x_108323 && y_108324;\n                                        \n                                        x_108323 = binlam_res_108325;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_108303, skip_threads_108330)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_108331) {\n                                // write result\n                                {\n                                    ((volatile __local bool *) red_arr_me",
                                     "m_108305)[sext_i32_i64(local_tid_108301)] = x_108323;\n                                    y_108324 = x_108323;\n                                }\n                            }\n                            if (sle32(wave_sizze_108303, skip_threads_108330)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_108330 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_108333 = squot32(local_tid_108301, 32) == 0 || !ltid_in_bounds_108326;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_108333) {\n                            y_32007 = x_32006;\n                            x_32006 = ((__local bool *) red_arr_mem_108305)[sext_i32_i64(squot32(local_tid_108301, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_108334 = slt64(srem64(sext_i32_i64(local_tid_108301), (int64_t) 16), sext_i32_i64(local_tid_108301) - sext_i32_i64(squot32(local_tid_108301, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_108333) {\n                            if (inactive_108334) {\n                                x_32006 = y_32007;\n                            }\n                        }\n                        if (!no_carry_in_108333) {\n                            if (!inactive_108334) {\n                                bool binlam_res_32008 = x_32006 && y_32007;\n                                \n                                x_32006 = binlam_res_32008;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                      ", "  if (!no_carry_in_108333) {\n                            ((__local bool *) red_arr_mem_108305)[sext_i32_i64(local_tid_108301)] = x_32006;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_108301, 32) == 0 && ltid_in_bounds_108326) {\n                        ((__local bool *) red_arr_mem_108305)[sext_i32_i64(local_tid_108301)] = y_32007;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 262144) && slt64(sext_i32_i64(local_tid_108301), squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298))) {\n                bool tmp_108335 = ((__local bool *) red_arr_mem_108305)[(sext_i32_i64(local_tid_108301) + (int64_t) 1) * segment_sizze_nonzzero_108298 - (int64_t) 1];\n                \n                ((__global bool *) mem_107328)[squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 + squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096 + squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, s", "egment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096, (int64_t) 512) * (int64_t) 512 + squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096, (int64_t) 512) * (int64_t) 512, (int64_t) 64) * (int64_t) 64 + squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_3",
                                     "1994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096, (int64_t) 512) * (int64_t) 512 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * ", "(int64_t) 4096 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096, (int64_t) 512) * (int64_t) 512, (int64_t) 64) * (int64_t) 64, (int64_t) 8) * (int64_t) 8 + (sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segr", "ed_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096, (int64_t) 512) * (int64_t) 512 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) +\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096, (int64_t) 512) *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                          (int64_t) 512, (int64_t) 64) * (int64_t) 64 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) * (int64_t) 4096 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) +\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 -\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        segment_sizze_nonzzero_108298) +\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768, (int64_t) 4096) *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      (int64_t) 4096, (int64_t) 512) * (int64_t) 512 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      squot64(segred_group_sizze_31994,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 segment_sizze_nonzzero_108298) +\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   sext_i32_i64(local_tid_108301),\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    (int64_t) 32768) * (int64_t) 32768 -\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) - squot64(sext_i32_i64(virt_group_id_108310) *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                squot64(segred_group_sizze_31994,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   segment_sizze_nonzzero_108298) +\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             sext_i32_i64(local_tid_108301),\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      (int64_t) 32768) * (int64_t) 32768,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  (int64_t) 4096) * (int64_t) 4096 - squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) + sext_i32_i64(local_tid_108301) -\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         squot64(sext_i32_i64(virt_group_id_108310) * squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298) +\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    sext_i32_i64(local_tid_108301), (int64_t) 32768) * (int64_t) 32768 - squot64(sext_i32_i64(virt_group_id_108310) *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              squot64(segred_group_sizze_31994,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                segment_sizze_nonzzero_108298) +\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         sext_i32_i64(local_tid_108301) -\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  squot64(sext_i32_i64(virt_group_id_108310) *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               squot64(segred_group_sizze_31994,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         segment_sizze_nonzzero_108298) +\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          sext_i32_i64(local_tid_108301),\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          (int64_t) 32768) * (int64_t) 32768,\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      (int64_t) 4096) * (int64_t) 4096, (int64_t) 512) *\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ",
                                     "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                ", "                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         (int64_t) 512, (int64_t) 64) * (int64_t) 64, (int64_t) 8) * (int64_t) 8)] = tmp_108335;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_31994\n}\n", NULL, NULL};
// Start of backends/cuda.h.

// Forward declarations.
// Invoked by setup_opencl() after the platform and device has been
// found, but before the program is loaded.  Its intended use is to
// tune constants based on the selected platform and device.
static void set_tuning_params(struct futhark_context* ctx);
static char* get_failure_msg(int failure_idx, int64_t args[]);

#define CUDA_SUCCEED_FATAL(x) cuda_api_succeed_fatal(x, #x, __FILE__, __LINE__)
#define CUDA_SUCCEED_NONFATAL(x) cuda_api_succeed_nonfatal(x, #x, __FILE__, __LINE__)
#define NVRTC_SUCCEED_FATAL(x) nvrtc_api_succeed_fatal(x, #x, __FILE__, __LINE__)
#define NVRTC_SUCCEED_NONFATAL(x) nvrtc_api_succeed_nonfatal(x, #x, __FILE__, __LINE__)
// Take care not to override an existing error.
#define CUDA_SUCCEED_OR_RETURN(e) {             \
    char *serror = CUDA_SUCCEED_NONFATAL(e);    \
    if (serror) {                               \
      if (!ctx->error) {                        \
        ctx->error = serror;                    \
        return bad;                             \
      } else {                                  \
        free(serror);                           \
      }                                         \
    }                                           \
  }

// CUDA_SUCCEED_OR_RETURN returns the value of the variable 'bad' in
// scope.  By default, it will be this one.  Create a local variable
// of some other type if needed.  This is a bit of a hack, but it
// saves effort in the code generator.
static const int bad = 1;

static inline void cuda_api_succeed_fatal(CUresult res, const char *call,
                                          const char *file, int line) {
  if (res != CUDA_SUCCESS) {
    const char *err_str;
    cuGetErrorString(res, &err_str);
    if (err_str == NULL) { err_str = "Unknown"; }
    futhark_panic(-1, "%s:%d: CUDA call\n  %s\nfailed with error code %d (%s)\n",
                  file, line, call, res, err_str);
  }
}

static char* cuda_api_succeed_nonfatal(CUresult res, const char *call,
                                       const char *file, int line) {
  if (res != CUDA_SUCCESS) {
    const char *err_str;
    cuGetErrorString(res, &err_str);
    if (err_str == NULL) { err_str = "Unknown"; }
    return msgprintf("%s:%d: CUDA call\n  %s\nfailed with error code %d (%s)\n",
                     file, line, call, res, err_str);
  } else {
    return NULL;
  }
}

static inline void nvrtc_api_succeed_fatal(nvrtcResult res, const char *call,
                                           const char *file, int line) {
  if (res != NVRTC_SUCCESS) {
    const char *err_str = nvrtcGetErrorString(res);
    futhark_panic(-1, "%s:%d: NVRTC call\n  %s\nfailed with error code %d (%s)\n",
                  file, line, call, res, err_str);
  }
}

static char* nvrtc_api_succeed_nonfatal(nvrtcResult res, const char *call,
                                        const char *file, int line) {
  if (res != NVRTC_SUCCESS) {
    const char *err_str = nvrtcGetErrorString(res);
    return msgprintf("%s:%d: NVRTC call\n  %s\nfailed with error code %d (%s)\n",
                     file, line, call, res, err_str);
  } else {
    return NULL;
  }
}

struct futhark_context_config {
  int in_use;
  int debugging;
  int profiling;
  int logging;
  const char *cache_fname;
  int num_tuning_params;
  int64_t *tuning_params;
  const char** tuning_param_names;
  const char** tuning_param_vars;
  const char** tuning_param_classes;
  // Uniform fields above.

  int num_nvrtc_opts;
  const char **nvrtc_opts;

  const char *preferred_device;
  int preferred_device_num;

  const char *dump_program_to;
  const char *load_program_from;

  const char *dump_ptx_to;
  const char *load_ptx_from;

  size_t default_block_size;
  size_t default_grid_size;
  size_t default_tile_size;
  size_t default_reg_tile_size;
  size_t default_threshold;

  int default_block_size_changed;
  int default_grid_size_changed;
  int default_tile_size_changed;
};

static void backend_context_config_setup(struct futhark_context_config *cfg) {
  cfg->num_nvrtc_opts = 0;
  cfg->nvrtc_opts = (const char**) malloc(sizeof(const char*));
  cfg->nvrtc_opts[0] = NULL;

  cfg->preferred_device_num = 0;
  cfg->preferred_device = "";
  cfg->dump_program_to = NULL;
  cfg->load_program_from = NULL;

  cfg->dump_ptx_to = NULL;
  cfg->load_ptx_from = NULL;

  cfg->default_block_size = 256;
  cfg->default_grid_size = 0; // Set properly later.
  cfg->default_tile_size = 32;
  cfg->default_reg_tile_size = 2;
  cfg->default_threshold = 32*1024;

  cfg->default_block_size_changed = 0;
  cfg->default_grid_size_changed = 0;
  cfg->default_tile_size_changed = 0;
}

static void backend_context_config_teardown(struct futhark_context_config* cfg) {
  free(cfg->nvrtc_opts);
}

void futhark_context_config_add_nvrtc_option(struct futhark_context_config *cfg, const char *opt) {
  cfg->nvrtc_opts[cfg->num_nvrtc_opts] = opt;
  cfg->num_nvrtc_opts++;
  cfg->nvrtc_opts = (const char **) realloc(cfg->nvrtc_opts, (cfg->num_nvrtc_opts + 1) * sizeof(const char *));
  cfg->nvrtc_opts[cfg->num_nvrtc_opts] = NULL;
}

void futhark_context_config_set_device(struct futhark_context_config *cfg, const char *s) {
  int x = 0;
  if (*s == '#') {
    s++;
    while (isdigit(*s)) {
      x = x * 10 + (*s++)-'0';
    }
    // Skip trailing spaces.
    while (isspace(*s)) {
      s++;
    }
  }
  cfg->preferred_device = s;
  cfg->preferred_device_num = x;
}

void futhark_context_config_dump_program_to(struct futhark_context_config *cfg, const char *path) {
  cfg->dump_program_to = path;
}

void futhark_context_config_load_program_from(struct futhark_context_config *cfg, const char *path) {
  cfg->load_program_from = path;
}

void futhark_context_config_dump_ptx_to(struct futhark_context_config *cfg, const char *path) {
  cfg->dump_ptx_to = path;
}

void futhark_context_config_load_ptx_from(struct futhark_context_config *cfg, const char *path) {
  cfg->load_ptx_from = path;
}

void futhark_context_config_set_default_group_size(struct futhark_context_config *cfg, int size) {
  cfg->default_block_size = size;
  cfg->default_block_size_changed = 1;
}

void futhark_context_config_set_default_num_groups(struct futhark_context_config *cfg, int num) {
  cfg->default_grid_size = num;
  cfg->default_grid_size_changed = 1;
}

void futhark_context_config_set_default_tile_size(struct futhark_context_config *cfg, int size) {
  cfg->default_tile_size = size;
  cfg->default_tile_size_changed = 1;
}

void futhark_context_config_set_default_reg_tile_size(struct futhark_context_config *cfg, int size) {
  cfg->default_reg_tile_size = size;
}

void futhark_context_config_set_default_threshold(struct futhark_context_config *cfg, int size) {
  cfg->default_threshold = size;
}

int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg,
                                            const char *param_name,
                                            size_t new_value) {
  for (int i = 0; i < cfg->num_tuning_params; i++) {
    if (strcmp(param_name, cfg->tuning_param_names[i]) == 0) {
      cfg->tuning_params[i] = new_value;
      return 0;
    }
  }
  if (strcmp(param_name, "default_group_size") == 0) {
    cfg->default_block_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_num_groups") == 0) {
    cfg->default_grid_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_threshold") == 0) {
    cfg->default_threshold = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_tile_size") == 0) {
    cfg->default_tile_size = new_value;
    return 0;
  }
  if (strcmp(param_name, "default_reg_tile_size") == 0) {
    cfg->default_reg_tile_size = new_value;
    return 0;
  }
  return 1;
}

// A record of something that happened.
struct profiling_record {
  cudaEvent_t *events; // Points to two events.
  int *runs;
  int64_t *runtime;
};

struct futhark_context {
  struct futhark_context_config* cfg;
  int detail_memory;
  int debugging;
  int profiling;
  int profiling_paused;
  int logging;
  lock_t lock;
  char *error;
  lock_t error_lock;
  FILE *log;
  struct constants *constants;
  struct free_list cu_free_list;
  int64_t peak_mem_usage_default;
  int64_t cur_mem_usage_default;
  // Uniform above

  CUdeviceptr global_failure;
  CUdeviceptr global_failure_args;
  struct tuning_params tuning_params;
  // True if a potentially failing kernel has been enqueued.
  int32_t failure_is_an_option;
  int total_runs;
  long int total_runtime;
  int64_t peak_mem_usage_device;
  int64_t cur_mem_usage_device;
  struct program* program;

  CUdevice dev;
  CUcontext cu_ctx;
  CUmodule module;

  struct free_list free_list;

  size_t max_block_size;
  size_t max_grid_size;
  size_t max_tile_size;
  size_t max_threshold;
  size_t max_shared_memory;
  size_t max_bespoke;

  size_t lockstep_width;

  struct profiling_record *profiling_records;
  int profiling_records_capacity;
  int profiling_records_used;
};

#define CU_DEV_ATTR(x) (CU_DEVICE_ATTRIBUTE_##x)
#define device_query(dev,attrib) _device_query(dev, CU_DEV_ATTR(attrib))
static int _device_query(CUdevice dev, CUdevice_attribute attrib) {
  int val;
  CUDA_SUCCEED_FATAL(cuDeviceGetAttribute(&val, attrib, dev));
  return val;
}

#define CU_FUN_ATTR(x) (CU_FUNC_ATTRIBUTE_##x)
#define function_query(fn,attrib) _function_query(dev, CU_FUN_ATTR(attrib))
static int _function_query(CUfunction dev, CUfunction_attribute attrib) {
  int val;
  CUDA_SUCCEED_FATAL(cuFuncGetAttribute(&val, attrib, dev));
  return val;
}

static int cuda_device_setup(struct futhark_context *ctx) {
  struct futhark_context_config *cfg = ctx->cfg;
  char name[256];
  int count, chosen = -1, best_cc = -1;
  int cc_major_best, cc_minor_best;
  int cc_major, cc_minor;
  CUdevice dev;

  CUDA_SUCCEED_FATAL(cuDeviceGetCount(&count));
  if (count == 0) { return 1; }

  int num_device_matches = 0;

  // XXX: Current device selection policy is to choose the device with the
  // highest compute capability (if no preferred device is set).
  // This should maybe be changed, since greater compute capability is not
  // necessarily an indicator of better performance.
  for (int i = 0; i < count; i++) {
    CUDA_SUCCEED_FATAL(cuDeviceGet(&dev, i));

    cc_major = device_query(dev, COMPUTE_CAPABILITY_MAJOR);
    cc_minor = device_query(dev, COMPUTE_CAPABILITY_MINOR);

    CUDA_SUCCEED_FATAL(cuDeviceGetName(name, sizeof(name) - 1, dev));
    name[sizeof(name) - 1] = 0;

    if (cfg->logging) {
      fprintf(stderr, "Device #%d: name=\"%s\", compute capability=%d.%d\n",
              i, name, cc_major, cc_minor);
    }

    if (device_query(dev, COMPUTE_MODE) == CU_COMPUTEMODE_PROHIBITED) {
      if (cfg->logging) {
        fprintf(stderr, "Device #%d is compute-prohibited, ignoring\n", i);
      }
      continue;
    }

    if (best_cc == -1 || cc_major > cc_major_best ||
        (cc_major == cc_major_best && cc_minor > cc_minor_best)) {
      best_cc = i;
      cc_major_best = cc_major;
      cc_minor_best = cc_minor;
    }

    if (strstr(name, cfg->preferred_device) != NULL &&
        num_device_matches++ == cfg->preferred_device_num) {
      chosen = i;
      break;
    }
  }

  if (chosen == -1) { chosen = best_cc; }
  if (chosen == -1) { return 1; }

  if (cfg->logging) {
    fprintf(stderr, "Using device #%d\n", chosen);
  }

  CUDA_SUCCEED_FATAL(cuDeviceGet(&ctx->dev, chosen));
  return 0;
}

static char *concat_fragments(const char *src_fragments[]) {
  size_t src_len = 0;
  const char **p;

  for (p = src_fragments; *p; p++) {
    src_len += strlen(*p);
  }

  char *src = (char*) malloc(src_len + 1);
  size_t n = 0;
  for (p = src_fragments; *p; p++) {
    strcpy(src + n, *p);
    n += strlen(*p);
  }

  return src;
}

static const char *cuda_nvrtc_get_arch(CUdevice dev) {
  struct {
    int major;
    int minor;
    const char *arch_str;
  } static const x[] = {
    { 3, 0, "compute_30" },
    { 3, 2, "compute_32" },
    { 3, 5, "compute_35" },
    { 3, 7, "compute_37" },
    { 5, 0, "compute_50" },
    { 5, 2, "compute_52" },
    { 5, 3, "compute_53" },
    { 6, 0, "compute_60" },
    { 6, 1, "compute_61" },
    { 6, 2, "compute_62" },
    { 7, 0, "compute_70" },
    { 7, 2, "compute_72" },
    { 7, 5, "compute_75" },
    { 8, 0, "compute_80" },
    { 8, 6, "compute_80" },
    { 8, 7, "compute_80" }
  };

  int major = device_query(dev, COMPUTE_CAPABILITY_MAJOR);
  int minor = device_query(dev, COMPUTE_CAPABILITY_MINOR);

  int chosen = -1;
  int num_archs = sizeof(x)/sizeof(x[0]);
  for (int i = 0; i < num_archs; i++) {
    if (x[i].major < major || (x[i].major == major && x[i].minor <= minor)) {
      chosen = i;
    } else {
      break;
    }
  }

  if (chosen == -1) {
    futhark_panic(-1, "Unsupported compute capability %d.%d\n", major, minor);
  }

  if (x[chosen].major != major || x[chosen].minor != minor) {
    fprintf(stderr,
            "Warning: device compute capability is %d.%d, but newest supported by Futhark is %d.%d.\n",
            major, minor, x[chosen].major, x[chosen].minor);
  }

  return x[chosen].arch_str;
}

static void cuda_nvrtc_mk_build_options(struct futhark_context *ctx, const char *extra_opts[],
                                        char*** opts_out, size_t *n_opts) {
  int arch_set = 0, num_extra_opts;
  struct futhark_context_config *cfg = ctx->cfg;

  // nvrtc cannot handle multiple -arch options.  Hence, if one of the
  // extra_opts is -arch, we have to be careful not to do our usual
  // automatic generation.
  for (num_extra_opts = 0; extra_opts[num_extra_opts] != NULL; num_extra_opts++) {
    if (strstr(extra_opts[num_extra_opts], "-arch")
        == extra_opts[num_extra_opts] ||
        strstr(extra_opts[num_extra_opts], "--gpu-architecture")
        == extra_opts[num_extra_opts]) {
      arch_set = 1;
    }
  }

  size_t i = 0, n_opts_alloc = 20 + num_extra_opts + cfg->num_tuning_params;
  char **opts = (char**) malloc(n_opts_alloc * sizeof(char *));
  if (!arch_set) {
    opts[i++] = strdup("-arch");
    opts[i++] = strdup(cuda_nvrtc_get_arch(ctx->dev));
  }
  opts[i++] = strdup("-default-device");
  if (cfg->debugging) {
    opts[i++] = strdup("-G");
    opts[i++] = strdup("-lineinfo");
  } else {
    opts[i++] = strdup("--disable-warnings");
  }
  opts[i++] = msgprintf("-D%s=%d",
                        "max_group_size",
                        (int)ctx->max_block_size);
  for (int j = 0; j < cfg->num_tuning_params; j++) {
    opts[i++] = msgprintf("-D%s=%zu", cfg->tuning_param_vars[j],
                          cfg->tuning_params[j]);
  }
  opts[i++] = msgprintf("-DLOCKSTEP_WIDTH=%zu", ctx->lockstep_width);
  opts[i++] = msgprintf("-DMAX_THREADS_PER_BLOCK=%zu", ctx->max_block_size);

  // Time for the best lines of the code in the entire compiler.
  if (getenv("CUDA_HOME") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_HOME"));
  }
  if (getenv("CUDA_ROOT") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_ROOT"));
  }
  if (getenv("CUDA_PATH") != NULL) {
    opts[i++] = msgprintf("-I%s/include", getenv("CUDA_PATH"));
  }
  opts[i++] = msgprintf("-I/usr/local/cuda/include");
  opts[i++] = msgprintf("-I/usr/include");

  for (int j = 0; extra_opts[j] != NULL; j++) {
    opts[i++] = strdup(extra_opts[j]);
  }

  *n_opts = i;
  *opts_out = opts;
}

static char* cuda_nvrtc_build(const char *src, const char *opts[], size_t n_opts,
                              char **ptx) {
  nvrtcProgram prog;
  char *problem = NULL;

  problem = NVRTC_SUCCEED_NONFATAL(nvrtcCreateProgram(&prog, src, "futhark-cuda", 0, NULL, NULL));

  if (problem) {
    return problem;
  }

  nvrtcResult res = nvrtcCompileProgram(prog, n_opts, opts);
  if (res != NVRTC_SUCCESS) {
    size_t log_size;
    if (nvrtcGetProgramLogSize(prog, &log_size) == NVRTC_SUCCESS) {
      char *log = (char*) malloc(log_size);
      if (nvrtcGetProgramLog(prog, log) == NVRTC_SUCCESS) {
        problem = msgprintf("NVRTC compilation failed.\n\n%s\n", log);
      } else {
        problem = msgprintf("Could not retrieve compilation log\n");
      }
      free(log);
    }
    return problem;
  }

  size_t ptx_size;
  NVRTC_SUCCEED_FATAL(nvrtcGetPTXSize(prog, &ptx_size));
  *ptx = (char*) malloc(ptx_size);
  NVRTC_SUCCEED_FATAL(nvrtcGetPTX(prog, *ptx));

  NVRTC_SUCCEED_FATAL(nvrtcDestroyProgram(&prog));

  return NULL;
}

static void cuda_load_ptx_from_cache(struct futhark_context_config *cfg,
                                     const char *src,
                                     const char *opts[], size_t n_opts,
                                     struct cache_hash *h, const char *cache_fname,
                                     char **ptx) {
  if (cfg->logging) {
    fprintf(stderr, "Restoring cache from from %s...\n", cache_fname);
  }
  cache_hash_init(h);
  for (size_t i = 0; i < n_opts; i++) {
    cache_hash(h, opts[i], strlen(opts[i]));
  }
  cache_hash(h, src, strlen(src));
  size_t ptxsize;
  errno = 0;
  if (cache_restore(cache_fname, h, (unsigned char**)ptx, &ptxsize) != 0) {
    if (cfg->logging) {
      fprintf(stderr, "Failed to restore cache (errno: %s)\n", strerror(errno));
    }
  }
}

static void cuda_size_setup(struct futhark_context *ctx)
{
  struct futhark_context_config *cfg = ctx->cfg;
  if (cfg->default_block_size > ctx->max_block_size) {
    if (cfg->default_block_size_changed) {
      fprintf(stderr,
              "Note: Device limits default block size to %zu (down from %zu).\n",
              ctx->max_block_size, cfg->default_block_size);
    }
    cfg->default_block_size = ctx->max_block_size;
  }
  if (cfg->default_grid_size > ctx->max_grid_size) {
    if (cfg->default_grid_size_changed) {
      fprintf(stderr,
              "Note: Device limits default grid size to %zu (down from %zu).\n",
              ctx->max_grid_size, cfg->default_grid_size);
    }
    cfg->default_grid_size = ctx->max_grid_size;
  }
  if (cfg->default_tile_size > ctx->max_tile_size) {
    if (cfg->default_tile_size_changed) {
      fprintf(stderr,
              "Note: Device limits default tile size to %zu (down from %zu).\n",
              ctx->max_tile_size, cfg->default_tile_size);
    }
    cfg->default_tile_size = ctx->max_tile_size;
  }

  if (!cfg->default_grid_size_changed) {
    cfg->default_grid_size =
      (device_query(ctx->dev, MULTIPROCESSOR_COUNT) *
       device_query(ctx->dev, MAX_THREADS_PER_MULTIPROCESSOR))
      / cfg->default_block_size;
  }

  for (int i = 0; i < cfg->num_tuning_params; i++) {
    const char *size_class = cfg->tuning_param_classes[i];
    int64_t *size_value = &cfg->tuning_params[i];
    const char* size_name = cfg->tuning_param_names[i];
    int64_t max_value = 0, default_value = 0;

    if (strstr(size_class, "group_size") == size_class) {
      max_value = ctx->max_block_size;
      default_value = cfg->default_block_size;
    } else if (strstr(size_class, "num_groups") == size_class) {
      max_value = ctx->max_grid_size;
      default_value = cfg->default_grid_size;
      // XXX: as a quick and dirty hack, use twice as many threads for
      // histograms by default.  We really should just be smarter
      // about sizes somehow.
      if (strstr(size_name, ".seghist_") != NULL) {
        default_value *= 2;
      }
    } else if (strstr(size_class, "tile_size") == size_class) {
      max_value = ctx->max_tile_size;
      default_value = cfg->default_tile_size;
    } else if (strstr(size_class, "reg_tile_size") == size_class) {
      max_value = 0; // No limit.
      default_value = cfg->default_reg_tile_size;
    } else if (strstr(size_class, "threshold") == size_class) {
      // Threshold can be as large as it takes.
      default_value = cfg->default_threshold;
    } else {
      // Bespoke sizes have no limit or default.
    }

    if (*size_value == 0) {
      *size_value = default_value;
    } else if (max_value > 0 && *size_value > max_value) {
      fprintf(stderr, "Note: Device limits %s to %zu (down from %zu)\n",
              size_name, max_value, *size_value);
      *size_value = max_value;
    }
  }
}

static char* cuda_module_setup(struct futhark_context *ctx,
                               const char *src_fragments[],
                               const char *extra_opts[],
                               const char* cache_fname) {
  char *ptx = NULL, *src = NULL;
  struct futhark_context_config *cfg = ctx->cfg;

  if (cfg->load_program_from == NULL) {
    src = concat_fragments(src_fragments);
  } else {
    src = slurp_file(cfg->load_program_from, NULL);
  }

  if (cfg->load_ptx_from) {
    if (cfg->load_program_from != NULL) {
      fprintf(stderr,
              "WARNING: Using PTX from %s instead of C code from %s\n",
              cfg->load_ptx_from, cfg->load_program_from);
    }
    ptx = slurp_file(cfg->load_ptx_from, NULL);
  }

  if (cfg->dump_program_to != NULL) {
    dump_file(cfg->dump_program_to, src, strlen(src));
  }

  char **opts;
  size_t n_opts;
  cuda_nvrtc_mk_build_options(ctx, extra_opts, &opts, &n_opts);

  if (cfg->logging) {
    fprintf(stderr, "NVRTC compile options:\n");
    for (size_t j = 0; j < n_opts; j++) {
      fprintf(stderr, "\t%s\n", opts[j]);
    }
    fprintf(stderr, "\n");
  }

  struct cache_hash h;
  int loaded_ptx_from_cache = 0;
  if (cache_fname != NULL) {
    cuda_load_ptx_from_cache(cfg, src, (const char**)opts, n_opts, &h, cache_fname, &ptx);

    if (ptx != NULL) {
      if (cfg->logging) {
        fprintf(stderr, "Restored PTX from cache; now loading module...\n");
      }
      if (cuModuleLoadData(&ctx->module, ptx) == CUDA_SUCCESS) {
        if (cfg->logging) {
          fprintf(stderr, "Success!\n");
        }
        loaded_ptx_from_cache = 1;
      } else {
        if (cfg->logging) {
          fprintf(stderr, "Failed!\n");
        }
        free(ptx);
        ptx = NULL;
      }
    }
  }

  if (ptx == NULL) {
    char* problem = cuda_nvrtc_build(src, (const char**)opts, n_opts, &ptx);
    if (problem != NULL) {
      free(src);
      return problem;
    }
  }

  if (cfg->dump_ptx_to != NULL) {
    dump_file(cfg->dump_ptx_to, ptx, strlen(ptx));
  }

  if (!loaded_ptx_from_cache) {
    CUDA_SUCCEED_FATAL(cuModuleLoadData(&ctx->module, ptx));
  }

  if (cache_fname != NULL && !loaded_ptx_from_cache) {
    if (cfg->logging) {
      fprintf(stderr, "Caching PTX in %s...\n", cache_fname);
    }
    errno = 0;
    if (cache_store(cache_fname, &h, (const unsigned char*)ptx, strlen(ptx)) != 0) {
      fprintf(stderr, "Failed to cache PTX: %s\n", strerror(errno));
    }
  }

  for (size_t i = 0; i < n_opts; i++) {
    free((char *)opts[i]);
  }
  free(opts);

  free(ptx);
  if (src != NULL) {
    free(src);
  }

  return NULL;
}

static char* cuda_setup(struct futhark_context *ctx, const char *src_fragments[],
                        const char *extra_opts[], const char* cache_fname) {
  CUDA_SUCCEED_FATAL(cuInit(0));

  if (cuda_device_setup(ctx) != 0) {
    futhark_panic(-1, "No suitable CUDA device found.\n");
  }
  CUDA_SUCCEED_FATAL(cuCtxCreate(&ctx->cu_ctx, 0, ctx->dev));

  free_list_init(&ctx->cu_free_list);

  ctx->max_shared_memory = device_query(ctx->dev, MAX_SHARED_MEMORY_PER_BLOCK);
  ctx->max_block_size = device_query(ctx->dev, MAX_THREADS_PER_BLOCK);
  ctx->max_grid_size = device_query(ctx->dev, MAX_GRID_DIM_X);
  ctx->max_tile_size = sqrt(ctx->max_block_size);
  ctx->max_threshold = 0;
  ctx->max_bespoke = 0;
  ctx->lockstep_width = device_query(ctx->dev, WARP_SIZE);

  cuda_size_setup(ctx);
  return cuda_module_setup(ctx, src_fragments, extra_opts, cache_fname);
}

// Count up the runtime all the profiling_records that occured during execution.
// Also clears the buffer of profiling_records.
static cudaError_t cuda_tally_profiling_records(struct futhark_context *ctx) {
  cudaError_t err;
  for (int i = 0; i < ctx->profiling_records_used; i++) {
    struct profiling_record record = ctx->profiling_records[i];

    float ms;
    if ((err = cudaEventElapsedTime(&ms, record.events[0], record.events[1])) != cudaSuccess) {
      return err;
    }

    // CUDA provides milisecond resolution, but we want microseconds.
    *record.runs += 1;
    *record.runtime += ms*1000;

    if ((err = cudaEventDestroy(record.events[0])) != cudaSuccess) {
      return err;
    }
    if ((err = cudaEventDestroy(record.events[1])) != cudaSuccess) {
      return err;
    }

    free(record.events);
  }

  ctx->profiling_records_used = 0;

  return cudaSuccess;
}

// Returns pointer to two events.
static cudaEvent_t* cuda_get_events(struct futhark_context *ctx, int *runs, int64_t *runtime) {
  if (ctx->profiling_records_used == ctx->profiling_records_capacity) {
    ctx->profiling_records_capacity *= 2;
    ctx->profiling_records =
      realloc(ctx->profiling_records,
              ctx->profiling_records_capacity *
              sizeof(struct profiling_record));
  }
  cudaEvent_t *events = calloc(2, sizeof(cudaEvent_t));
  cudaEventCreate(&events[0]);
  cudaEventCreate(&events[1]);
  ctx->profiling_records[ctx->profiling_records_used].events = events;
  ctx->profiling_records[ctx->profiling_records_used].runs = runs;
  ctx->profiling_records[ctx->profiling_records_used].runtime = runtime;
  ctx->profiling_records_used++;
  return events;
}

static CUresult cuda_alloc(struct futhark_context *ctx, FILE *log,
                           size_t min_size, const char *tag,
                           CUdeviceptr *mem_out, size_t *size_out) {
  if (min_size < sizeof(int)) {
    min_size = sizeof(int);
  }

  if (free_list_find(&ctx->cu_free_list, min_size, tag, size_out, (fl_mem*)mem_out) == 0) {
    if (*size_out >= min_size) {
      if (ctx->cfg->debugging) {
        fprintf(log, "No need to allocate: Found a block in the free list.\n");
      }
      return CUDA_SUCCESS;
    } else {
      if (ctx->cfg->debugging) {
        fprintf(log, "Found a free block, but it was too small.\n");
      }

      CUresult res = cuMemFree(*mem_out);
      if (res != CUDA_SUCCESS) {
        return res;
      }
    }
  }

  *size_out = min_size;

  if (ctx->cfg->debugging) {
    fprintf(log, "Actually allocating the desired block.\n");
  }

  CUresult res = cuMemAlloc(mem_out, min_size);
  while (res == CUDA_ERROR_OUT_OF_MEMORY) {
    CUdeviceptr mem;
    if (free_list_first(&ctx->cu_free_list, (fl_mem*)&mem) == 0) {
      res = cuMemFree(mem);
      if (res != CUDA_SUCCESS) {
        return res;
      }
    } else {
      break;
    }
    res = cuMemAlloc(mem_out, min_size);
  }

  return res;
}

static CUresult cuda_free(struct futhark_context *ctx,
                          CUdeviceptr mem, size_t size, const char *tag) {
  free_list_insert(&ctx->cu_free_list, size, (fl_mem)mem, tag);
  return CUDA_SUCCESS;
}

static CUresult cuda_free_all(struct futhark_context *ctx) {
  CUdeviceptr mem;
  free_list_pack(&ctx->cu_free_list);
  while (free_list_first(&ctx->cu_free_list, (fl_mem*)&mem) == 0) {
    CUresult res = cuMemFree(mem);
    if (res != CUDA_SUCCESS) {
      return res;
    }
  }

  return CUDA_SUCCESS;
}

int futhark_context_sync(struct futhark_context* ctx) {
  CUDA_SUCCEED_OR_RETURN(cuCtxPushCurrent(ctx->cu_ctx));
  CUDA_SUCCEED_OR_RETURN(cuCtxSynchronize());
  if (ctx->failure_is_an_option) {
    // Check for any delayed error.
    int32_t failure_idx;
    CUDA_SUCCEED_OR_RETURN(
                           cuMemcpyDtoH(&failure_idx,
                                        ctx->global_failure,
                                        sizeof(int32_t)));
    ctx->failure_is_an_option = 0;

    if (failure_idx >= 0) {
      // We have to clear global_failure so that the next entry point
      // is not considered a failure from the start.
      int32_t no_failure = -1;
      CUDA_SUCCEED_OR_RETURN(
                             cuMemcpyHtoD(ctx->global_failure,
                                          &no_failure,
                                          sizeof(int32_t)));

      int64_t args[max_failure_args+1];
      CUDA_SUCCEED_OR_RETURN(
                             cuMemcpyDtoH(&args,
                                          ctx->global_failure_args,
                                          sizeof(args)));

      ctx->error = get_failure_msg(failure_idx, args);

      return FUTHARK_PROGRAM_ERROR;
    }
  }
  CUDA_SUCCEED_OR_RETURN(cuCtxPopCurrent(&ctx->cu_ctx));
  return 0;
}

int backend_context_setup(struct futhark_context* ctx) {
  ctx->profiling_records_capacity = 200;
  ctx->profiling_records_used = 0;
  ctx->profiling_records =
    malloc(ctx->profiling_records_capacity *
           sizeof(struct profiling_record));
  ctx->failure_is_an_option = 0;
  ctx->total_runs = 0;
  ctx->total_runtime = 0;
  ctx->peak_mem_usage_device = 0;
  ctx->cur_mem_usage_device = 0;

  ctx->error = cuda_setup(ctx, cuda_program, ctx->cfg->nvrtc_opts, ctx->cfg->cache_fname);

  if (ctx->error != NULL) {
    futhark_panic(1, "%s\n", ctx->error);
  }

  int32_t no_error = -1;
  CUDA_SUCCEED_FATAL(cuMemAlloc(&ctx->global_failure, sizeof(no_error)));
  CUDA_SUCCEED_FATAL(cuMemcpyHtoD(ctx->global_failure, &no_error, sizeof(no_error)));
  // The +1 is to avoid zero-byte allocations.
  CUDA_SUCCEED_FATAL(cuMemAlloc(&ctx->global_failure_args, sizeof(int64_t)*(max_failure_args+1)));

  set_tuning_params(ctx);
  return 0;
}

void backend_context_teardown(struct futhark_context* ctx) {
  cuMemFree(ctx->global_failure);
  cuMemFree(ctx->global_failure_args);
  CUDA_SUCCEED_FATAL(cuda_free_all(ctx));
  (void)cuda_tally_profiling_records(ctx);
  free(ctx->profiling_records);
  CUDA_SUCCEED_FATAL(cuModuleUnload(ctx->module));
  CUDA_SUCCEED_FATAL(cuCtxDestroy(ctx->cu_ctx));
}

// End of backends/cuda.h.

static char *get_failure_msg(int failure_idx, int64_t args[])
{
    switch (failure_idx) {
        
      case 0:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 1:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 2:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 3:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 4:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 5:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 6:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 7:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 8:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 9:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 10:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 11:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 12:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 13:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 14:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 15:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 16:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 17:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 18:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 19:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 20:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 21:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 22:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 23:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 24:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 25:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 26:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 27:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 28:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 29:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 30:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 31:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 32:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 33:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 34:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 35:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 36:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 37:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 38:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 39:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 40:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 41:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 42:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 43:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 44:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 45:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 46:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 47:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 48:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 49:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 50:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 51:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 52:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 53:
        {
            return msgprintf("Index [%lld, %lld] out of bounds for array of shape [%lld][%lld].\n-> #0  main.fut:18:9-43\n   #1  main.fut:19:7-7\n", args[0], args[1], args[2], args[3]);
            break;
        }
        
      case 54:
        {
            return msgprintf("Index [%lld] out of bounds for array of shape [%lld].\n-> #0  main.fut:83:10-27\n", args[0], args[1]);
            break;
        }
    }
    return strdup("Unknown error.  This is a compiler bug.");
}
static void set_tuning_params(struct futhark_context *ctx)
{
    ctx->tuning_params.builtinzhreplicate_boolzigroup_sizze_107909 = &ctx->cfg->tuning_params[0];
    ctx->tuning_params.builtinzhreplicate_i16zigroup_sizze_107929 = &ctx->cfg->tuning_params[1];
    ctx->tuning_params.builtinzhreplicate_i32zigroup_sizze_108354 = &ctx->cfg->tuning_params[2];
    ctx->tuning_params.segmap_group_sizze_24270 = &ctx->cfg->tuning_params[3];
    ctx->tuning_params.segmap_group_sizze_24314 = &ctx->cfg->tuning_params[4];
    ctx->tuning_params.segmap_group_sizze_24376 = &ctx->cfg->tuning_params[5];
    ctx->tuning_params.segmap_group_sizze_24462 = &ctx->cfg->tuning_params[6];
    ctx->tuning_params.segmap_group_sizze_24767 = &ctx->cfg->tuning_params[7];
    ctx->tuning_params.segmap_group_sizze_24899 = &ctx->cfg->tuning_params[8];
    ctx->tuning_params.segmap_group_sizze_24971 = &ctx->cfg->tuning_params[9];
    ctx->tuning_params.segmap_group_sizze_25110 = &ctx->cfg->tuning_params[10];
    ctx->tuning_params.segmap_group_sizze_25287 = &ctx->cfg->tuning_params[11];
    ctx->tuning_params.segmap_group_sizze_25496 = &ctx->cfg->tuning_params[12];
    ctx->tuning_params.segmap_group_sizze_25987 = &ctx->cfg->tuning_params[13];
    ctx->tuning_params.segmap_group_sizze_26358 = &ctx->cfg->tuning_params[14];
    ctx->tuning_params.segmap_group_sizze_26554 = &ctx->cfg->tuning_params[15];
    ctx->tuning_params.segmap_group_sizze_26753 = &ctx->cfg->tuning_params[16];
    ctx->tuning_params.segmap_group_sizze_26955 = &ctx->cfg->tuning_params[17];
    ctx->tuning_params.segmap_group_sizze_27348 = &ctx->cfg->tuning_params[18];
    ctx->tuning_params.segmap_group_sizze_27595 = &ctx->cfg->tuning_params[19];
    ctx->tuning_params.segmap_group_sizze_27863 = &ctx->cfg->tuning_params[20];
    ctx->tuning_params.segmap_group_sizze_28334 = &ctx->cfg->tuning_params[21];
    ctx->tuning_params.segmap_group_sizze_29006 = &ctx->cfg->tuning_params[22];
    ctx->tuning_params.segmap_group_sizze_29878 = &ctx->cfg->tuning_params[23];
    ctx->tuning_params.segmap_group_sizze_30949 = &ctx->cfg->tuning_params[24];
    ctx->tuning_params.segmap_num_groups_24272 = &ctx->cfg->tuning_params[25];
    ctx->tuning_params.segmap_num_groups_24769 = &ctx->cfg->tuning_params[26];
    ctx->tuning_params.segmap_num_groups_24901 = &ctx->cfg->tuning_params[27];
    ctx->tuning_params.segmap_num_groups_25989 = &ctx->cfg->tuning_params[28];
    ctx->tuning_params.segmap_num_groups_26360 = &ctx->cfg->tuning_params[29];
    ctx->tuning_params.segmap_num_groups_26556 = &ctx->cfg->tuning_params[30];
    ctx->tuning_params.segmap_num_groups_26755 = &ctx->cfg->tuning_params[31];
    ctx->tuning_params.segmap_num_groups_26957 = &ctx->cfg->tuning_params[32];
    ctx->tuning_params.segmap_num_groups_27350 = &ctx->cfg->tuning_params[33];
    ctx->tuning_params.segred_group_sizze_27393 = &ctx->cfg->tuning_params[34];
    ctx->tuning_params.segred_group_sizze_32218 = &ctx->cfg->tuning_params[35];
    ctx->tuning_params.segred_num_groups_27395 = &ctx->cfg->tuning_params[36];
    ctx->tuning_params.segred_num_groups_32220 = &ctx->cfg->tuning_params[37];
    ctx->tuning_params.suff_outer_par_0 = &ctx->cfg->tuning_params[38];
    ctx->tuning_params.suff_outer_par_1 = &ctx->cfg->tuning_params[39];
    ctx->tuning_params.suff_outer_par_2 = &ctx->cfg->tuning_params[40];
    ctx->tuning_params.suff_outer_par_3 = &ctx->cfg->tuning_params[41];
    ctx->tuning_params.suff_outer_par_4 = &ctx->cfg->tuning_params[42];
    ctx->tuning_params.suff_outer_par_5 = &ctx->cfg->tuning_params[43];
    ctx->tuning_params.tile_sizze_81845 = &ctx->cfg->tuning_params[44];
}
struct program {
    CUfunction builtinzhreplicate_boolzireplicate_107905;
    int64_t builtinzhreplicate_boolzireplicate_107905_total_runtime;
    int builtinzhreplicate_boolzireplicate_107905_runs;
    CUfunction builtinzhreplicate_i16zireplicate_107925;
    int64_t builtinzhreplicate_i16zireplicate_107925_total_runtime;
    int builtinzhreplicate_i16zireplicate_107925_runs;
    CUfunction builtinzhreplicate_i32zireplicate_108350;
    int64_t builtinzhreplicate_i32zireplicate_108350_total_runtime;
    int builtinzhreplicate_i32zireplicate_108350_runs;
    CUfunction gpu_map_transpose_bool;
    int64_t gpu_map_transpose_bool_total_runtime;
    int gpu_map_transpose_bool_runs;
    CUfunction gpu_map_transpose_bool_low_height;
    int64_t gpu_map_transpose_bool_low_height_total_runtime;
    int gpu_map_transpose_bool_low_height_runs;
    CUfunction gpu_map_transpose_bool_low_width;
    int64_t gpu_map_transpose_bool_low_width_total_runtime;
    int gpu_map_transpose_bool_low_width_runs;
    CUfunction gpu_map_transpose_bool_small;
    int64_t gpu_map_transpose_bool_small_total_runtime;
    int gpu_map_transpose_bool_small_runs;
    CUfunction gpu_map_transpose_i16;
    int64_t gpu_map_transpose_i16_total_runtime;
    int gpu_map_transpose_i16_runs;
    CUfunction gpu_map_transpose_i16_low_height;
    int64_t gpu_map_transpose_i16_low_height_total_runtime;
    int gpu_map_transpose_i16_low_height_runs;
    CUfunction gpu_map_transpose_i16_low_width;
    int64_t gpu_map_transpose_i16_low_width_total_runtime;
    int gpu_map_transpose_i16_low_width_runs;
    CUfunction gpu_map_transpose_i16_small;
    int64_t gpu_map_transpose_i16_small_total_runtime;
    int gpu_map_transpose_i16_small_runs;
    CUfunction gpu_map_transpose_i64;
    int64_t gpu_map_transpose_i64_total_runtime;
    int gpu_map_transpose_i64_runs;
    CUfunction gpu_map_transpose_i64_low_height;
    int64_t gpu_map_transpose_i64_low_height_total_runtime;
    int gpu_map_transpose_i64_low_height_runs;
    CUfunction gpu_map_transpose_i64_low_width;
    int64_t gpu_map_transpose_i64_low_width_total_runtime;
    int gpu_map_transpose_i64_low_width_runs;
    CUfunction gpu_map_transpose_i64_small;
    int64_t gpu_map_transpose_i64_small_total_runtime;
    int gpu_map_transpose_i64_small_runs;
    CUfunction gpuseq_108469;
    int64_t gpuseq_108469_total_runtime;
    int gpuseq_108469_runs;
    CUfunction segmap_24679;
    int64_t segmap_24679_total_runtime;
    int segmap_24679_runs;
    CUfunction segmap_24700;
    int64_t segmap_24700_total_runtime;
    int segmap_24700_runs;
    CUfunction segmap_24723;
    int64_t segmap_24723_total_runtime;
    int segmap_24723_runs;
    CUfunction segmap_24752;
    int64_t segmap_24752_total_runtime;
    int segmap_24752_runs;
    CUfunction segmap_24790;
    int64_t segmap_24790_total_runtime;
    int segmap_24790_runs;
    CUfunction segmap_25802;
    int64_t segmap_25802_total_runtime;
    int segmap_25802_runs;
    CUfunction segmap_25839;
    int64_t segmap_25839_total_runtime;
    int segmap_25839_runs;
    CUfunction segmap_25882;
    int64_t segmap_25882_total_runtime;
    int segmap_25882_runs;
    CUfunction segmap_25931;
    int64_t segmap_25931_total_runtime;
    int segmap_25931_runs;
    CUfunction segmap_25964;
    int64_t segmap_25964_total_runtime;
    int segmap_25964_runs;
    CUfunction segmap_26175;
    int64_t segmap_26175_total_runtime;
    int segmap_26175_runs;
    CUfunction segmap_30967;
    int64_t segmap_30967_total_runtime;
    int segmap_30967_runs;
    CUfunction segmap_30988;
    int64_t segmap_30988_total_runtime;
    int segmap_30988_runs;
    CUfunction segmap_31168;
    int64_t segmap_31168_total_runtime;
    int segmap_31168_runs;
    CUfunction segmap_31192;
    int64_t segmap_31192_total_runtime;
    int segmap_31192_runs;
    CUfunction segmap_31370;
    int64_t segmap_31370_total_runtime;
    int segmap_31370_runs;
    CUfunction segmap_31397;
    int64_t segmap_31397_total_runtime;
    int segmap_31397_runs;
    CUfunction segmap_31573;
    int64_t segmap_31573_total_runtime;
    int segmap_31573_runs;
    CUfunction segmap_31603;
    int64_t segmap_31603_total_runtime;
    int segmap_31603_runs;
    CUfunction segmap_31777;
    int64_t segmap_31777_total_runtime;
    int segmap_31777_runs;
    CUfunction segmap_31981;
    int64_t segmap_31981_total_runtime;
    int segmap_31981_runs;
    CUfunction segmap_32196;
    int64_t segmap_32196_total_runtime;
    int segmap_32196_runs;
    CUfunction segmap_intragroup_81844;
    int64_t segmap_intragroup_81844_total_runtime;
    int segmap_intragroup_81844_runs;
    CUfunction segred_large_32005;
    int64_t segred_large_32005_total_runtime;
    int segred_large_32005_runs;
    CUfunction segred_nonseg_32226;
    int64_t segred_nonseg_32226_total_runtime;
    int segred_nonseg_32226_runs;
    CUfunction segred_small_32005;
    int64_t segred_small_32005_total_runtime;
    int segred_small_32005_runs;
    int64_t copy_dev_to_dev_total_runtime;
    int copy_dev_to_dev_runs;
    int64_t copy_dev_to_host_total_runtime;
    int copy_dev_to_host_runs;
    int64_t copy_host_to_dev_total_runtime;
    int copy_host_to_dev_runs;
    int64_t copy_scalar_to_dev_total_runtime;
    int copy_scalar_to_dev_runs;
    int64_t copy_scalar_from_dev_total_runtime;
    int copy_scalar_from_dev_runs;
};
static void setup_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    ctx->program = malloc(sizeof(struct program));
    ctx->program->builtinzhreplicate_boolzireplicate_107905_total_runtime = 0;
    ctx->program->builtinzhreplicate_boolzireplicate_107905_runs = 0;
    ctx->program->builtinzhreplicate_i16zireplicate_107925_total_runtime = 0;
    ctx->program->builtinzhreplicate_i16zireplicate_107925_runs = 0;
    ctx->program->builtinzhreplicate_i32zireplicate_108350_total_runtime = 0;
    ctx->program->builtinzhreplicate_i32zireplicate_108350_runs = 0;
    ctx->program->gpu_map_transpose_bool_total_runtime = 0;
    ctx->program->gpu_map_transpose_bool_runs = 0;
    ctx->program->gpu_map_transpose_bool_low_height_total_runtime = 0;
    ctx->program->gpu_map_transpose_bool_low_height_runs = 0;
    ctx->program->gpu_map_transpose_bool_low_width_total_runtime = 0;
    ctx->program->gpu_map_transpose_bool_low_width_runs = 0;
    ctx->program->gpu_map_transpose_bool_small_total_runtime = 0;
    ctx->program->gpu_map_transpose_bool_small_runs = 0;
    ctx->program->gpu_map_transpose_i16_total_runtime = 0;
    ctx->program->gpu_map_transpose_i16_runs = 0;
    ctx->program->gpu_map_transpose_i16_low_height_total_runtime = 0;
    ctx->program->gpu_map_transpose_i16_low_height_runs = 0;
    ctx->program->gpu_map_transpose_i16_low_width_total_runtime = 0;
    ctx->program->gpu_map_transpose_i16_low_width_runs = 0;
    ctx->program->gpu_map_transpose_i16_small_total_runtime = 0;
    ctx->program->gpu_map_transpose_i16_small_runs = 0;
    ctx->program->gpu_map_transpose_i64_total_runtime = 0;
    ctx->program->gpu_map_transpose_i64_runs = 0;
    ctx->program->gpu_map_transpose_i64_low_height_total_runtime = 0;
    ctx->program->gpu_map_transpose_i64_low_height_runs = 0;
    ctx->program->gpu_map_transpose_i64_low_width_total_runtime = 0;
    ctx->program->gpu_map_transpose_i64_low_width_runs = 0;
    ctx->program->gpu_map_transpose_i64_small_total_runtime = 0;
    ctx->program->gpu_map_transpose_i64_small_runs = 0;
    ctx->program->gpuseq_108469_total_runtime = 0;
    ctx->program->gpuseq_108469_runs = 0;
    ctx->program->segmap_24679_total_runtime = 0;
    ctx->program->segmap_24679_runs = 0;
    ctx->program->segmap_24700_total_runtime = 0;
    ctx->program->segmap_24700_runs = 0;
    ctx->program->segmap_24723_total_runtime = 0;
    ctx->program->segmap_24723_runs = 0;
    ctx->program->segmap_24752_total_runtime = 0;
    ctx->program->segmap_24752_runs = 0;
    ctx->program->segmap_24790_total_runtime = 0;
    ctx->program->segmap_24790_runs = 0;
    ctx->program->segmap_25802_total_runtime = 0;
    ctx->program->segmap_25802_runs = 0;
    ctx->program->segmap_25839_total_runtime = 0;
    ctx->program->segmap_25839_runs = 0;
    ctx->program->segmap_25882_total_runtime = 0;
    ctx->program->segmap_25882_runs = 0;
    ctx->program->segmap_25931_total_runtime = 0;
    ctx->program->segmap_25931_runs = 0;
    ctx->program->segmap_25964_total_runtime = 0;
    ctx->program->segmap_25964_runs = 0;
    ctx->program->segmap_26175_total_runtime = 0;
    ctx->program->segmap_26175_runs = 0;
    ctx->program->segmap_30967_total_runtime = 0;
    ctx->program->segmap_30967_runs = 0;
    ctx->program->segmap_30988_total_runtime = 0;
    ctx->program->segmap_30988_runs = 0;
    ctx->program->segmap_31168_total_runtime = 0;
    ctx->program->segmap_31168_runs = 0;
    ctx->program->segmap_31192_total_runtime = 0;
    ctx->program->segmap_31192_runs = 0;
    ctx->program->segmap_31370_total_runtime = 0;
    ctx->program->segmap_31370_runs = 0;
    ctx->program->segmap_31397_total_runtime = 0;
    ctx->program->segmap_31397_runs = 0;
    ctx->program->segmap_31573_total_runtime = 0;
    ctx->program->segmap_31573_runs = 0;
    ctx->program->segmap_31603_total_runtime = 0;
    ctx->program->segmap_31603_runs = 0;
    ctx->program->segmap_31777_total_runtime = 0;
    ctx->program->segmap_31777_runs = 0;
    ctx->program->segmap_31981_total_runtime = 0;
    ctx->program->segmap_31981_runs = 0;
    ctx->program->segmap_32196_total_runtime = 0;
    ctx->program->segmap_32196_runs = 0;
    ctx->program->segmap_intragroup_81844_total_runtime = 0;
    ctx->program->segmap_intragroup_81844_runs = 0;
    ctx->program->segred_large_32005_total_runtime = 0;
    ctx->program->segred_large_32005_runs = 0;
    ctx->program->segred_nonseg_32226_total_runtime = 0;
    ctx->program->segred_nonseg_32226_runs = 0;
    ctx->program->segred_small_32005_total_runtime = 0;
    ctx->program->segred_small_32005_runs = 0;
    ctx->program->copy_dev_to_dev_total_runtime = 0;
    ctx->program->copy_dev_to_dev_runs = 0;
    ctx->program->copy_dev_to_host_total_runtime = 0;
    ctx->program->copy_dev_to_host_runs = 0;
    ctx->program->copy_host_to_dev_total_runtime = 0;
    ctx->program->copy_host_to_dev_runs = 0;
    ctx->program->copy_scalar_to_dev_total_runtime = 0;
    ctx->program->copy_scalar_to_dev_runs = 0;
    ctx->program->copy_scalar_from_dev_total_runtime = 0;
    ctx->program->copy_scalar_from_dev_runs = 0;
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->builtinzhreplicate_boolzireplicate_107905, ctx->module, "builtinzhreplicate_boolzireplicate_107905"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->builtinzhreplicate_i16zireplicate_107925, ctx->module, "builtinzhreplicate_i16zireplicate_107925"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->builtinzhreplicate_i32zireplicate_108350, ctx->module, "builtinzhreplicate_i32zireplicate_108350"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_bool, ctx->module, "gpu_map_transpose_bool"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_bool_low_height, ctx->module, "gpu_map_transpose_bool_low_height"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_bool_low_width, ctx->module, "gpu_map_transpose_bool_low_width"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_bool_small, ctx->module, "gpu_map_transpose_bool_small"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_i16, ctx->module, "gpu_map_transpose_i16"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_i16_low_height, ctx->module, "gpu_map_transpose_i16_low_height"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_i16_low_width, ctx->module, "gpu_map_transpose_i16_low_width"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_i16_small, ctx->module, "gpu_map_transpose_i16_small"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_i64, ctx->module, "gpu_map_transpose_i64"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_i64_low_height, ctx->module, "gpu_map_transpose_i64_low_height"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_i64_low_width, ctx->module, "gpu_map_transpose_i64_low_width"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpu_map_transpose_i64_small, ctx->module, "gpu_map_transpose_i64_small"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->gpuseq_108469, ctx->module, "gpuseq_108469"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_24679, ctx->module, "segmap_24679"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_24700, ctx->module, "segmap_24700"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_24723, ctx->module, "segmap_24723"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_24752, ctx->module, "segmap_24752"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_24790, ctx->module, "segmap_24790"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_25802, ctx->module, "segmap_25802"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_25839, ctx->module, "segmap_25839"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_25882, ctx->module, "segmap_25882"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_25931, ctx->module, "segmap_25931"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_25964, ctx->module, "segmap_25964"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_26175, ctx->module, "segmap_26175"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_30967, ctx->module, "segmap_30967"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_30988, ctx->module, "segmap_30988"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_31168, ctx->module, "segmap_31168"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_31192, ctx->module, "segmap_31192"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_31370, ctx->module, "segmap_31370"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_31397, ctx->module, "segmap_31397"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_31573, ctx->module, "segmap_31573"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_31603, ctx->module, "segmap_31603"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_31777, ctx->module, "segmap_31777"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_31981, ctx->module, "segmap_31981"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_32196, ctx->module, "segmap_32196"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segmap_intragroup_81844, ctx->module, "segmap_intragroup_81844"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segred_large_32005, ctx->module, "segred_large_32005"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segred_nonseg_32226, ctx->module, "segred_nonseg_32226"));
    CUDA_SUCCEED_FATAL(cuModuleGetFunction(&ctx->program->segred_small_32005, ctx->module, "segred_small_32005"));
}
static void teardown_program(struct futhark_context *ctx)
{
    (void) ctx;
    
    int error = 0;
    
    (void) error;
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    { }
    free(ctx->program);
}
int memblock_unref_device(struct futhark_context *ctx, struct memblock_device *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "space 'device'", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_device -= block->size;
            CUDA_SUCCEED_OR_RETURN(cuda_free(ctx, block->mem, block->size, desc));
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_device);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc_device(struct futhark_context *ctx, struct memblock_device *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "space 'device'", ctx->cur_mem_usage_device);
    
    int ret = memblock_unref_device(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)", (long long) size, desc, "space 'device'", (long long) ctx->cur_mem_usage_device + size);
    if (ctx->cur_mem_usage_device > ctx->peak_mem_usage_device) {
        ctx->peak_mem_usage_device = ctx->cur_mem_usage_device;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    ctx->error = CUDA_SUCCEED_NONFATAL(cuda_alloc(ctx, ctx->log, (size_t) size, desc, &block->mem, (size_t *) &size));
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        ctx->cur_mem_usage_device += size;
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "space 'device'", (long long) size, (long long) ctx->cur_mem_usage_device, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set_device(struct futhark_context *ctx, struct memblock_device *lhs, struct memblock_device *rhs, const char *lhs_desc)
{
    int ret = memblock_unref_device(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            host_free(ctx, (size_t) block->size, desc, (void *) block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default + size);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    host_alloc(ctx, (size_t) size, desc, (size_t *) &size, (void *) &block->mem);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        ctx->cur_mem_usage_default += size;
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag)
{
    cfg->profiling = cfg->logging = cfg->debugging = flag;
}
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag)
{
    cfg->profiling = flag;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag)
{
    cfg->logging = flag;
}
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f)
{
    cfg->cache_fname = f;
}
int futhark_get_tuning_param_count(void)
{
    return num_tuning_params;
}
const char *futhark_get_tuning_param_name(int i)
{
    return tuning_param_names[i];
}
const char *futhark_get_tuning_param_class(int i)
{
    return tuning_param_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    str_builder(&builder, "Peak memory usage for space 'device': %lld bytes.\n", (long long) ctx->peak_mem_usage_device);
    { }
    if (ctx->profiling) {
        CUDA_SUCCEED_FATAL(cuda_tally_profiling_records(ctx));
        str_builder(&builder, "copy_dev_to_dev                         ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->copy_dev_to_dev_runs, (long) ctx->program->copy_dev_to_dev_total_runtime / (ctx->program->copy_dev_to_dev_runs != 0 ? ctx->program->copy_dev_to_dev_runs : 1), (long) ctx->program->copy_dev_to_dev_total_runtime);
        ctx->total_runtime += ctx->program->copy_dev_to_dev_total_runtime;
        ctx->total_runs += ctx->program->copy_dev_to_dev_runs;
        str_builder(&builder, "copy_dev_to_host                        ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->copy_dev_to_host_runs, (long) ctx->program->copy_dev_to_host_total_runtime / (ctx->program->copy_dev_to_host_runs != 0 ? ctx->program->copy_dev_to_host_runs : 1), (long) ctx->program->copy_dev_to_host_total_runtime);
        ctx->total_runtime += ctx->program->copy_dev_to_host_total_runtime;
        ctx->total_runs += ctx->program->copy_dev_to_host_runs;
        str_builder(&builder, "copy_host_to_dev                        ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->copy_host_to_dev_runs, (long) ctx->program->copy_host_to_dev_total_runtime / (ctx->program->copy_host_to_dev_runs != 0 ? ctx->program->copy_host_to_dev_runs : 1), (long) ctx->program->copy_host_to_dev_total_runtime);
        ctx->total_runtime += ctx->program->copy_host_to_dev_total_runtime;
        ctx->total_runs += ctx->program->copy_host_to_dev_runs;
        str_builder(&builder, "copy_scalar_to_dev                      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->copy_scalar_to_dev_runs, (long) ctx->program->copy_scalar_to_dev_total_runtime / (ctx->program->copy_scalar_to_dev_runs != 0 ? ctx->program->copy_scalar_to_dev_runs : 1), (long) ctx->program->copy_scalar_to_dev_total_runtime);
        ctx->total_runtime += ctx->program->copy_scalar_to_dev_total_runtime;
        ctx->total_runs += ctx->program->copy_scalar_to_dev_runs;
        str_builder(&builder, "copy_scalar_from_dev                    ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->copy_scalar_from_dev_runs, (long) ctx->program->copy_scalar_from_dev_total_runtime / (ctx->program->copy_scalar_from_dev_runs != 0 ? ctx->program->copy_scalar_from_dev_runs : 1), (long) ctx->program->copy_scalar_from_dev_total_runtime);
        ctx->total_runtime += ctx->program->copy_scalar_from_dev_total_runtime;
        ctx->total_runs += ctx->program->copy_scalar_from_dev_runs;
        str_builder(&builder, "builtin#replicate_bool.replicate_107905 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->builtinzhreplicate_boolzireplicate_107905_runs, (long) ctx->program->builtinzhreplicate_boolzireplicate_107905_total_runtime / (ctx->program->builtinzhreplicate_boolzireplicate_107905_runs != 0 ? ctx->program->builtinzhreplicate_boolzireplicate_107905_runs : 1), (long) ctx->program->builtinzhreplicate_boolzireplicate_107905_total_runtime);
        ctx->total_runtime += ctx->program->builtinzhreplicate_boolzireplicate_107905_total_runtime;
        ctx->total_runs += ctx->program->builtinzhreplicate_boolzireplicate_107905_runs;
        str_builder(&builder, "builtin#replicate_i16.replicate_107925  ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->builtinzhreplicate_i16zireplicate_107925_runs, (long) ctx->program->builtinzhreplicate_i16zireplicate_107925_total_runtime / (ctx->program->builtinzhreplicate_i16zireplicate_107925_runs != 0 ? ctx->program->builtinzhreplicate_i16zireplicate_107925_runs : 1), (long) ctx->program->builtinzhreplicate_i16zireplicate_107925_total_runtime);
        ctx->total_runtime += ctx->program->builtinzhreplicate_i16zireplicate_107925_total_runtime;
        ctx->total_runs += ctx->program->builtinzhreplicate_i16zireplicate_107925_runs;
        str_builder(&builder, "builtin#replicate_i32.replicate_108350  ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->builtinzhreplicate_i32zireplicate_108350_runs, (long) ctx->program->builtinzhreplicate_i32zireplicate_108350_total_runtime / (ctx->program->builtinzhreplicate_i32zireplicate_108350_runs != 0 ? ctx->program->builtinzhreplicate_i32zireplicate_108350_runs : 1), (long) ctx->program->builtinzhreplicate_i32zireplicate_108350_total_runtime);
        ctx->total_runtime += ctx->program->builtinzhreplicate_i32zireplicate_108350_total_runtime;
        ctx->total_runs += ctx->program->builtinzhreplicate_i32zireplicate_108350_runs;
        str_builder(&builder, "gpu_map_transpose_bool                  ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_bool_runs, (long) ctx->program->gpu_map_transpose_bool_total_runtime / (ctx->program->gpu_map_transpose_bool_runs != 0 ? ctx->program->gpu_map_transpose_bool_runs : 1), (long) ctx->program->gpu_map_transpose_bool_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_bool_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_bool_runs;
        str_builder(&builder, "gpu_map_transpose_bool_low_height       ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_bool_low_height_runs, (long) ctx->program->gpu_map_transpose_bool_low_height_total_runtime / (ctx->program->gpu_map_transpose_bool_low_height_runs != 0 ? ctx->program->gpu_map_transpose_bool_low_height_runs : 1), (long) ctx->program->gpu_map_transpose_bool_low_height_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_bool_low_height_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_bool_low_height_runs;
        str_builder(&builder, "gpu_map_transpose_bool_low_width        ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_bool_low_width_runs, (long) ctx->program->gpu_map_transpose_bool_low_width_total_runtime / (ctx->program->gpu_map_transpose_bool_low_width_runs != 0 ? ctx->program->gpu_map_transpose_bool_low_width_runs : 1), (long) ctx->program->gpu_map_transpose_bool_low_width_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_bool_low_width_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_bool_low_width_runs;
        str_builder(&builder, "gpu_map_transpose_bool_small            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_bool_small_runs, (long) ctx->program->gpu_map_transpose_bool_small_total_runtime / (ctx->program->gpu_map_transpose_bool_small_runs != 0 ? ctx->program->gpu_map_transpose_bool_small_runs : 1), (long) ctx->program->gpu_map_transpose_bool_small_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_bool_small_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_bool_small_runs;
        str_builder(&builder, "gpu_map_transpose_i16                   ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_i16_runs, (long) ctx->program->gpu_map_transpose_i16_total_runtime / (ctx->program->gpu_map_transpose_i16_runs != 0 ? ctx->program->gpu_map_transpose_i16_runs : 1), (long) ctx->program->gpu_map_transpose_i16_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_i16_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_i16_runs;
        str_builder(&builder, "gpu_map_transpose_i16_low_height        ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_i16_low_height_runs, (long) ctx->program->gpu_map_transpose_i16_low_height_total_runtime / (ctx->program->gpu_map_transpose_i16_low_height_runs != 0 ? ctx->program->gpu_map_transpose_i16_low_height_runs : 1), (long) ctx->program->gpu_map_transpose_i16_low_height_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_i16_low_height_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_i16_low_height_runs;
        str_builder(&builder, "gpu_map_transpose_i16_low_width         ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_i16_low_width_runs, (long) ctx->program->gpu_map_transpose_i16_low_width_total_runtime / (ctx->program->gpu_map_transpose_i16_low_width_runs != 0 ? ctx->program->gpu_map_transpose_i16_low_width_runs : 1), (long) ctx->program->gpu_map_transpose_i16_low_width_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_i16_low_width_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_i16_low_width_runs;
        str_builder(&builder, "gpu_map_transpose_i16_small             ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_i16_small_runs, (long) ctx->program->gpu_map_transpose_i16_small_total_runtime / (ctx->program->gpu_map_transpose_i16_small_runs != 0 ? ctx->program->gpu_map_transpose_i16_small_runs : 1), (long) ctx->program->gpu_map_transpose_i16_small_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_i16_small_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_i16_small_runs;
        str_builder(&builder, "gpu_map_transpose_i64                   ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_i64_runs, (long) ctx->program->gpu_map_transpose_i64_total_runtime / (ctx->program->gpu_map_transpose_i64_runs != 0 ? ctx->program->gpu_map_transpose_i64_runs : 1), (long) ctx->program->gpu_map_transpose_i64_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_i64_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_i64_runs;
        str_builder(&builder, "gpu_map_transpose_i64_low_height        ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_i64_low_height_runs, (long) ctx->program->gpu_map_transpose_i64_low_height_total_runtime / (ctx->program->gpu_map_transpose_i64_low_height_runs != 0 ? ctx->program->gpu_map_transpose_i64_low_height_runs : 1), (long) ctx->program->gpu_map_transpose_i64_low_height_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_i64_low_height_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_i64_low_height_runs;
        str_builder(&builder, "gpu_map_transpose_i64_low_width         ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_i64_low_width_runs, (long) ctx->program->gpu_map_transpose_i64_low_width_total_runtime / (ctx->program->gpu_map_transpose_i64_low_width_runs != 0 ? ctx->program->gpu_map_transpose_i64_low_width_runs : 1), (long) ctx->program->gpu_map_transpose_i64_low_width_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_i64_low_width_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_i64_low_width_runs;
        str_builder(&builder, "gpu_map_transpose_i64_small             ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpu_map_transpose_i64_small_runs, (long) ctx->program->gpu_map_transpose_i64_small_total_runtime / (ctx->program->gpu_map_transpose_i64_small_runs != 0 ? ctx->program->gpu_map_transpose_i64_small_runs : 1), (long) ctx->program->gpu_map_transpose_i64_small_total_runtime);
        ctx->total_runtime += ctx->program->gpu_map_transpose_i64_small_total_runtime;
        ctx->total_runs += ctx->program->gpu_map_transpose_i64_small_runs;
        str_builder(&builder, "gpuseq_108469                           ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->gpuseq_108469_runs, (long) ctx->program->gpuseq_108469_total_runtime / (ctx->program->gpuseq_108469_runs != 0 ? ctx->program->gpuseq_108469_runs : 1), (long) ctx->program->gpuseq_108469_total_runtime);
        ctx->total_runtime += ctx->program->gpuseq_108469_total_runtime;
        ctx->total_runs += ctx->program->gpuseq_108469_runs;
        str_builder(&builder, "segmap_24679                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_24679_runs, (long) ctx->program->segmap_24679_total_runtime / (ctx->program->segmap_24679_runs != 0 ? ctx->program->segmap_24679_runs : 1), (long) ctx->program->segmap_24679_total_runtime);
        ctx->total_runtime += ctx->program->segmap_24679_total_runtime;
        ctx->total_runs += ctx->program->segmap_24679_runs;
        str_builder(&builder, "segmap_24700                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_24700_runs, (long) ctx->program->segmap_24700_total_runtime / (ctx->program->segmap_24700_runs != 0 ? ctx->program->segmap_24700_runs : 1), (long) ctx->program->segmap_24700_total_runtime);
        ctx->total_runtime += ctx->program->segmap_24700_total_runtime;
        ctx->total_runs += ctx->program->segmap_24700_runs;
        str_builder(&builder, "segmap_24723                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_24723_runs, (long) ctx->program->segmap_24723_total_runtime / (ctx->program->segmap_24723_runs != 0 ? ctx->program->segmap_24723_runs : 1), (long) ctx->program->segmap_24723_total_runtime);
        ctx->total_runtime += ctx->program->segmap_24723_total_runtime;
        ctx->total_runs += ctx->program->segmap_24723_runs;
        str_builder(&builder, "segmap_24752                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_24752_runs, (long) ctx->program->segmap_24752_total_runtime / (ctx->program->segmap_24752_runs != 0 ? ctx->program->segmap_24752_runs : 1), (long) ctx->program->segmap_24752_total_runtime);
        ctx->total_runtime += ctx->program->segmap_24752_total_runtime;
        ctx->total_runs += ctx->program->segmap_24752_runs;
        str_builder(&builder, "segmap_24790                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_24790_runs, (long) ctx->program->segmap_24790_total_runtime / (ctx->program->segmap_24790_runs != 0 ? ctx->program->segmap_24790_runs : 1), (long) ctx->program->segmap_24790_total_runtime);
        ctx->total_runtime += ctx->program->segmap_24790_total_runtime;
        ctx->total_runs += ctx->program->segmap_24790_runs;
        str_builder(&builder, "segmap_25802                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_25802_runs, (long) ctx->program->segmap_25802_total_runtime / (ctx->program->segmap_25802_runs != 0 ? ctx->program->segmap_25802_runs : 1), (long) ctx->program->segmap_25802_total_runtime);
        ctx->total_runtime += ctx->program->segmap_25802_total_runtime;
        ctx->total_runs += ctx->program->segmap_25802_runs;
        str_builder(&builder, "segmap_25839                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_25839_runs, (long) ctx->program->segmap_25839_total_runtime / (ctx->program->segmap_25839_runs != 0 ? ctx->program->segmap_25839_runs : 1), (long) ctx->program->segmap_25839_total_runtime);
        ctx->total_runtime += ctx->program->segmap_25839_total_runtime;
        ctx->total_runs += ctx->program->segmap_25839_runs;
        str_builder(&builder, "segmap_25882                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_25882_runs, (long) ctx->program->segmap_25882_total_runtime / (ctx->program->segmap_25882_runs != 0 ? ctx->program->segmap_25882_runs : 1), (long) ctx->program->segmap_25882_total_runtime);
        ctx->total_runtime += ctx->program->segmap_25882_total_runtime;
        ctx->total_runs += ctx->program->segmap_25882_runs;
        str_builder(&builder, "segmap_25931                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_25931_runs, (long) ctx->program->segmap_25931_total_runtime / (ctx->program->segmap_25931_runs != 0 ? ctx->program->segmap_25931_runs : 1), (long) ctx->program->segmap_25931_total_runtime);
        ctx->total_runtime += ctx->program->segmap_25931_total_runtime;
        ctx->total_runs += ctx->program->segmap_25931_runs;
        str_builder(&builder, "segmap_25964                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_25964_runs, (long) ctx->program->segmap_25964_total_runtime / (ctx->program->segmap_25964_runs != 0 ? ctx->program->segmap_25964_runs : 1), (long) ctx->program->segmap_25964_total_runtime);
        ctx->total_runtime += ctx->program->segmap_25964_total_runtime;
        ctx->total_runs += ctx->program->segmap_25964_runs;
        str_builder(&builder, "segmap_26175                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_26175_runs, (long) ctx->program->segmap_26175_total_runtime / (ctx->program->segmap_26175_runs != 0 ? ctx->program->segmap_26175_runs : 1), (long) ctx->program->segmap_26175_total_runtime);
        ctx->total_runtime += ctx->program->segmap_26175_total_runtime;
        ctx->total_runs += ctx->program->segmap_26175_runs;
        str_builder(&builder, "segmap_30967                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_30967_runs, (long) ctx->program->segmap_30967_total_runtime / (ctx->program->segmap_30967_runs != 0 ? ctx->program->segmap_30967_runs : 1), (long) ctx->program->segmap_30967_total_runtime);
        ctx->total_runtime += ctx->program->segmap_30967_total_runtime;
        ctx->total_runs += ctx->program->segmap_30967_runs;
        str_builder(&builder, "segmap_30988                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_30988_runs, (long) ctx->program->segmap_30988_total_runtime / (ctx->program->segmap_30988_runs != 0 ? ctx->program->segmap_30988_runs : 1), (long) ctx->program->segmap_30988_total_runtime);
        ctx->total_runtime += ctx->program->segmap_30988_total_runtime;
        ctx->total_runs += ctx->program->segmap_30988_runs;
        str_builder(&builder, "segmap_31168                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_31168_runs, (long) ctx->program->segmap_31168_total_runtime / (ctx->program->segmap_31168_runs != 0 ? ctx->program->segmap_31168_runs : 1), (long) ctx->program->segmap_31168_total_runtime);
        ctx->total_runtime += ctx->program->segmap_31168_total_runtime;
        ctx->total_runs += ctx->program->segmap_31168_runs;
        str_builder(&builder, "segmap_31192                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_31192_runs, (long) ctx->program->segmap_31192_total_runtime / (ctx->program->segmap_31192_runs != 0 ? ctx->program->segmap_31192_runs : 1), (long) ctx->program->segmap_31192_total_runtime);
        ctx->total_runtime += ctx->program->segmap_31192_total_runtime;
        ctx->total_runs += ctx->program->segmap_31192_runs;
        str_builder(&builder, "segmap_31370                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_31370_runs, (long) ctx->program->segmap_31370_total_runtime / (ctx->program->segmap_31370_runs != 0 ? ctx->program->segmap_31370_runs : 1), (long) ctx->program->segmap_31370_total_runtime);
        ctx->total_runtime += ctx->program->segmap_31370_total_runtime;
        ctx->total_runs += ctx->program->segmap_31370_runs;
        str_builder(&builder, "segmap_31397                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_31397_runs, (long) ctx->program->segmap_31397_total_runtime / (ctx->program->segmap_31397_runs != 0 ? ctx->program->segmap_31397_runs : 1), (long) ctx->program->segmap_31397_total_runtime);
        ctx->total_runtime += ctx->program->segmap_31397_total_runtime;
        ctx->total_runs += ctx->program->segmap_31397_runs;
        str_builder(&builder, "segmap_31573                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_31573_runs, (long) ctx->program->segmap_31573_total_runtime / (ctx->program->segmap_31573_runs != 0 ? ctx->program->segmap_31573_runs : 1), (long) ctx->program->segmap_31573_total_runtime);
        ctx->total_runtime += ctx->program->segmap_31573_total_runtime;
        ctx->total_runs += ctx->program->segmap_31573_runs;
        str_builder(&builder, "segmap_31603                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_31603_runs, (long) ctx->program->segmap_31603_total_runtime / (ctx->program->segmap_31603_runs != 0 ? ctx->program->segmap_31603_runs : 1), (long) ctx->program->segmap_31603_total_runtime);
        ctx->total_runtime += ctx->program->segmap_31603_total_runtime;
        ctx->total_runs += ctx->program->segmap_31603_runs;
        str_builder(&builder, "segmap_31777                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_31777_runs, (long) ctx->program->segmap_31777_total_runtime / (ctx->program->segmap_31777_runs != 0 ? ctx->program->segmap_31777_runs : 1), (long) ctx->program->segmap_31777_total_runtime);
        ctx->total_runtime += ctx->program->segmap_31777_total_runtime;
        ctx->total_runs += ctx->program->segmap_31777_runs;
        str_builder(&builder, "segmap_31981                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_31981_runs, (long) ctx->program->segmap_31981_total_runtime / (ctx->program->segmap_31981_runs != 0 ? ctx->program->segmap_31981_runs : 1), (long) ctx->program->segmap_31981_total_runtime);
        ctx->total_runtime += ctx->program->segmap_31981_total_runtime;
        ctx->total_runs += ctx->program->segmap_31981_runs;
        str_builder(&builder, "segmap_32196                            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_32196_runs, (long) ctx->program->segmap_32196_total_runtime / (ctx->program->segmap_32196_runs != 0 ? ctx->program->segmap_32196_runs : 1), (long) ctx->program->segmap_32196_total_runtime);
        ctx->total_runtime += ctx->program->segmap_32196_total_runtime;
        ctx->total_runs += ctx->program->segmap_32196_runs;
        str_builder(&builder, "segmap_intragroup_81844                 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segmap_intragroup_81844_runs, (long) ctx->program->segmap_intragroup_81844_total_runtime / (ctx->program->segmap_intragroup_81844_runs != 0 ? ctx->program->segmap_intragroup_81844_runs : 1), (long) ctx->program->segmap_intragroup_81844_total_runtime);
        ctx->total_runtime += ctx->program->segmap_intragroup_81844_total_runtime;
        ctx->total_runs += ctx->program->segmap_intragroup_81844_runs;
        str_builder(&builder, "segred_large_32005                      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segred_large_32005_runs, (long) ctx->program->segred_large_32005_total_runtime / (ctx->program->segred_large_32005_runs != 0 ? ctx->program->segred_large_32005_runs : 1), (long) ctx->program->segred_large_32005_total_runtime);
        ctx->total_runtime += ctx->program->segred_large_32005_total_runtime;
        ctx->total_runs += ctx->program->segred_large_32005_runs;
        str_builder(&builder, "segred_nonseg_32226                     ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segred_nonseg_32226_runs, (long) ctx->program->segred_nonseg_32226_total_runtime / (ctx->program->segred_nonseg_32226_runs != 0 ? ctx->program->segred_nonseg_32226_runs : 1), (long) ctx->program->segred_nonseg_32226_total_runtime);
        ctx->total_runtime += ctx->program->segred_nonseg_32226_total_runtime;
        ctx->total_runs += ctx->program->segred_nonseg_32226_runs;
        str_builder(&builder, "segred_small_32005                      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->program->segred_small_32005_runs, (long) ctx->program->segred_small_32005_total_runtime / (ctx->program->segred_small_32005_runs != 0 ? ctx->program->segred_small_32005_runs : 1), (long) ctx->program->segred_small_32005_total_runtime);
        ctx->total_runtime += ctx->program->segred_small_32005_total_runtime;
        ctx->total_runs += ctx->program->segred_small_32005_runs;
        str_builder(&builder, "%d operations with cumulative runtime: %6ldus\n", ctx->total_runs, ctx->total_runtime);
    }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    ctx->peak_mem_usage_device = 0;
    ctx->peak_mem_usage_default = 0;
    if (ctx->error == NULL)
        CUDA_SUCCEED_NONFATAL(cuda_free_all(ctx));
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Eventually it would be nice to move the context definition in here
// instead of generating it in the compiler.  For now it defines
// various helper functions that must be available.

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

static void free_all_in_free_list(struct futhark_context* ctx) {
  fl_mem mem;
  free_list_pack(&ctx->free_list);
  while (free_list_first(&ctx->free_list, (fl_mem*)&mem) == 0) {
    free((void*)mem);
  }
}

static int is_small_alloc(size_t size) {
  return size < 1024*1024;
}

static void host_alloc(struct futhark_context* ctx,
                       size_t size, const char* tag, size_t* size_out, void** mem_out) {
  if (is_small_alloc(size) || free_list_find(&ctx->free_list, size, tag, size_out, (fl_mem*)mem_out) != 0) {
    *size_out = size;
    *mem_out = malloc(size);
  }
}

static void host_free(struct futhark_context* ctx,
                      size_t size, const char* tag, void* mem) {
  // Small allocations are handled by malloc()s own free list.  The
  // threshold here is kind of arbitrary, but seems to work OK.
  // Larger allocations are mmap()ed/munmapped() every time, which is
  // very slow, and Futhark programs tend to use a few very large
  // allocations.
  if (is_small_alloc(size)) {
    free(mem);
  } else {
    free_list_insert(&ctx->free_list, size, (fl_mem)mem, tag);
  }
}

struct futhark_context_config* futhark_context_config_new(void) {
  struct futhark_context_config* cfg = malloc(sizeof(struct futhark_context_config));
  if (cfg == NULL) {
    return NULL;
  }
  cfg->in_use = 0;
  cfg->debugging = 0;
  cfg->profiling = 0;
  cfg->logging = 0;
  cfg->cache_fname = NULL;
  cfg->num_tuning_params = num_tuning_params;
  cfg->tuning_params = malloc(cfg->num_tuning_params * sizeof(int64_t));
  memcpy(cfg->tuning_params, tuning_param_defaults,
         cfg->num_tuning_params * sizeof(int64_t));
  cfg->tuning_param_names = tuning_param_names;
  cfg->tuning_param_vars = tuning_param_vars;
  cfg->tuning_param_classes = tuning_param_classes;
  backend_context_config_setup(cfg);
  return cfg;
}

void futhark_context_config_free(struct futhark_context_config* cfg) {
  assert(!cfg->in_use);
  backend_context_config_teardown(cfg);
  free(cfg->tuning_params);
  free(cfg);
}

struct futhark_context* futhark_context_new(struct futhark_context_config* cfg) {
  struct futhark_context* ctx = malloc(sizeof(struct futhark_context));
  if (ctx == NULL) {
    return NULL;
  }
  assert(!cfg->in_use);
  ctx->cfg = cfg;
  ctx->cfg->in_use = 1;
  create_lock(&ctx->error_lock);
  create_lock(&ctx->lock);
  free_list_init(&ctx->free_list);
  ctx->peak_mem_usage_default = 0;
  ctx->cur_mem_usage_default = 0;
  ctx->constants = malloc(sizeof(struct constants));
  ctx->detail_memory = cfg->debugging;
  ctx->debugging = cfg->debugging;
  ctx->logging = cfg->logging;
  ctx->profiling = cfg->profiling;
  ctx->profiling_paused = 0;
  ctx->error = NULL;
  ctx->log = stderr;
  if (backend_context_setup(ctx) == 0) {
    setup_program(ctx);
    init_constants(ctx);
    (void)futhark_context_clear_caches(ctx);
    (void)futhark_context_sync(ctx);
  }
  return ctx;
}

void futhark_context_free(struct futhark_context* ctx) {
  free_constants(ctx);
  teardown_program(ctx);
  backend_context_teardown(ctx);
  free_all_in_free_list(ctx);
  free_list_destroy(&ctx->free_list);
  free(ctx->constants);
  free_lock(&ctx->lock);
  free_lock(&ctx->error_lock);
  ctx->cfg->in_use = 0;
  free(ctx);
}

// End of context.h

static int futrts_builtinzhreplicate_i32(struct futhark_context *ctx, struct memblock_device mem_108345, int64_t num_elems_108346, int32_t val_108347);
static int futrts_builtinzhgpu_map_transpose_i16(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6);
static int futrts_builtinzhgpu_map_transpose_bool(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6);
static int futrts_builtinzhreplicate_i16(struct futhark_context *ctx, struct memblock_device mem_107920, int64_t num_elems_107921, int16_t val_107922);
static int futrts_builtinzhreplicate_bool(struct futhark_context *ctx, struct memblock_device mem_107900, int64_t num_elems_107901, bool val_107902);
static int futrts_builtinzhgpu_map_transpose_i64(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6);
static int futrts_entry_main(struct futhark_context *ctx, struct memblock_device *mem_out_p_108869, struct memblock_device *mem_out_p_108870, struct memblock_device *mem_out_p_108871, struct memblock_device *mem_out_p_108872, struct memblock_device *mem_out_p_108873, struct memblock_device *mem_out_p_108874, bool *out_prim_out_108875);

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    #define counters_mem_108343 (ctx->constants->counters_mem_108343)
    #define counters_mem_108439 (ctx->constants->counters_mem_108439)
    #define main_res_11845 (ctx->constants->main_res_11845)
    #define mem_107226 (ctx->constants->mem_107226)
    #define triplayer2_12006 (ctx->constants->triplayer2_12006)
    #define triplayer3_12012 (ctx->constants->triplayer3_12012)
    #define triplayer4_12018 (ctx->constants->triplayer4_12018)
    #define triplayer5_12024 (ctx->constants->triplayer5_12024)
    #define triplayer6_12030 (ctx->constants->triplayer6_12030)
    #define triplayer7_12036 (ctx->constants->triplayer7_12036)
    
    struct memblock_device mem_param_tmp_107946;
    
    mem_param_tmp_107946.references = NULL;
    
    struct memblock_device mem_param_tmp_107945;
    
    mem_param_tmp_107945.references = NULL;
    
    struct memblock_device mem_param_tmp_107944;
    
    mem_param_tmp_107944.references = NULL;
    
    struct memblock_device mem_param_tmp_107943;
    
    mem_param_tmp_107943.references = NULL;
    
    struct memblock_device mem_param_tmp_107942;
    
    mem_param_tmp_107942.references = NULL;
    
    struct memblock_device mem_param_tmp_107941;
    
    mem_param_tmp_107941.references = NULL;
    
    struct memblock_device mem_param_tmp_107940;
    
    mem_param_tmp_107940.references = NULL;
    
    struct memblock_device mem_107622;
    
    mem_107622.references = NULL;
    
    struct memblock_device mem_107620;
    
    mem_107620.references = NULL;
    
    struct memblock_device mem_107618;
    
    mem_107618.references = NULL;
    
    struct memblock_device mem_107616;
    
    mem_107616.references = NULL;
    
    struct memblock_device mem_107614;
    
    mem_107614.references = NULL;
    
    struct memblock_device mem_107612;
    
    mem_107612.references = NULL;
    
    struct memblock_device mem_107610;
    
    mem_107610.references = NULL;
    
    struct memblock_device segred_tmp_mem_108441;
    
    segred_tmp_mem_108441.references = NULL;
    
    struct memblock_device mem_107371;
    
    mem_107371.references = NULL;
    
    struct memblock_device mem_107331;
    
    mem_107331.references = NULL;
    
    struct memblock_device segred_tmp_mem_108341;
    
    segred_tmp_mem_108341.references = NULL;
    
    struct memblock_device mem_107328;
    
    mem_107328.references = NULL;
    
    struct memblock_device mem_107325;
    
    mem_107325.references = NULL;
    
    struct memblock_device mem_107323;
    
    mem_107323.references = NULL;
    
    struct memblock_device mem_107369;
    
    mem_107369.references = NULL;
    
    struct memblock_device mem_107367;
    
    mem_107367.references = NULL;
    
    struct memblock_device ext_mem_107373;
    
    ext_mem_107373.references = NULL;
    
    struct memblock_device ext_mem_107374;
    
    ext_mem_107374.references = NULL;
    
    struct memblock_device mem_107320;
    
    mem_107320.references = NULL;
    
    struct memblock_device mem_107318;
    
    mem_107318.references = NULL;
    
    struct memblock_device mem_107316;
    
    mem_107316.references = NULL;
    
    struct memblock_device mem_107389;
    
    mem_107389.references = NULL;
    
    struct memblock_device mem_107386;
    
    mem_107386.references = NULL;
    
    struct memblock_device mem_107384;
    
    mem_107384.references = NULL;
    
    struct memblock_device mem_107383;
    
    mem_107383.references = NULL;
    
    struct memblock_device ext_mem_107391;
    
    ext_mem_107391.references = NULL;
    
    struct memblock_device ext_mem_107392;
    
    ext_mem_107392.references = NULL;
    
    struct memblock_device mem_107313;
    
    mem_107313.references = NULL;
    
    struct memblock_device mem_107311;
    
    mem_107311.references = NULL;
    
    struct memblock_device mem_107309;
    
    mem_107309.references = NULL;
    
    struct memblock_device mem_107417;
    
    mem_107417.references = NULL;
    
    struct memblock_device mem_107414;
    
    mem_107414.references = NULL;
    
    struct memblock_device mem_107412;
    
    mem_107412.references = NULL;
    
    struct memblock_device mem_107411;
    
    mem_107411.references = NULL;
    
    struct memblock_device ext_mem_107419;
    
    ext_mem_107419.references = NULL;
    
    struct memblock_device ext_mem_107420;
    
    ext_mem_107420.references = NULL;
    
    struct memblock_device mem_107306;
    
    mem_107306.references = NULL;
    
    struct memblock_device mem_107304;
    
    mem_107304.references = NULL;
    
    struct memblock_device mem_107302;
    
    mem_107302.references = NULL;
    
    struct memblock_device mem_107459;
    
    mem_107459.references = NULL;
    
    struct memblock_device mem_107456;
    
    mem_107456.references = NULL;
    
    struct memblock_device mem_107454;
    
    mem_107454.references = NULL;
    
    struct memblock_device mem_107453;
    
    mem_107453.references = NULL;
    
    struct memblock_device ext_mem_107461;
    
    ext_mem_107461.references = NULL;
    
    struct memblock_device ext_mem_107462;
    
    ext_mem_107462.references = NULL;
    
    struct memblock_device mem_107299;
    
    mem_107299.references = NULL;
    
    struct memblock_device mem_107297;
    
    mem_107297.references = NULL;
    
    struct memblock_device mem_107295;
    
    mem_107295.references = NULL;
    
    struct memblock_device mem_107519;
    
    mem_107519.references = NULL;
    
    struct memblock_device mem_107516;
    
    mem_107516.references = NULL;
    
    struct memblock_device mem_107514;
    
    mem_107514.references = NULL;
    
    struct memblock_device mem_107513;
    
    mem_107513.references = NULL;
    
    struct memblock_device ext_mem_107521;
    
    ext_mem_107521.references = NULL;
    
    struct memblock_device ext_mem_107522;
    
    ext_mem_107522.references = NULL;
    
    struct memblock_device mem_107292;
    
    mem_107292.references = NULL;
    
    struct memblock_device mem_107290;
    
    mem_107290.references = NULL;
    
    struct memblock_device mem_107288;
    
    mem_107288.references = NULL;
    
    struct memblock_device mem_107285;
    
    mem_107285.references = NULL;
    
    struct memblock_device mem_107602;
    
    mem_107602.references = NULL;
    
    struct memblock_device mem_107599;
    
    mem_107599.references = NULL;
    
    struct memblock_device mem_107597;
    
    mem_107597.references = NULL;
    
    struct memblock_device mem_107596;
    
    mem_107596.references = NULL;
    
    struct memblock_device mem_107523;
    
    mem_107523.references = NULL;
    
    struct memblock_device ext_mem_107604;
    
    ext_mem_107604.references = NULL;
    
    struct memblock_device ext_mem_107605;
    
    ext_mem_107605.references = NULL;
    
    struct memblock_device mem_param_107284;
    
    mem_param_107284.references = NULL;
    
    struct memblock_device mem_param_107279;
    
    mem_param_107279.references = NULL;
    
    struct memblock_device mem_param_107274;
    
    mem_param_107274.references = NULL;
    
    struct memblock_device mem_param_107269;
    
    mem_param_107269.references = NULL;
    
    struct memblock_device mem_param_107264;
    
    mem_param_107264.references = NULL;
    
    struct memblock_device mem_param_107259;
    
    mem_param_107259.references = NULL;
    
    struct memblock_device mem_param_107254;
    
    mem_param_107254.references = NULL;
    
    struct memblock_device ext_mem_107651;
    
    ext_mem_107651.references = NULL;
    
    struct memblock_device ext_mem_107652;
    
    ext_mem_107652.references = NULL;
    
    struct memblock_device ext_mem_107653;
    
    ext_mem_107653.references = NULL;
    
    struct memblock_device ext_mem_107654;
    
    ext_mem_107654.references = NULL;
    
    struct memblock_device ext_mem_107655;
    
    ext_mem_107655.references = NULL;
    
    struct memblock_device ext_mem_107656;
    
    ext_mem_107656.references = NULL;
    
    struct memblock_device ext_mem_107657;
    
    ext_mem_107657.references = NULL;
    
    struct memblock_device mem_107608;
    
    mem_107608.references = NULL;
    
    struct memblock_device mem_107249;
    
    mem_107249.references = NULL;
    
    struct memblock_device mem_107247;
    
    mem_107247.references = NULL;
    
    struct memblock_device mem_107245;
    
    mem_107245.references = NULL;
    
    struct memblock_device mem_107242;
    
    mem_107242.references = NULL;
    
    struct memblock_device mem_107239;
    
    mem_107239.references = NULL;
    
    struct memblock_device mem_107236;
    
    mem_107236.references = NULL;
    
    struct memblock_device mem_107233;
    
    mem_107233.references = NULL;
    
    struct memblock_device mem_107230;
    
    mem_107230.references = NULL;
    
    struct memblock_device mem_107229;
    
    mem_107229.references = NULL;
    
    struct memblock_device mem_107222;
    
    mem_107222.references = NULL;
    
    struct memblock_device mem_107219;
    
    mem_107219.references = NULL;
    
    struct memblock_device mem_107216;
    
    mem_107216.references = NULL;
    
    struct memblock_device mem_107213;
    
    mem_107213.references = NULL;
    
    struct memblock_device mem_107211;
    
    mem_107211.references = NULL;
    
    struct memblock_device mem_107209;
    
    mem_107209.references = NULL;
    counters_mem_108343.references = NULL;
    counters_mem_108439.references = NULL;
    mem_107226.references = NULL;
    if (memblock_alloc_device(ctx, &counters_mem_108343, (int64_t) 40960, "counters_mem_108343")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_108343, (int64_t) 10240, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &counters_mem_108439, (int64_t) 40, "counters_mem_108439")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i32(ctx, counters_mem_108439, (int64_t) 10, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_107209, (int64_t) 2, "mem_107209")) {
        err = 1;
        goto cleanup;
    }
    
    struct memblock static_array_107703 = (struct memblock) {NULL, (unsigned char *) static_array_realtype_108475, 0, "static_array_107703"};
    
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_host_to_dev_runs, &ctx->program->copy_host_to_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyHtoD(mem_107209.mem + (int64_t) 0, static_array_107703.mem + (int64_t) 0, (int64_t) 2));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (memblock_alloc_device(ctx, &mem_107211, (int64_t) 16, "mem_107211")) {
        err = 1;
        goto cleanup;
    }
    
    struct memblock static_array_107704 = (struct memblock) {NULL, (unsigned char *) static_array_realtype_108476, 0, "static_array_107704"};
    
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_host_to_dev_runs, &ctx->program->copy_host_to_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyHtoD(mem_107211.mem + (int64_t) 0, static_array_107704.mem + (int64_t) 0, (int64_t) 16));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (memblock_alloc_device(ctx, &mem_107213, (int64_t) 16, "mem_107213")) {
        err = 1;
        goto cleanup;
    }
    
    struct memblock static_array_107705 = (struct memblock) {NULL, (unsigned char *) static_array_realtype_108477, 0, "static_array_107705"};
    
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_host_to_dev_runs, &ctx->program->copy_host_to_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyHtoD(mem_107213.mem + (int64_t) 0, static_array_107705.mem + (int64_t) 0, (int64_t) 16));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    
    int64_t segmap_group_sizze_24673;
    
    segmap_group_sizze_24673 = *ctx->tuning_params.segmap_group_sizze_24462;
    
    int64_t segmap_usable_groups_24674 = sdiv_up64((int64_t) 512, segmap_group_sizze_24673);
    
    if (memblock_alloc_device(ctx, &mem_107216, (int64_t) 512, "mem_107216")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_groups_107706 = sext_i64_i32(sdiv_up64((int64_t) 512, segmap_group_sizze_24673));
    CUdeviceptr kernel_arg_108481 = mem_107209.mem;
    CUdeviceptr kernel_arg_108482 = mem_107216.mem;
    
    if ((((((1 && segmap_usable_groups_24674 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_24462 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = segmap_usable_groups_24674;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108478[] = {&ctx->global_failure, &kernel_arg_108481, &kernel_arg_108482};
        int64_t time_start_108479 = 0, time_end_108480 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_24679", (long) segmap_usable_groups_24674, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_24462, (long) 1, (long) 1, (int) 0);
            time_start_108479 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->segmap_24679_runs, &ctx->program->segmap_24679_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_24679, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_24462, 1, 1, 0, NULL, kernel_args_108478, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108480 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_24679", time_end_108480 - time_start_108479);
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t segmap_group_sizze_24693;
    
    segmap_group_sizze_24693 = *ctx->tuning_params.segmap_group_sizze_24376;
    
    int64_t segmap_usable_groups_24694 = sdiv_up64((int64_t) 1024, segmap_group_sizze_24693);
    
    if (memblock_alloc_device(ctx, &mem_107219, (int64_t) 1024, "mem_107219")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_groups_107719 = sext_i64_i32(sdiv_up64((int64_t) 1024, segmap_group_sizze_24693));
    CUdeviceptr kernel_arg_108486 = mem_107209.mem;
    CUdeviceptr kernel_arg_108487 = mem_107219.mem;
    
    if ((((((1 && segmap_usable_groups_24694 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_24376 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = segmap_usable_groups_24694;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108483[] = {&ctx->global_failure, &kernel_arg_108486, &kernel_arg_108487};
        int64_t time_start_108484 = 0, time_end_108485 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_24700", (long) segmap_usable_groups_24694, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_24376, (long) 1, (long) 1, (int) 0);
            time_start_108484 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->segmap_24700_runs, &ctx->program->segmap_24700_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_24700, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_24376, 1, 1, 0, NULL, kernel_args_108483, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108485 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_24700", time_end_108485 - time_start_108484);
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t segmap_group_sizze_24715;
    
    segmap_group_sizze_24715 = *ctx->tuning_params.segmap_group_sizze_24314;
    
    int64_t segmap_usable_groups_24716 = sdiv_up64((int64_t) 16384, segmap_group_sizze_24715);
    
    if (memblock_alloc_device(ctx, &mem_107222, (int64_t) 16384, "mem_107222")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_groups_107734 = sext_i64_i32(sdiv_up64((int64_t) 16384, segmap_group_sizze_24715));
    CUdeviceptr kernel_arg_108491 = mem_107211.mem;
    CUdeviceptr kernel_arg_108492 = mem_107216.mem;
    CUdeviceptr kernel_arg_108493 = mem_107219.mem;
    CUdeviceptr kernel_arg_108494 = mem_107222.mem;
    
    if ((((((1 && segmap_usable_groups_24716 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_24314 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = segmap_usable_groups_24716;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108488[] = {&ctx->global_failure, &kernel_arg_108491, &kernel_arg_108492, &kernel_arg_108493, &kernel_arg_108494};
        int64_t time_start_108489 = 0, time_end_108490 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_24723", (long) segmap_usable_groups_24716, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_24314, (long) 1, (long) 1, (int) 0);
            time_start_108489 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->segmap_24723_runs, &ctx->program->segmap_24723_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_24723, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_24314, 1, 1, 0, NULL, kernel_args_108488, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108490 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_24723", time_end_108490 - time_start_108489);
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_107216, "mem_107216") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107219, "mem_107219") != 0)
        return 1;
    
    int64_t segmap_group_sizze_24744;
    
    segmap_group_sizze_24744 = *ctx->tuning_params.segmap_group_sizze_24270;
    
    int64_t num_groups_24745;
    int32_t max_num_groups_107751;
    
    max_num_groups_107751 = *ctx->tuning_params.segmap_num_groups_24272;
    num_groups_24745 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64((int64_t) 1024, segmap_group_sizze_24744), sext_i32_i64(max_num_groups_107751))));
    if (memblock_alloc_device(ctx, &mem_107226, (int64_t) 4096, "mem_107226")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_groups_107752 = sext_i64_i32(sdiv_up64((int64_t) 1024, segmap_group_sizze_24744));
    CUdeviceptr kernel_arg_108498 = mem_107209.mem;
    CUdeviceptr kernel_arg_108499 = mem_107211.mem;
    CUdeviceptr kernel_arg_108500 = mem_107226.mem;
    
    if ((((((1 && num_groups_24745 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_24270 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = num_groups_24745;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108495[] = {&ctx->global_failure, &num_groups_24745, &virt_num_groups_107752, &kernel_arg_108498, &kernel_arg_108499, &kernel_arg_108500};
        int64_t time_start_108496 = 0, time_end_108497 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_24752", (long) num_groups_24745, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_24270, (long) 1, (long) 1, (int) 0);
            time_start_108496 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->segmap_24752_runs, &ctx->program->segmap_24752_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_24752, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_24270, 1, 1, 0, NULL, kernel_args_108495, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108497 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_24752", time_end_108497 - time_start_108496);
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_107209, "mem_107209") != 0)
        return 1;
    
    int64_t segmap_group_sizze_24785;
    
    segmap_group_sizze_24785 = *ctx->tuning_params.segmap_group_sizze_24767;
    
    int64_t num_groups_24786;
    int32_t max_num_groups_107773;
    
    max_num_groups_107773 = *ctx->tuning_params.segmap_num_groups_24769;
    num_groups_24786 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64((int64_t) 512, segmap_group_sizze_24785), sext_i32_i64(max_num_groups_107773))));
    if (memblock_alloc_device(ctx, &mem_107229, (int64_t) 32768, "mem_107229")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_groups_107774 = sext_i64_i32(sdiv_up64((int64_t) 512, segmap_group_sizze_24785));
    CUdeviceptr kernel_arg_108504 = mem_107229.mem;
    
    if ((((((1 && num_groups_24786 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_24767 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = num_groups_24786;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108501[] = {&ctx->global_failure, &num_groups_24786, &virt_num_groups_107774, &kernel_arg_108504};
        int64_t time_start_108502 = 0, time_end_108503 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_24790", (long) num_groups_24786, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_24767, (long) 1, (long) 1, (int) 0);
            time_start_108502 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->segmap_24790_runs, &ctx->program->segmap_24790_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_24790, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_24767, 1, 1, 0, NULL, kernel_args_108501, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108503 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_24790", time_end_108503 - time_start_108502);
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t segmap_group_sizze_25796;
    
    segmap_group_sizze_25796 = *ctx->tuning_params.segmap_group_sizze_25496;
    
    int64_t segmap_usable_groups_25797 = sdiv_up64((int64_t) 2097152, segmap_group_sizze_25796);
    
    if (memblock_alloc_device(ctx, &mem_107230, (int64_t) 32768, "mem_107230")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_107230, (int64_t) 0, mem_107229, (int64_t) 0, (int64_t) 1, (int64_t) 512, (int64_t) 8) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_107233, (int64_t) 16777216, "mem_107233")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_groups_107789 = sext_i64_i32(sdiv_up64((int64_t) 2097152, segmap_group_sizze_25796));
    CUdeviceptr kernel_arg_108508 = mem_107230.mem;
    CUdeviceptr kernel_arg_108509 = mem_107233.mem;
    
    if ((((((1 && segmap_usable_groups_25797 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_25496 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = segmap_usable_groups_25797;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108505[] = {&ctx->global_failure, &kernel_arg_108508, &kernel_arg_108509};
        int64_t time_start_108506 = 0, time_end_108507 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_25802", (long) segmap_usable_groups_25797, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_25496, (long) 1, (long) 1, (int) 0);
            time_start_108506 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->segmap_25802_runs, &ctx->program->segmap_25802_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_25802, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_25496, 1, 1, 0, NULL, kernel_args_108505, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108507 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_25802", time_end_108507 - time_start_108506);
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t segmap_group_sizze_25832;
    
    segmap_group_sizze_25832 = *ctx->tuning_params.segmap_group_sizze_25287;
    
    int64_t segmap_usable_groups_25833 = sdiv_up64((int64_t) 1073741824, segmap_group_sizze_25832);
    
    if (memblock_alloc_device(ctx, &mem_107236, (int64_t) 8589934592, "mem_107236")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_groups_107802 = sext_i64_i32(sdiv_up64((int64_t) 1073741824, segmap_group_sizze_25832));
    CUdeviceptr kernel_arg_108513 = mem_107230.mem;
    CUdeviceptr kernel_arg_108514 = mem_107236.mem;
    
    if ((((((1 && segmap_usable_groups_25833 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_25287 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = segmap_usable_groups_25833;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108510[] = {&ctx->global_failure, &kernel_arg_108513, &kernel_arg_108514};
        int64_t time_start_108511 = 0, time_end_108512 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_25839", (long) segmap_usable_groups_25833, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_25287, (long) 1, (long) 1, (int) 0);
            time_start_108511 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->segmap_25839_runs, &ctx->program->segmap_25839_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_25839, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_25287, 1, 1, 0, NULL, kernel_args_108510, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108512 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_25839", time_end_108512 - time_start_108511);
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t segmap_group_sizze_25874;
    
    segmap_group_sizze_25874 = *ctx->tuning_params.segmap_group_sizze_25110;
    
    int64_t segmap_usable_groups_25875 = sdiv_up64((int64_t) 549755813888, segmap_group_sizze_25874);
    
    if (memblock_alloc_device(ctx, &mem_107239, (int64_t) 4398046511104, "mem_107239")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_groups_107817 = sext_i64_i32(sdiv_up64((int64_t) 549755813888, segmap_group_sizze_25874));
    CUdeviceptr kernel_arg_108518 = mem_107230.mem;
    CUdeviceptr kernel_arg_108519 = mem_107239.mem;
    
    if ((((((1 && segmap_usable_groups_25875 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_25110 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = segmap_usable_groups_25875;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108515[] = {&ctx->global_failure, &kernel_arg_108518, &kernel_arg_108519};
        int64_t time_start_108516 = 0, time_end_108517 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_25882", (long) segmap_usable_groups_25875, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_25110, (long) 1, (long) 1, (int) 0);
            time_start_108516 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->segmap_25882_runs, &ctx->program->segmap_25882_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_25882, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_25110, 1, 1, 0, NULL, kernel_args_108515, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108517 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_25882", time_end_108517 - time_start_108516);
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t segmap_group_sizze_25922;
    
    segmap_group_sizze_25922 = *ctx->tuning_params.segmap_group_sizze_24971;
    
    int64_t segmap_usable_groups_25923 = sdiv_up64((int64_t) 281474976710656, segmap_group_sizze_25922);
    
    if (memblock_alloc_device(ctx, &mem_107242, (int64_t) 2251799813685248, "mem_107242")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_groups_107834 = sext_i64_i32(sdiv_up64((int64_t) 281474976710656, segmap_group_sizze_25922));
    CUdeviceptr kernel_arg_108523 = mem_107230.mem;
    CUdeviceptr kernel_arg_108524 = mem_107242.mem;
    
    if ((((((1 && segmap_usable_groups_25923 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_24971 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = segmap_usable_groups_25923;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108520[] = {&ctx->global_failure, &kernel_arg_108523, &kernel_arg_108524};
        int64_t time_start_108521 = 0, time_end_108522 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_25931", (long) segmap_usable_groups_25923, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_24971, (long) 1, (long) 1, (int) 0);
            time_start_108521 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->segmap_25931_runs, &ctx->program->segmap_25931_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_25931, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_24971, 1, 1, 0, NULL, kernel_args_108520, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108522 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_25931", time_end_108522 - time_start_108521);
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    
    int64_t segmap_group_sizze_25954;
    
    segmap_group_sizze_25954 = *ctx->tuning_params.segmap_group_sizze_24899;
    
    int64_t num_groups_25955;
    int32_t max_num_groups_107853;
    
    max_num_groups_107853 = *ctx->tuning_params.segmap_num_groups_24901;
    num_groups_25955 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64((int64_t) 18014398509481984, segmap_group_sizze_25954), sext_i32_i64(max_num_groups_107853))));
    if (memblock_alloc_device(ctx, &mem_107245, (int64_t) 6917529027641081856, "mem_107245")) {
        err = 1;
        goto cleanup;
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "\n# SegMap");
    
    int32_t virt_num_groups_107854 = sext_i64_i32(sdiv_up64((int64_t) 18014398509481984, segmap_group_sizze_25954));
    CUdeviceptr kernel_arg_108528 = mem_107229.mem;
    CUdeviceptr kernel_arg_108529 = mem_107230.mem;
    CUdeviceptr kernel_arg_108530 = mem_107233.mem;
    CUdeviceptr kernel_arg_108531 = mem_107236.mem;
    CUdeviceptr kernel_arg_108532 = mem_107239.mem;
    CUdeviceptr kernel_arg_108533 = mem_107242.mem;
    CUdeviceptr kernel_arg_108534 = mem_107245.mem;
    
    if ((((((1 && num_groups_25955 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_24899 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = num_groups_25955;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108525[] = {&ctx->global_failure, &num_groups_25955, &virt_num_groups_107854, &kernel_arg_108528, &kernel_arg_108529, &kernel_arg_108530, &kernel_arg_108531, &kernel_arg_108532, &kernel_arg_108533, &kernel_arg_108534};
        int64_t time_start_108526 = 0, time_end_108527 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_25964", (long) num_groups_25955, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_24899, (long) 1, (long) 1, (int) 0);
            time_start_108526 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->segmap_25964_runs, &ctx->program->segmap_25964_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_25964, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_24899, 1, 1, 0, NULL, kernel_args_108525, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108527 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_25964", time_end_108527 - time_start_108526);
        }
    }
    if (ctx->debugging)
        fprintf(ctx->log, "%s\n", "");
    if (memblock_unref_device(ctx, &mem_107229, "mem_107229") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107230, "mem_107230") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107233, "mem_107233") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107236, "mem_107236") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107239, "mem_107239") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107242, "mem_107242") != 0)
        return 1;
    
    bool suff_outer_par_25983;
    
    suff_outer_par_25983 = *ctx->tuning_params.suff_outer_par_0 <= (int64_t) 8;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "suff_outer_par_0", (long) (int64_t) 8, suff_outer_par_25983 ? "true" : "false");
    
    int64_t segmap_group_sizze_30961;
    
    segmap_group_sizze_30961 = *ctx->tuning_params.segmap_group_sizze_30949;
    
    int64_t segmap_group_sizze_30976;
    
    segmap_group_sizze_30976 = *ctx->tuning_params.segmap_group_sizze_26358;
    
    int64_t num_groups_30977;
    int32_t max_num_groups_107892;
    
    max_num_groups_107892 = *ctx->tuning_params.segmap_num_groups_26360;
    num_groups_30977 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64((int64_t) 64, segmap_group_sizze_30976), sext_i32_i64(max_num_groups_107892))));
    
    bool suff_outer_par_30981;
    
    suff_outer_par_30981 = *ctx->tuning_params.suff_outer_par_1 <= (int64_t) 64;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "suff_outer_par_1", (long) (int64_t) 64, suff_outer_par_30981 ? "true" : "false");
    
    int64_t segmap_group_sizze_31161;
    
    segmap_group_sizze_31161 = *ctx->tuning_params.segmap_group_sizze_29878;
    
    int64_t segmap_group_sizze_31178;
    
    segmap_group_sizze_31178 = *ctx->tuning_params.segmap_group_sizze_26554;
    
    int64_t num_groups_31179;
    int32_t max_num_groups_107893;
    
    max_num_groups_107893 = *ctx->tuning_params.segmap_num_groups_26556;
    num_groups_31179 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64((int64_t) 512, segmap_group_sizze_31178), sext_i32_i64(max_num_groups_107893))));
    
    bool suff_outer_par_31184;
    
    suff_outer_par_31184 = *ctx->tuning_params.suff_outer_par_2 <= (int64_t) 512;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "suff_outer_par_2", (long) (int64_t) 512, suff_outer_par_31184 ? "true" : "false");
    
    int64_t segmap_group_sizze_31362;
    
    segmap_group_sizze_31362 = *ctx->tuning_params.segmap_group_sizze_29006;
    
    int64_t segmap_group_sizze_31381;
    
    segmap_group_sizze_31381 = *ctx->tuning_params.segmap_group_sizze_26753;
    
    int64_t num_groups_31382;
    int32_t max_num_groups_107894;
    
    max_num_groups_107894 = *ctx->tuning_params.segmap_num_groups_26755;
    num_groups_31382 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64((int64_t) 4096, segmap_group_sizze_31381), sext_i32_i64(max_num_groups_107894))));
    
    bool suff_outer_par_31388;
    
    suff_outer_par_31388 = *ctx->tuning_params.suff_outer_par_3 <= (int64_t) 4096;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "suff_outer_par_3", (long) (int64_t) 4096, suff_outer_par_31388 ? "true" : "false");
    
    int64_t segmap_group_sizze_31564;
    
    segmap_group_sizze_31564 = *ctx->tuning_params.segmap_group_sizze_28334;
    
    int64_t segmap_group_sizze_31585;
    
    segmap_group_sizze_31585 = *ctx->tuning_params.segmap_group_sizze_26955;
    
    int64_t num_groups_31586;
    int32_t max_num_groups_107895;
    
    max_num_groups_107895 = *ctx->tuning_params.segmap_num_groups_26957;
    num_groups_31586 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64((int64_t) 32768, segmap_group_sizze_31585), sext_i32_i64(max_num_groups_107895))));
    
    bool suff_outer_par_31593;
    
    suff_outer_par_31593 = *ctx->tuning_params.suff_outer_par_4 <= (int64_t) 32768;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "suff_outer_par_4", (long) (int64_t) 32768, suff_outer_par_31593 ? "true" : "false");
    
    int64_t segmap_group_sizze_31767;
    
    segmap_group_sizze_31767 = *ctx->tuning_params.segmap_group_sizze_27863;
    
    bool suff_outer_par_31799;
    
    suff_outer_par_31799 = *ctx->tuning_params.suff_outer_par_5 <= (int64_t) 262144;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "suff_outer_par_5", (long) (int64_t) 262144, suff_outer_par_31799 ? "true" : "false");
    
    int64_t segmap_group_sizze_31971;
    
    segmap_group_sizze_31971 = *ctx->tuning_params.segmap_group_sizze_27595;
    
    int64_t segred_group_sizze_31994;
    
    segred_group_sizze_31994 = *ctx->tuning_params.segred_group_sizze_27393;
    
    int64_t num_groups_31995;
    int32_t max_num_groups_107896;
    
    max_num_groups_107896 = *ctx->tuning_params.segred_num_groups_27395;
    num_groups_31995 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64((int64_t) 4194304, segred_group_sizze_31994), sext_i32_i64(max_num_groups_107896))));
    
    int64_t segmap_group_sizze_32186;
    
    segmap_group_sizze_32186 = *ctx->tuning_params.segmap_group_sizze_27348;
    
    int64_t num_groups_32187;
    int32_t max_num_groups_107897;
    
    max_num_groups_107897 = *ctx->tuning_params.segmap_num_groups_27350;
    num_groups_32187 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64((int64_t) 262144, segmap_group_sizze_32186), sext_i32_i64(max_num_groups_107897))));
    
    int64_t segmap_group_sizze_26169;
    
    segmap_group_sizze_26169 = *ctx->tuning_params.segmap_group_sizze_25987;
    
    int64_t num_groups_26170;
    int32_t max_num_groups_107898;
    
    max_num_groups_107898 = *ctx->tuning_params.segmap_num_groups_25989;
    num_groups_26170 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64((int64_t) 8, segmap_group_sizze_26169), sext_i32_i64(max_num_groups_107898))));
    
    int64_t segred_group_sizze_32219;
    
    segred_group_sizze_32219 = *ctx->tuning_params.segred_group_sizze_32218;
    
    int64_t num_groups_32221;
    int32_t max_num_groups_107899;
    
    max_num_groups_107899 = *ctx->tuning_params.segred_num_groups_32220;
    num_groups_32221 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64((int64_t) 262144, segred_group_sizze_32219), sext_i32_i64(max_num_groups_107899))));
    
    int64_t segmap_usable_groups_30962 = sdiv_up_safe64((int64_t) 8, segmap_group_sizze_30961);
    int64_t segmap_usable_groups_31162 = sdiv_up_safe64((int64_t) 64, segmap_group_sizze_31161);
    int64_t segmap_usable_groups_31363 = sdiv_up_safe64((int64_t) 512, segmap_group_sizze_31362);
    int64_t segmap_usable_groups_31565 = sdiv_up_safe64((int64_t) 4096, segmap_group_sizze_31564);
    int64_t segmap_usable_groups_31768 = sdiv_up_safe64((int64_t) 32768, segmap_group_sizze_31767);
    int64_t segmap_usable_groups_31972 = sdiv_up_safe64((int64_t) 262144, segmap_group_sizze_31971);
    int64_t tile_sizze_81846;
    
    tile_sizze_81846 = *ctx->tuning_params.tile_sizze_81845;
    
    int64_t ldim_81847 = sdiv_up_safe64((int64_t) 8, tile_sizze_81846);
    int64_t computed_num_groups_81852 = (int64_t) 32768 * ldim_81847;
    int64_t num_whole_tiles_82883 = squot_safe64((int64_t) 16, tile_sizze_81846);
    int64_t residual_input_83346 = srem_safe64((int64_t) 16, tile_sizze_81846);
    bool cond_83347 = residual_input_83346 == (int64_t) 0;
    int64_t binop_x_83360 = tile_sizze_81846 * num_whole_tiles_82883;
    
    if (memblock_alloc_device(ctx, &mem_107247, (int64_t) 1, "mem_107247")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_bool(ctx, mem_107247, (int64_t) 1, 0) != 0) {
        err = 1;
        goto cleanup;
    }
    if (memblock_alloc_device(ctx, &mem_107249, (int64_t) 2, "mem_107249")) {
        err = 1;
        goto cleanup;
    }
    if (futrts_builtinzhreplicate_i16(ctx, mem_107249, (int64_t) 1, (int16_t) 0) != 0) {
        err = 1;
        goto cleanup;
    }
    
    int64_t bytes_107334 = (int64_t) 8 * tile_sizze_81846;
    int64_t bytes_107343 = smax64((int64_t) 0, tile_sizze_81846);
    int64_t bytes_107364 = (int64_t) 12 * tile_sizze_81846;
    
    if (memblock_alloc_device(ctx, &mem_107608, (int64_t) 8, "mem_107608")) {
        err = 1;
        goto cleanup;
    }
    if (memblock_set_device(ctx, &mem_param_107254, &mem_107247, "mem_107247") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_param_107259, &mem_107249, "mem_107249") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_param_107264, &mem_107249, "mem_107249") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_param_107269, &mem_107249, "mem_107249") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_param_107274, &mem_107249, "mem_107249") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_param_107279, &mem_107249, "mem_107249") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_param_107284, &mem_107249, "mem_107249") != 0)
        return 1;
    for (int64_t i_11852 = 0; i_11852 < (int64_t) 18014398509481984; i_11852++) {
        int64_t binop_x_80583 = (int64_t) 48 * i_11852;
        int64_t binop_x_79069 = (int64_t) 8 + binop_x_80583;
        int64_t binop_x_77554 = (int64_t) 16 + binop_x_80583;
        int64_t binop_x_76039 = (int64_t) 24 + binop_x_80583;
        int64_t binop_x_74524 = (int64_t) 32 + binop_x_80583;
        int64_t binop_x_73009 = (int64_t) 40 + binop_x_80583;
        int32_t local_memory_capacity_108438;
        
        local_memory_capacity_108438 = ctx->max_shared_memory;
        if (suff_outer_par_25983 == 1 && sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_108438))) {
            if (memblock_alloc_device(ctx, &mem_107523, (int64_t) 6917529027641081856, "mem_107523")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_107523, (int64_t) 0, mem_107245, (int64_t) 0, (int64_t) 1, (int64_t) 18014398509481984, (int64_t) 48) != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_107596, (int64_t) 262144, "mem_107596")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_107597, (int64_t) 3145728, "mem_107597")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_groups_107954 = sext_i64_i32(sdiv_up64((int64_t) 8, segmap_group_sizze_26169));
            CUdeviceptr kernel_arg_108538 = mem_107211.mem;
            CUdeviceptr kernel_arg_108539 = mem_107213.mem;
            CUdeviceptr kernel_arg_108540 = mem_107222.mem;
            CUdeviceptr kernel_arg_108541 = mem_107245.mem;
            CUdeviceptr kernel_arg_108542 = mem_107523.mem;
            CUdeviceptr kernel_arg_108543 = mem_107596.mem;
            CUdeviceptr kernel_arg_108544 = mem_107597.mem;
            
            if ((((((1 && num_groups_26170 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_25987 != 0) && 1 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (1 >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (1 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = num_groups_26170;
                grid[perm[1]] = 1;
                grid[perm[2]] = 1;
                
                void *kernel_args_108535[] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &num_groups_26170, &binop_x_73009, &binop_x_74524, &binop_x_76039, &binop_x_77554, &binop_x_79069, &binop_x_80583, &virt_num_groups_107954, &kernel_arg_108538, &kernel_arg_108539, &kernel_arg_108540, &kernel_arg_108541, &kernel_arg_108542, &kernel_arg_108543, &kernel_arg_108544};
                int64_t time_start_108536 = 0, time_end_108537 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_26175", (long) num_groups_26170, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_25987, (long) 1, (long) 1, (int) 0);
                    time_start_108536 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->segmap_26175_runs, &ctx->program->segmap_26175_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_26175, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_25987, 1, 1, 0, NULL, kernel_args_108535, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108537 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_26175", time_end_108537 - time_start_108536);
                }
            }
            ctx->failure_is_an_option = 1;
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_unref_device(ctx, &mem_107523, "mem_107523") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_107599, (int64_t) 262144, "mem_107599")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhgpu_map_transpose_bool(ctx, mem_107599, (int64_t) 0, mem_107596, (int64_t) 0, (int64_t) 1, (int64_t) 8, (int64_t) 32768) != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_107596, "mem_107596") != 0)
                return 1;
            if (memblock_alloc_device(ctx, &mem_107602, (int64_t) 3145728, "mem_107602")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhgpu_map_transpose_i16(ctx, mem_107602, (int64_t) 0, mem_107597, (int64_t) 0, (int64_t) 1, (int64_t) 8, (int64_t) 196608) != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_unref_device(ctx, &mem_107597, "mem_107597") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_107605, &mem_107599, "mem_107599") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_107604, &mem_107602, "mem_107602") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_107285, (int64_t) 6917529027641081856, "mem_107285")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_107285, (int64_t) 0, mem_107245, (int64_t) 0, (int64_t) 1, (int64_t) 18014398509481984, (int64_t) 48) != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_107288, (int64_t) 16, "mem_107288")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_107290, (int64_t) 8, "mem_107290")) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_107292, (int64_t) 64, "mem_107292")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t virt_num_groups_107993 = sext_i64_i32(sdiv_up64((int64_t) 8, segmap_group_sizze_30961));
            CUdeviceptr kernel_arg_108548 = mem_107285.mem;
            CUdeviceptr kernel_arg_108549 = mem_107288.mem;
            CUdeviceptr kernel_arg_108550 = mem_107290.mem;
            CUdeviceptr kernel_arg_108551 = mem_107292.mem;
            
            if ((((((1 && segmap_usable_groups_30962 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_30949 != 0) && 1 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (1 >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (1 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = segmap_usable_groups_30962;
                grid[perm[1]] = 1;
                grid[perm[2]] = 1;
                
                void *kernel_args_108545[] = {&ctx->global_failure, &binop_x_80583, &kernel_arg_108548, &kernel_arg_108549, &kernel_arg_108550, &kernel_arg_108551};
                int64_t time_start_108546 = 0, time_end_108547 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_30967", (long) segmap_usable_groups_30962, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_30949, (long) 1, (long) 1, (int) 0);
                    time_start_108546 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->segmap_30967_runs, &ctx->program->segmap_30967_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_30967, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_30949, 1, 1, 0, NULL, kernel_args_108545, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108547 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_30967", time_end_108547 - time_start_108546);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            
            int32_t local_memory_capacity_108437;
            
            local_memory_capacity_108437 = ctx->max_shared_memory;
            if (suff_outer_par_30981 == 1 && sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_108437))) {
                if (memblock_alloc_device(ctx, &mem_107513, (int64_t) 262144, "mem_107513")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_107514, (int64_t) 3145728, "mem_107514")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_groups_108002 = sext_i64_i32(sdiv_up64((int64_t) 64, segmap_group_sizze_30976));
                CUdeviceptr kernel_arg_108555 = mem_107211.mem;
                CUdeviceptr kernel_arg_108556 = mem_107213.mem;
                CUdeviceptr kernel_arg_108557 = mem_107222.mem;
                CUdeviceptr kernel_arg_108558 = mem_107245.mem;
                CUdeviceptr kernel_arg_108559 = mem_107285.mem;
                CUdeviceptr kernel_arg_108560 = mem_107288.mem;
                CUdeviceptr kernel_arg_108561 = mem_107290.mem;
                CUdeviceptr kernel_arg_108562 = mem_107292.mem;
                CUdeviceptr kernel_arg_108563 = mem_107513.mem;
                CUdeviceptr kernel_arg_108564 = mem_107514.mem;
                
                if ((((((1 && num_groups_30977 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_26358 != 0) && 1 != 0) && 1 != 0) {
                    int perm[3] = {0, 1, 2};
                    
                    if (1 >= 1 << 16) {
                        perm[1] = perm[0];
                        perm[0] = 1;
                    }
                    if (1 >= 1 << 16) {
                        perm[2] = perm[0];
                        perm[0] = 2;
                    }
                    
                    size_t grid[3];
                    
                    grid[perm[0]] = num_groups_30977;
                    grid[perm[1]] = 1;
                    grid[perm[2]] = 1;
                    
                    void *kernel_args_108552[] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &num_groups_30977, &binop_x_73009, &binop_x_74524, &binop_x_76039, &binop_x_77554, &binop_x_79069, &binop_x_80583, &virt_num_groups_108002, &kernel_arg_108555, &kernel_arg_108556, &kernel_arg_108557, &kernel_arg_108558, &kernel_arg_108559, &kernel_arg_108560, &kernel_arg_108561, &kernel_arg_108562, &kernel_arg_108563, &kernel_arg_108564};
                    int64_t time_start_108553 = 0, time_end_108554 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_30988", (long) num_groups_30977, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_26358, (long) 1, (long) 1, (int) 0);
                        time_start_108553 = get_wall_time();
                    }
                    
                    cudaEvent_t *pevents = NULL;
                    
                    if (ctx->profiling && !ctx->profiling_paused) {
                        pevents = cuda_get_events(ctx, &ctx->program->segmap_30988_runs, &ctx->program->segmap_30988_total_runtime);
                        CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                    }
                    CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_30988, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_26358, 1, 1, 0, NULL, kernel_args_108552, NULL));
                    if (pevents != NULL)
                        CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                    if (ctx->debugging) {
                        CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                        time_end_108554 = get_wall_time();
                        fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_30988", time_end_108554 - time_start_108553);
                    }
                }
                ctx->failure_is_an_option = 1;
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_alloc_device(ctx, &mem_107516, (int64_t) 262144, "mem_107516")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhgpu_map_transpose_bool(ctx, mem_107516, (int64_t) 0, mem_107513, (int64_t) 0, (int64_t) 1, (int64_t) 64, (int64_t) 4096) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_107513, "mem_107513") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_107519, (int64_t) 3145728, "mem_107519")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhgpu_map_transpose_i16(ctx, mem_107519, (int64_t) 0, mem_107514, (int64_t) 0, (int64_t) 1, (int64_t) 64, (int64_t) 24576) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_107514, "mem_107514") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_107522, &mem_107516, "mem_107516") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_107521, &mem_107519, "mem_107519") != 0)
                    return 1;
            } else {
                if (memblock_alloc_device(ctx, &mem_107295, (int64_t) 128, "mem_107295")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_107297, (int64_t) 64, "mem_107297")) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_107299, (int64_t) 512, "mem_107299")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_groups_108039 = sext_i64_i32(sdiv_up64((int64_t) 64, segmap_group_sizze_31161));
                CUdeviceptr kernel_arg_108568 = mem_107285.mem;
                CUdeviceptr kernel_arg_108569 = mem_107295.mem;
                CUdeviceptr kernel_arg_108570 = mem_107297.mem;
                CUdeviceptr kernel_arg_108571 = mem_107299.mem;
                
                if ((((((1 && segmap_usable_groups_31162 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_29878 != 0) && 1 != 0) && 1 != 0) {
                    int perm[3] = {0, 1, 2};
                    
                    if (1 >= 1 << 16) {
                        perm[1] = perm[0];
                        perm[0] = 1;
                    }
                    if (1 >= 1 << 16) {
                        perm[2] = perm[0];
                        perm[0] = 2;
                    }
                    
                    size_t grid[3];
                    
                    grid[perm[0]] = segmap_usable_groups_31162;
                    grid[perm[1]] = 1;
                    grid[perm[2]] = 1;
                    
                    void *kernel_args_108565[] = {&ctx->global_failure, &binop_x_79069, &kernel_arg_108568, &kernel_arg_108569, &kernel_arg_108570, &kernel_arg_108571};
                    int64_t time_start_108566 = 0, time_end_108567 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_31168", (long) segmap_usable_groups_31162, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_29878, (long) 1, (long) 1, (int) 0);
                        time_start_108566 = get_wall_time();
                    }
                    
                    cudaEvent_t *pevents = NULL;
                    
                    if (ctx->profiling && !ctx->profiling_paused) {
                        pevents = cuda_get_events(ctx, &ctx->program->segmap_31168_runs, &ctx->program->segmap_31168_total_runtime);
                        CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                    }
                    CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_31168, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_29878, 1, 1, 0, NULL, kernel_args_108565, NULL));
                    if (pevents != NULL)
                        CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                    if (ctx->debugging) {
                        CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                        time_end_108567 = get_wall_time();
                        fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_31168", time_end_108567 - time_start_108566);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                
                int32_t local_memory_capacity_108436;
                
                local_memory_capacity_108436 = ctx->max_shared_memory;
                if (suff_outer_par_31184 == 1 && sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_108436))) {
                    if (memblock_alloc_device(ctx, &mem_107453, (int64_t) 262144, "mem_107453")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_107454, (int64_t) 3145728, "mem_107454")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_groups_108050 = sext_i64_i32(sdiv_up64((int64_t) 512, segmap_group_sizze_31178));
                    CUdeviceptr kernel_arg_108575 = mem_107211.mem;
                    CUdeviceptr kernel_arg_108576 = mem_107213.mem;
                    CUdeviceptr kernel_arg_108577 = mem_107222.mem;
                    CUdeviceptr kernel_arg_108578 = mem_107245.mem;
                    CUdeviceptr kernel_arg_108579 = mem_107285.mem;
                    CUdeviceptr kernel_arg_108580 = mem_107288.mem;
                    CUdeviceptr kernel_arg_108581 = mem_107290.mem;
                    CUdeviceptr kernel_arg_108582 = mem_107292.mem;
                    CUdeviceptr kernel_arg_108583 = mem_107295.mem;
                    CUdeviceptr kernel_arg_108584 = mem_107297.mem;
                    CUdeviceptr kernel_arg_108585 = mem_107299.mem;
                    CUdeviceptr kernel_arg_108586 = mem_107453.mem;
                    CUdeviceptr kernel_arg_108587 = mem_107454.mem;
                    
                    if ((((((1 && num_groups_31179 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_26554 != 0) && 1 != 0) && 1 != 0) {
                        int perm[3] = {0, 1, 2};
                        
                        if (1 >= 1 << 16) {
                            perm[1] = perm[0];
                            perm[0] = 1;
                        }
                        if (1 >= 1 << 16) {
                            perm[2] = perm[0];
                            perm[0] = 2;
                        }
                        
                        size_t grid[3];
                        
                        grid[perm[0]] = num_groups_31179;
                        grid[perm[1]] = 1;
                        grid[perm[2]] = 1;
                        
                        void *kernel_args_108572[] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &num_groups_31179, &binop_x_73009, &binop_x_74524, &binop_x_76039, &binop_x_77554, &binop_x_79069, &binop_x_80583, &virt_num_groups_108050, &kernel_arg_108575, &kernel_arg_108576, &kernel_arg_108577, &kernel_arg_108578, &kernel_arg_108579, &kernel_arg_108580, &kernel_arg_108581, &kernel_arg_108582, &kernel_arg_108583, &kernel_arg_108584, &kernel_arg_108585, &kernel_arg_108586, &kernel_arg_108587};
                        int64_t time_start_108573 = 0, time_end_108574 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_31192", (long) num_groups_31179, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_26554, (long) 1, (long) 1, (int) 0);
                            time_start_108573 = get_wall_time();
                        }
                        
                        cudaEvent_t *pevents = NULL;
                        
                        if (ctx->profiling && !ctx->profiling_paused) {
                            pevents = cuda_get_events(ctx, &ctx->program->segmap_31192_runs, &ctx->program->segmap_31192_total_runtime);
                            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                        }
                        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_31192, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_26554, 1, 1, 0, NULL, kernel_args_108572, NULL));
                        if (pevents != NULL)
                            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                        if (ctx->debugging) {
                            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                            time_end_108574 = get_wall_time();
                            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_31192", time_end_108574 - time_start_108573);
                        }
                    }
                    ctx->failure_is_an_option = 1;
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_alloc_device(ctx, &mem_107456, (int64_t) 262144, "mem_107456")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhgpu_map_transpose_bool(ctx, mem_107456, (int64_t) 0, mem_107453, (int64_t) 0, (int64_t) 1, (int64_t) 512, (int64_t) 512) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_107453, "mem_107453") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_107459, (int64_t) 3145728, "mem_107459")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhgpu_map_transpose_i16(ctx, mem_107459, (int64_t) 0, mem_107454, (int64_t) 0, (int64_t) 1, (int64_t) 512, (int64_t) 3072) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_107454, "mem_107454") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_107462, &mem_107456, "mem_107456") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_107461, &mem_107459, "mem_107459") != 0)
                        return 1;
                } else {
                    if (memblock_alloc_device(ctx, &mem_107302, (int64_t) 1024, "mem_107302")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_107304, (int64_t) 512, "mem_107304")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_107306, (int64_t) 4096, "mem_107306")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_groups_108085 = sext_i64_i32(sdiv_up64((int64_t) 512, segmap_group_sizze_31362));
                    CUdeviceptr kernel_arg_108591 = mem_107285.mem;
                    CUdeviceptr kernel_arg_108592 = mem_107302.mem;
                    CUdeviceptr kernel_arg_108593 = mem_107304.mem;
                    CUdeviceptr kernel_arg_108594 = mem_107306.mem;
                    
                    if ((((((1 && segmap_usable_groups_31363 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_29006 != 0) && 1 != 0) && 1 != 0) {
                        int perm[3] = {0, 1, 2};
                        
                        if (1 >= 1 << 16) {
                            perm[1] = perm[0];
                            perm[0] = 1;
                        }
                        if (1 >= 1 << 16) {
                            perm[2] = perm[0];
                            perm[0] = 2;
                        }
                        
                        size_t grid[3];
                        
                        grid[perm[0]] = segmap_usable_groups_31363;
                        grid[perm[1]] = 1;
                        grid[perm[2]] = 1;
                        
                        void *kernel_args_108588[] = {&ctx->global_failure, &binop_x_77554, &kernel_arg_108591, &kernel_arg_108592, &kernel_arg_108593, &kernel_arg_108594};
                        int64_t time_start_108589 = 0, time_end_108590 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_31370", (long) segmap_usable_groups_31363, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_29006, (long) 1, (long) 1, (int) 0);
                            time_start_108589 = get_wall_time();
                        }
                        
                        cudaEvent_t *pevents = NULL;
                        
                        if (ctx->profiling && !ctx->profiling_paused) {
                            pevents = cuda_get_events(ctx, &ctx->program->segmap_31370_runs, &ctx->program->segmap_31370_total_runtime);
                            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                        }
                        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_31370, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_29006, 1, 1, 0, NULL, kernel_args_108588, NULL));
                        if (pevents != NULL)
                            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                        if (ctx->debugging) {
                            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                            time_end_108590 = get_wall_time();
                            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_31370", time_end_108590 - time_start_108589);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    
                    int32_t local_memory_capacity_108435;
                    
                    local_memory_capacity_108435 = ctx->max_shared_memory;
                    if (suff_outer_par_31388 == 1 && sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_108435))) {
                        if (memblock_alloc_device(ctx, &mem_107411, (int64_t) 262144, "mem_107411")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_107412, (int64_t) 3145728, "mem_107412")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_groups_108098 = sext_i64_i32(sdiv_up64((int64_t) 4096, segmap_group_sizze_31381));
                        CUdeviceptr kernel_arg_108598 = mem_107211.mem;
                        CUdeviceptr kernel_arg_108599 = mem_107213.mem;
                        CUdeviceptr kernel_arg_108600 = mem_107222.mem;
                        CUdeviceptr kernel_arg_108601 = mem_107245.mem;
                        CUdeviceptr kernel_arg_108602 = mem_107285.mem;
                        CUdeviceptr kernel_arg_108603 = mem_107288.mem;
                        CUdeviceptr kernel_arg_108604 = mem_107290.mem;
                        CUdeviceptr kernel_arg_108605 = mem_107292.mem;
                        CUdeviceptr kernel_arg_108606 = mem_107295.mem;
                        CUdeviceptr kernel_arg_108607 = mem_107297.mem;
                        CUdeviceptr kernel_arg_108608 = mem_107299.mem;
                        CUdeviceptr kernel_arg_108609 = mem_107302.mem;
                        CUdeviceptr kernel_arg_108610 = mem_107304.mem;
                        CUdeviceptr kernel_arg_108611 = mem_107306.mem;
                        CUdeviceptr kernel_arg_108612 = mem_107411.mem;
                        CUdeviceptr kernel_arg_108613 = mem_107412.mem;
                        
                        if ((((((1 && num_groups_31382 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_26753 != 0) && 1 != 0) && 1 != 0) {
                            int perm[3] = {0, 1, 2};
                            
                            if (1 >= 1 << 16) {
                                perm[1] = perm[0];
                                perm[0] = 1;
                            }
                            if (1 >= 1 << 16) {
                                perm[2] = perm[0];
                                perm[0] = 2;
                            }
                            
                            size_t grid[3];
                            
                            grid[perm[0]] = num_groups_31382;
                            grid[perm[1]] = 1;
                            grid[perm[2]] = 1;
                            
                            void *kernel_args_108595[] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &num_groups_31382, &binop_x_73009, &binop_x_74524, &binop_x_76039, &binop_x_77554, &binop_x_79069, &binop_x_80583, &virt_num_groups_108098, &kernel_arg_108598, &kernel_arg_108599, &kernel_arg_108600, &kernel_arg_108601, &kernel_arg_108602, &kernel_arg_108603, &kernel_arg_108604, &kernel_arg_108605, &kernel_arg_108606, &kernel_arg_108607, &kernel_arg_108608, &kernel_arg_108609, &kernel_arg_108610, &kernel_arg_108611, &kernel_arg_108612, &kernel_arg_108613};
                            int64_t time_start_108596 = 0, time_end_108597 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_31397", (long) num_groups_31382, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_26753, (long) 1, (long) 1, (int) 0);
                                time_start_108596 = get_wall_time();
                            }
                            
                            cudaEvent_t *pevents = NULL;
                            
                            if (ctx->profiling && !ctx->profiling_paused) {
                                pevents = cuda_get_events(ctx, &ctx->program->segmap_31397_runs, &ctx->program->segmap_31397_total_runtime);
                                CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                            }
                            CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_31397, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_26753, 1, 1, 0, NULL, kernel_args_108595, NULL));
                            if (pevents != NULL)
                                CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                            if (ctx->debugging) {
                                CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                                time_end_108597 = get_wall_time();
                                fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_31397", time_end_108597 - time_start_108596);
                            }
                        }
                        ctx->failure_is_an_option = 1;
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_alloc_device(ctx, &mem_107414, (int64_t) 262144, "mem_107414")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (futrts_builtinzhgpu_map_transpose_bool(ctx, mem_107414, (int64_t) 0, mem_107411, (int64_t) 0, (int64_t) 1, (int64_t) 4096, (int64_t) 64) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_107411, "mem_107411") != 0)
                            return 1;
                        if (memblock_alloc_device(ctx, &mem_107417, (int64_t) 3145728, "mem_107417")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (futrts_builtinzhgpu_map_transpose_i16(ctx, mem_107417, (int64_t) 0, mem_107412, (int64_t) 0, (int64_t) 1, (int64_t) 4096, (int64_t) 384) != 0) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_unref_device(ctx, &mem_107412, "mem_107412") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_107420, &mem_107414, "mem_107414") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_107419, &mem_107417, "mem_107417") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_107309, (int64_t) 8192, "mem_107309")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_107311, (int64_t) 4096, "mem_107311")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_107313, (int64_t) 32768, "mem_107313")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_groups_108131 = sext_i64_i32(sdiv_up64((int64_t) 4096, segmap_group_sizze_31564));
                        CUdeviceptr kernel_arg_108617 = mem_107285.mem;
                        CUdeviceptr kernel_arg_108618 = mem_107309.mem;
                        CUdeviceptr kernel_arg_108619 = mem_107311.mem;
                        CUdeviceptr kernel_arg_108620 = mem_107313.mem;
                        
                        if ((((((1 && segmap_usable_groups_31565 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_28334 != 0) && 1 != 0) && 1 != 0) {
                            int perm[3] = {0, 1, 2};
                            
                            if (1 >= 1 << 16) {
                                perm[1] = perm[0];
                                perm[0] = 1;
                            }
                            if (1 >= 1 << 16) {
                                perm[2] = perm[0];
                                perm[0] = 2;
                            }
                            
                            size_t grid[3];
                            
                            grid[perm[0]] = segmap_usable_groups_31565;
                            grid[perm[1]] = 1;
                            grid[perm[2]] = 1;
                            
                            void *kernel_args_108614[] = {&ctx->global_failure, &binop_x_76039, &kernel_arg_108617, &kernel_arg_108618, &kernel_arg_108619, &kernel_arg_108620};
                            int64_t time_start_108615 = 0, time_end_108616 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_31573", (long) segmap_usable_groups_31565, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_28334, (long) 1, (long) 1, (int) 0);
                                time_start_108615 = get_wall_time();
                            }
                            
                            cudaEvent_t *pevents = NULL;
                            
                            if (ctx->profiling && !ctx->profiling_paused) {
                                pevents = cuda_get_events(ctx, &ctx->program->segmap_31573_runs, &ctx->program->segmap_31573_total_runtime);
                                CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                            }
                            CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_31573, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_28334, 1, 1, 0, NULL, kernel_args_108614, NULL));
                            if (pevents != NULL)
                                CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                            if (ctx->debugging) {
                                CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                                time_end_108616 = get_wall_time();
                                fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_31573", time_end_108616 - time_start_108615);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        
                        int32_t local_memory_capacity_108434;
                        
                        local_memory_capacity_108434 = ctx->max_shared_memory;
                        if (suff_outer_par_31593 == 1 && sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_108434))) {
                            if (memblock_alloc_device(ctx, &mem_107383, (int64_t) 262144, "mem_107383")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_107384, (int64_t) 3145728, "mem_107384")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_groups_108146 = sext_i64_i32(sdiv_up64((int64_t) 32768, segmap_group_sizze_31585));
                            CUdeviceptr kernel_arg_108624 = mem_107211.mem;
                            CUdeviceptr kernel_arg_108625 = mem_107213.mem;
                            CUdeviceptr kernel_arg_108626 = mem_107222.mem;
                            CUdeviceptr kernel_arg_108627 = mem_107245.mem;
                            CUdeviceptr kernel_arg_108628 = mem_107285.mem;
                            CUdeviceptr kernel_arg_108629 = mem_107288.mem;
                            CUdeviceptr kernel_arg_108630 = mem_107290.mem;
                            CUdeviceptr kernel_arg_108631 = mem_107292.mem;
                            CUdeviceptr kernel_arg_108632 = mem_107295.mem;
                            CUdeviceptr kernel_arg_108633 = mem_107297.mem;
                            CUdeviceptr kernel_arg_108634 = mem_107299.mem;
                            CUdeviceptr kernel_arg_108635 = mem_107302.mem;
                            CUdeviceptr kernel_arg_108636 = mem_107304.mem;
                            CUdeviceptr kernel_arg_108637 = mem_107306.mem;
                            CUdeviceptr kernel_arg_108638 = mem_107309.mem;
                            CUdeviceptr kernel_arg_108639 = mem_107311.mem;
                            CUdeviceptr kernel_arg_108640 = mem_107313.mem;
                            CUdeviceptr kernel_arg_108641 = mem_107383.mem;
                            CUdeviceptr kernel_arg_108642 = mem_107384.mem;
                            
                            if ((((((1 && num_groups_31586 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_26955 != 0) && 1 != 0) && 1 != 0) {
                                int perm[3] = {0, 1, 2};
                                
                                if (1 >= 1 << 16) {
                                    perm[1] = perm[0];
                                    perm[0] = 1;
                                }
                                if (1 >= 1 << 16) {
                                    perm[2] = perm[0];
                                    perm[0] = 2;
                                }
                                
                                size_t grid[3];
                                
                                grid[perm[0]] = num_groups_31586;
                                grid[perm[1]] = 1;
                                grid[perm[2]] = 1;
                                
                                void *kernel_args_108621[] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &num_groups_31586, &binop_x_73009, &binop_x_74524, &binop_x_76039, &binop_x_77554, &binop_x_79069, &binop_x_80583, &virt_num_groups_108146, &kernel_arg_108624, &kernel_arg_108625, &kernel_arg_108626, &kernel_arg_108627, &kernel_arg_108628, &kernel_arg_108629, &kernel_arg_108630, &kernel_arg_108631, &kernel_arg_108632, &kernel_arg_108633, &kernel_arg_108634, &kernel_arg_108635, &kernel_arg_108636, &kernel_arg_108637, &kernel_arg_108638, &kernel_arg_108639, &kernel_arg_108640, &kernel_arg_108641, &kernel_arg_108642};
                                int64_t time_start_108622 = 0, time_end_108623 = 0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_31603", (long) num_groups_31586, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_26955, (long) 1, (long) 1, (int) 0);
                                    time_start_108622 = get_wall_time();
                                }
                                
                                cudaEvent_t *pevents = NULL;
                                
                                if (ctx->profiling && !ctx->profiling_paused) {
                                    pevents = cuda_get_events(ctx, &ctx->program->segmap_31603_runs, &ctx->program->segmap_31603_total_runtime);
                                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                                }
                                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_31603, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_26955, 1, 1, 0, NULL, kernel_args_108621, NULL));
                                if (pevents != NULL)
                                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                                if (ctx->debugging) {
                                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                                    time_end_108623 = get_wall_time();
                                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_31603", time_end_108623 - time_start_108622);
                                }
                            }
                            ctx->failure_is_an_option = 1;
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            if (memblock_alloc_device(ctx, &mem_107386, (int64_t) 262144, "mem_107386")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (futrts_builtinzhgpu_map_transpose_bool(ctx, mem_107386, (int64_t) 0, mem_107383, (int64_t) 0, (int64_t) 1, (int64_t) 32768, (int64_t) 8) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_107383, "mem_107383") != 0)
                                return 1;
                            if (memblock_alloc_device(ctx, &mem_107389, (int64_t) 3145728, "mem_107389")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (futrts_builtinzhgpu_map_transpose_i16(ctx, mem_107389, (int64_t) 0, mem_107384, (int64_t) 0, (int64_t) 1, (int64_t) 32768, (int64_t) 48) != 0) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_unref_device(ctx, &mem_107384, "mem_107384") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_107392, &mem_107386, "mem_107386") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_107391, &mem_107389, "mem_107389") != 0)
                                return 1;
                        } else {
                            if (memblock_alloc_device(ctx, &mem_107316, (int64_t) 65536, "mem_107316")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_107318, (int64_t) 32768, "mem_107318")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &mem_107320, (int64_t) 262144, "mem_107320")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegMap");
                            
                            int32_t virt_num_groups_108177 = sext_i64_i32(sdiv_up64((int64_t) 32768, segmap_group_sizze_31767));
                            CUdeviceptr kernel_arg_108646 = mem_107285.mem;
                            CUdeviceptr kernel_arg_108647 = mem_107316.mem;
                            CUdeviceptr kernel_arg_108648 = mem_107318.mem;
                            CUdeviceptr kernel_arg_108649 = mem_107320.mem;
                            
                            if ((((((1 && segmap_usable_groups_31768 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_27863 != 0) && 1 != 0) && 1 != 0) {
                                int perm[3] = {0, 1, 2};
                                
                                if (1 >= 1 << 16) {
                                    perm[1] = perm[0];
                                    perm[0] = 1;
                                }
                                if (1 >= 1 << 16) {
                                    perm[2] = perm[0];
                                    perm[0] = 2;
                                }
                                
                                size_t grid[3];
                                
                                grid[perm[0]] = segmap_usable_groups_31768;
                                grid[perm[1]] = 1;
                                grid[perm[2]] = 1;
                                
                                void *kernel_args_108643[] = {&ctx->global_failure, &binop_x_74524, &kernel_arg_108646, &kernel_arg_108647, &kernel_arg_108648, &kernel_arg_108649};
                                int64_t time_start_108644 = 0, time_end_108645 = 0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_31777", (long) segmap_usable_groups_31768, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_27863, (long) 1, (long) 1, (int) 0);
                                    time_start_108644 = get_wall_time();
                                }
                                
                                cudaEvent_t *pevents = NULL;
                                
                                if (ctx->profiling && !ctx->profiling_paused) {
                                    pevents = cuda_get_events(ctx, &ctx->program->segmap_31777_runs, &ctx->program->segmap_31777_total_runtime);
                                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                                }
                                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_31777, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_27863, 1, 1, 0, NULL, kernel_args_108643, NULL));
                                if (pevents != NULL)
                                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                                if (ctx->debugging) {
                                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                                    time_end_108645 = get_wall_time();
                                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_31777", time_end_108645 - time_start_108644);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                            
                            int32_t local_memory_capacity_108433;
                            
                            local_memory_capacity_108433 = ctx->max_shared_memory;
                            if (suff_outer_par_31799 == 1 && sle64(bytes_107343 + srem64((int64_t) 8 - srem64(bytes_107343, (int64_t) 8), (int64_t) 8) + (bytes_107343 + srem64((int64_t) 8 - srem64(bytes_107343, (int64_t) 8), (int64_t) 8)), sext_i32_i64(local_memory_capacity_108433))) {
                                if (memblock_alloc_device(ctx, &mem_107367, (int64_t) 262144, "mem_107367")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                if (memblock_alloc_device(ctx, &mem_107369, (int64_t) 3145728, "mem_107369")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                if (ctx->debugging)
                                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                                
                                int32_t num_chunks_108194 = sext_i64_i32(sdiv_up64(tile_sizze_81846, tile_sizze_81846));
                                int32_t virt_num_groups_108195 = sext_i64_i32((int64_t) 32768 * ldim_81847);
                                unsigned int shared_sizze_108653 = bytes_107343;
                                unsigned int shared_sizze_108655 = bytes_107343;
                                CUdeviceptr kernel_arg_108657 = mem_107211.mem;
                                CUdeviceptr kernel_arg_108658 = mem_107213.mem;
                                CUdeviceptr kernel_arg_108659 = mem_107222.mem;
                                CUdeviceptr kernel_arg_108660 = mem_107245.mem;
                                CUdeviceptr kernel_arg_108661 = mem_107288.mem;
                                CUdeviceptr kernel_arg_108662 = mem_107290.mem;
                                CUdeviceptr kernel_arg_108663 = mem_107292.mem;
                                CUdeviceptr kernel_arg_108664 = mem_107295.mem;
                                CUdeviceptr kernel_arg_108665 = mem_107297.mem;
                                CUdeviceptr kernel_arg_108666 = mem_107299.mem;
                                CUdeviceptr kernel_arg_108667 = mem_107302.mem;
                                CUdeviceptr kernel_arg_108668 = mem_107304.mem;
                                CUdeviceptr kernel_arg_108669 = mem_107306.mem;
                                CUdeviceptr kernel_arg_108670 = mem_107309.mem;
                                CUdeviceptr kernel_arg_108671 = mem_107311.mem;
                                CUdeviceptr kernel_arg_108672 = mem_107313.mem;
                                CUdeviceptr kernel_arg_108673 = mem_107316.mem;
                                CUdeviceptr kernel_arg_108674 = mem_107318.mem;
                                CUdeviceptr kernel_arg_108675 = mem_107320.mem;
                                CUdeviceptr kernel_arg_108676 = mem_107367.mem;
                                CUdeviceptr kernel_arg_108677 = mem_107369.mem;
                                unsigned int shared_offset_108654 = 0;
                                unsigned int shared_offset_108656 = 0 + (shared_sizze_108653 + (8 - shared_sizze_108653 % 8) % 8);
                                
                                if ((((((1 && computed_num_groups_81852 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.tile_sizze_81845 != 0) && 1 != 0) && 1 != 0) {
                                    int perm[3] = {0, 1, 2};
                                    
                                    if (1 >= 1 << 16) {
                                        perm[1] = perm[0];
                                        perm[0] = 1;
                                    }
                                    if (1 >= 1 << 16) {
                                        perm[2] = perm[0];
                                        perm[0] = 2;
                                    }
                                    
                                    size_t grid[3];
                                    
                                    grid[perm[0]] = computed_num_groups_81852;
                                    grid[perm[1]] = 1;
                                    grid[perm[2]] = 1;
                                    
                                    void *kernel_args_108650[] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &shared_offset_108654, &shared_offset_108656, &binop_x_73009, &binop_x_74524, &binop_x_76039, &binop_x_77554, &binop_x_79069, &binop_x_80583, &kernel_arg_108657, &kernel_arg_108658, &kernel_arg_108659, &kernel_arg_108660, &kernel_arg_108661, &kernel_arg_108662, &kernel_arg_108663, &kernel_arg_108664, &kernel_arg_108665, &kernel_arg_108666, &kernel_arg_108667, &kernel_arg_108668, &kernel_arg_108669, &kernel_arg_108670, &kernel_arg_108671, &kernel_arg_108672, &kernel_arg_108673, &kernel_arg_108674, &kernel_arg_108675, &kernel_arg_108676, &kernel_arg_108677};
                                    int64_t time_start_108651 = 0, time_end_108652 = 0;
                                    
                                    if (ctx->debugging) {
                                        fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_intragroup_81844", (long) computed_num_groups_81852, (long) 1, (long) 1, (long) *ctx->tuning_params.tile_sizze_81845, (long) 1, (long) 1, (int) (0 + (shared_sizze_108653 + (8 - shared_sizze_108653 % 8) % 8) + (shared_sizze_108655 + (8 - shared_sizze_108655 % 8) % 8)));
                                        time_start_108651 = get_wall_time();
                                    }
                                    
                                    cudaEvent_t *pevents = NULL;
                                    
                                    if (ctx->profiling && !ctx->profiling_paused) {
                                        pevents = cuda_get_events(ctx, &ctx->program->segmap_intragroup_81844_runs, &ctx->program->segmap_intragroup_81844_total_runtime);
                                        CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                                    }
                                    CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_intragroup_81844, grid[0], grid[1], grid[2], *ctx->tuning_params.tile_sizze_81845, 1, 1, 0 + (shared_sizze_108653 + (8 - shared_sizze_108653 % 8) % 8) + (shared_sizze_108655 + (8 - shared_sizze_108655 % 8) % 8), NULL, kernel_args_108650, NULL));
                                    if (pevents != NULL)
                                        CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                                    if (ctx->debugging) {
                                        CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                                        time_end_108652 = get_wall_time();
                                        fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_intragroup_81844", time_end_108652 - time_start_108651);
                                    }
                                }
                                ctx->failure_is_an_option = 1;
                                if (ctx->debugging)
                                    fprintf(ctx->log, "%s\n", "");
                                if (memblock_set_device(ctx, &ext_mem_107374, &mem_107367, "mem_107367") != 0)
                                    return 1;
                                if (memblock_set_device(ctx, &ext_mem_107373, &mem_107369, "mem_107369") != 0)
                                    return 1;
                            } else {
                                if (memblock_alloc_device(ctx, &mem_107323, (int64_t) 262144, "mem_107323")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                if (memblock_alloc_device(ctx, &mem_107325, (int64_t) 2097152, "mem_107325")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                if (ctx->debugging)
                                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                                
                                int32_t virt_num_groups_108279 = sext_i64_i32(sdiv_up64((int64_t) 262144, segmap_group_sizze_31971));
                                CUdeviceptr kernel_arg_108681 = mem_107285.mem;
                                CUdeviceptr kernel_arg_108682 = mem_107323.mem;
                                CUdeviceptr kernel_arg_108683 = mem_107325.mem;
                                
                                if ((((((1 && segmap_usable_groups_31972 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_27595 != 0) && 1 != 0) && 1 != 0) {
                                    int perm[3] = {0, 1, 2};
                                    
                                    if (1 >= 1 << 16) {
                                        perm[1] = perm[0];
                                        perm[0] = 1;
                                    }
                                    if (1 >= 1 << 16) {
                                        perm[2] = perm[0];
                                        perm[0] = 2;
                                    }
                                    
                                    size_t grid[3];
                                    
                                    grid[perm[0]] = segmap_usable_groups_31972;
                                    grid[perm[1]] = 1;
                                    grid[perm[2]] = 1;
                                    
                                    void *kernel_args_108678[] = {&ctx->global_failure, &binop_x_73009, &kernel_arg_108681, &kernel_arg_108682, &kernel_arg_108683};
                                    int64_t time_start_108679 = 0, time_end_108680 = 0;
                                    
                                    if (ctx->debugging) {
                                        fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_31981", (long) segmap_usable_groups_31972, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_27595, (long) 1, (long) 1, (int) 0);
                                        time_start_108679 = get_wall_time();
                                    }
                                    
                                    cudaEvent_t *pevents = NULL;
                                    
                                    if (ctx->profiling && !ctx->profiling_paused) {
                                        pevents = cuda_get_events(ctx, &ctx->program->segmap_31981_runs, &ctx->program->segmap_31981_total_runtime);
                                        CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                                    }
                                    CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_31981, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_27595, 1, 1, 0, NULL, kernel_args_108678, NULL));
                                    if (pevents != NULL)
                                        CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                                    if (ctx->debugging) {
                                        CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                                        time_end_108680 = get_wall_time();
                                        fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_31981", time_end_108680 - time_start_108679);
                                    }
                                }
                                if (ctx->debugging)
                                    fprintf(ctx->log, "%s\n", "");
                                if (memblock_alloc_device(ctx, &mem_107328, (int64_t) 262144, "mem_107328")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                if (slt64((int64_t) 32, segred_group_sizze_31994)) {
                                    int64_t segment_sizze_nonzzero_108298 = smax64((int64_t) 1, (int64_t) 16);
                                    int64_t num_threads_108299 = num_groups_31995 * segred_group_sizze_31994;
                                    
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (int64_t) 262144, '\n');
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) (int64_t) 16, '\n');
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s: %llu%c", "segments_per_group", (long long) squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298), '\n');
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s: %llu%c", "required_groups", (long long) sext_i64_i32(sdiv_up64((int64_t) 262144, squot64(segred_group_sizze_31994, segment_sizze_nonzzero_108298))), '\n');
                                    
                                    unsigned int shared_sizze_108687 = segred_group_sizze_31994;
                                    CUdeviceptr kernel_arg_108689 = mem_107211.mem;
                                    CUdeviceptr kernel_arg_108690 = mem_107213.mem;
                                    CUdeviceptr kernel_arg_108691 = mem_107222.mem;
                                    CUdeviceptr kernel_arg_108692 = mem_107285.mem;
                                    CUdeviceptr kernel_arg_108693 = mem_107290.mem;
                                    CUdeviceptr kernel_arg_108694 = mem_107292.mem;
                                    CUdeviceptr kernel_arg_108695 = mem_107297.mem;
                                    CUdeviceptr kernel_arg_108696 = mem_107299.mem;
                                    CUdeviceptr kernel_arg_108697 = mem_107304.mem;
                                    CUdeviceptr kernel_arg_108698 = mem_107306.mem;
                                    CUdeviceptr kernel_arg_108699 = mem_107311.mem;
                                    CUdeviceptr kernel_arg_108700 = mem_107313.mem;
                                    CUdeviceptr kernel_arg_108701 = mem_107318.mem;
                                    CUdeviceptr kernel_arg_108702 = mem_107320.mem;
                                    CUdeviceptr kernel_arg_108703 = mem_107323.mem;
                                    CUdeviceptr kernel_arg_108704 = mem_107325.mem;
                                    CUdeviceptr kernel_arg_108705 = mem_107328.mem;
                                    unsigned int shared_offset_108688 = 0;
                                    
                                    if ((((((1 && num_groups_31995 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segred_group_sizze_27393 != 0) && 1 != 0) && 1 != 0) {
                                        int perm[3] = {0, 1, 2};
                                        
                                        if (1 >= 1 << 16) {
                                            perm[1] = perm[0];
                                            perm[0] = 1;
                                        }
                                        if (1 >= 1 << 16) {
                                            perm[2] = perm[0];
                                            perm[0] = 2;
                                        }
                                        
                                        size_t grid[3];
                                        
                                        grid[perm[0]] = num_groups_31995;
                                        grid[perm[1]] = 1;
                                        grid[perm[2]] = 1;
                                        
                                        void *kernel_args_108684[] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &shared_offset_108688, &num_groups_31995, &binop_x_73009, &binop_x_74524, &binop_x_76039, &binop_x_77554, &binop_x_79069, &binop_x_80583, &segment_sizze_nonzzero_108298, &kernel_arg_108689, &kernel_arg_108690, &kernel_arg_108691, &kernel_arg_108692, &kernel_arg_108693, &kernel_arg_108694, &kernel_arg_108695, &kernel_arg_108696, &kernel_arg_108697, &kernel_arg_108698, &kernel_arg_108699, &kernel_arg_108700, &kernel_arg_108701, &kernel_arg_108702, &kernel_arg_108703, &kernel_arg_108704, &kernel_arg_108705};
                                        int64_t time_start_108685 = 0, time_end_108686 = 0;
                                        
                                        if (ctx->debugging) {
                                            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segred_small_32005", (long) num_groups_31995, (long) 1, (long) 1, (long) *ctx->tuning_params.segred_group_sizze_27393, (long) 1, (long) 1, (int) (0 + (shared_sizze_108687 + (8 - shared_sizze_108687 % 8) % 8)));
                                            time_start_108685 = get_wall_time();
                                        }
                                        
                                        cudaEvent_t *pevents = NULL;
                                        
                                        if (ctx->profiling && !ctx->profiling_paused) {
                                            pevents = cuda_get_events(ctx, &ctx->program->segred_small_32005_runs, &ctx->program->segred_small_32005_total_runtime);
                                            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                                        }
                                        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segred_small_32005, grid[0], grid[1], grid[2], *ctx->tuning_params.segred_group_sizze_27393, 1, 1, 0 + (shared_sizze_108687 + (8 - shared_sizze_108687 % 8) % 8), NULL, kernel_args_108684, NULL));
                                        if (pevents != NULL)
                                            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                                        if (ctx->debugging) {
                                            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                                            time_end_108686 = get_wall_time();
                                            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segred_small_32005", time_end_108686 - time_start_108685);
                                        }
                                    }
                                    ctx->failure_is_an_option = 1;
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s\n", "");
                                } else {
                                    int64_t groups_per_segment_108336 = sdiv_up64(num_groups_31995, smax64((int64_t) 1, (int64_t) 262144));
                                    int64_t elements_per_thread_108337 = sdiv_up64((int64_t) 16, segred_group_sizze_31994 * groups_per_segment_108336);
                                    int64_t virt_num_groups_108338 = groups_per_segment_108336 * (int64_t) 262144;
                                    int64_t num_threads_108339 = num_groups_31995 * segred_group_sizze_31994;
                                    int64_t threads_per_segment_108340 = groups_per_segment_108336 * segred_group_sizze_31994;
                                    
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (int64_t) 262144, '\n');
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) (int64_t) 16, '\n');
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s: %llu%c", "virt_num_groups", (long long) virt_num_groups_108338, '\n');
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s: %llu%c", "num_groups", (long long) num_groups_31995, '\n');
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s: %llu%c", "group_size", (long long) segred_group_sizze_31994, '\n');
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s: %llu%c", "elems_per_thread", (long long) elements_per_thread_108337, '\n');
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s: %llu%c", "groups_per_segment", (long long) groups_per_segment_108336, '\n');
                                    if (memblock_alloc_device(ctx, &segred_tmp_mem_108341, virt_num_groups_108338, "segred_tmp_mem_108341")) {
                                        err = 1;
                                        goto cleanup;
                                    }
                                    
                                    unsigned int shared_sizze_108709 = 1;
                                    unsigned int shared_sizze_108711 = segred_group_sizze_31994;
                                    CUdeviceptr kernel_arg_108713 = mem_107211.mem;
                                    CUdeviceptr kernel_arg_108714 = mem_107213.mem;
                                    CUdeviceptr kernel_arg_108715 = mem_107222.mem;
                                    CUdeviceptr kernel_arg_108716 = mem_107285.mem;
                                    CUdeviceptr kernel_arg_108717 = mem_107290.mem;
                                    CUdeviceptr kernel_arg_108718 = mem_107292.mem;
                                    CUdeviceptr kernel_arg_108719 = mem_107297.mem;
                                    CUdeviceptr kernel_arg_108720 = mem_107299.mem;
                                    CUdeviceptr kernel_arg_108721 = mem_107304.mem;
                                    CUdeviceptr kernel_arg_108722 = mem_107306.mem;
                                    CUdeviceptr kernel_arg_108723 = mem_107311.mem;
                                    CUdeviceptr kernel_arg_108724 = mem_107313.mem;
                                    CUdeviceptr kernel_arg_108725 = mem_107318.mem;
                                    CUdeviceptr kernel_arg_108726 = mem_107320.mem;
                                    CUdeviceptr kernel_arg_108727 = mem_107323.mem;
                                    CUdeviceptr kernel_arg_108728 = mem_107325.mem;
                                    CUdeviceptr kernel_arg_108729 = mem_107328.mem;
                                    CUdeviceptr kernel_arg_108730 = segred_tmp_mem_108341.mem;
                                    CUdeviceptr kernel_arg_108731 = counters_mem_108343.mem;
                                    unsigned int shared_offset_108710 = 0;
                                    unsigned int shared_offset_108712 = 0 + (shared_sizze_108709 + (8 - shared_sizze_108709 % 8) % 8);
                                    
                                    if ((((((1 && num_groups_31995 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segred_group_sizze_27393 != 0) && 1 != 0) && 1 != 0) {
                                        int perm[3] = {0, 1, 2};
                                        
                                        if (1 >= 1 << 16) {
                                            perm[1] = perm[0];
                                            perm[0] = 1;
                                        }
                                        if (1 >= 1 << 16) {
                                            perm[2] = perm[0];
                                            perm[0] = 2;
                                        }
                                        
                                        size_t grid[3];
                                        
                                        grid[perm[0]] = num_groups_31995;
                                        grid[perm[1]] = 1;
                                        grid[perm[2]] = 1;
                                        
                                        void *kernel_args_108706[] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &shared_offset_108710, &shared_offset_108712, &num_groups_31995, &binop_x_73009, &binop_x_74524, &binop_x_76039, &binop_x_77554, &binop_x_79069, &binop_x_80583, &groups_per_segment_108336, &elements_per_thread_108337, &virt_num_groups_108338, &threads_per_segment_108340, &kernel_arg_108713, &kernel_arg_108714, &kernel_arg_108715, &kernel_arg_108716, &kernel_arg_108717, &kernel_arg_108718, &kernel_arg_108719, &kernel_arg_108720, &kernel_arg_108721, &kernel_arg_108722, &kernel_arg_108723, &kernel_arg_108724, &kernel_arg_108725, &kernel_arg_108726, &kernel_arg_108727, &kernel_arg_108728, &kernel_arg_108729, &kernel_arg_108730, &kernel_arg_108731};
                                        int64_t time_start_108707 = 0, time_end_108708 = 0;
                                        
                                        if (ctx->debugging) {
                                            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segred_large_32005", (long) num_groups_31995, (long) 1, (long) 1, (long) *ctx->tuning_params.segred_group_sizze_27393, (long) 1, (long) 1, (int) (0 + (shared_sizze_108709 + (8 - shared_sizze_108709 % 8) % 8) + (shared_sizze_108711 + (8 - shared_sizze_108711 % 8) % 8)));
                                            time_start_108707 = get_wall_time();
                                        }
                                        
                                        cudaEvent_t *pevents = NULL;
                                        
                                        if (ctx->profiling && !ctx->profiling_paused) {
                                            pevents = cuda_get_events(ctx, &ctx->program->segred_large_32005_runs, &ctx->program->segred_large_32005_total_runtime);
                                            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                                        }
                                        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segred_large_32005, grid[0], grid[1], grid[2], *ctx->tuning_params.segred_group_sizze_27393, 1, 1, 0 + (shared_sizze_108709 + (8 - shared_sizze_108709 % 8) % 8) + (shared_sizze_108711 + (8 - shared_sizze_108711 % 8) % 8), NULL, kernel_args_108706, NULL));
                                        if (pevents != NULL)
                                            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                                        if (ctx->debugging) {
                                            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                                            time_end_108708 = get_wall_time();
                                            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segred_large_32005", time_end_108708 - time_start_108707);
                                        }
                                    }
                                    ctx->failure_is_an_option = 1;
                                    if (ctx->debugging)
                                        fprintf(ctx->log, "%s\n", "");
                                }
                                if (memblock_unref_device(ctx, &mem_107323, "mem_107323") != 0)
                                    return 1;
                                if (memblock_unref_device(ctx, &mem_107325, "mem_107325") != 0)
                                    return 1;
                                if (memblock_alloc_device(ctx, &mem_107331, (int64_t) 3145728, "mem_107331")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                if (ctx->debugging)
                                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                                
                                int32_t virt_num_groups_108408 = sext_i64_i32(sdiv_up64((int64_t) 262144, segmap_group_sizze_32186));
                                CUdeviceptr kernel_arg_108735 = mem_107285.mem;
                                CUdeviceptr kernel_arg_108736 = mem_107288.mem;
                                CUdeviceptr kernel_arg_108737 = mem_107295.mem;
                                CUdeviceptr kernel_arg_108738 = mem_107302.mem;
                                CUdeviceptr kernel_arg_108739 = mem_107309.mem;
                                CUdeviceptr kernel_arg_108740 = mem_107316.mem;
                                CUdeviceptr kernel_arg_108741 = mem_107331.mem;
                                
                                if ((((((1 && num_groups_32187 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segmap_group_sizze_27348 != 0) && 1 != 0) && 1 != 0) {
                                    int perm[3] = {0, 1, 2};
                                    
                                    if (1 >= 1 << 16) {
                                        perm[1] = perm[0];
                                        perm[0] = 1;
                                    }
                                    if (1 >= 1 << 16) {
                                        perm[2] = perm[0];
                                        perm[0] = 2;
                                    }
                                    
                                    size_t grid[3];
                                    
                                    grid[perm[0]] = num_groups_32187;
                                    grid[perm[1]] = 1;
                                    grid[perm[2]] = 1;
                                    
                                    void *kernel_args_108732[] = {&ctx->global_failure, &num_groups_32187, &binop_x_73009, &virt_num_groups_108408, &kernel_arg_108735, &kernel_arg_108736, &kernel_arg_108737, &kernel_arg_108738, &kernel_arg_108739, &kernel_arg_108740, &kernel_arg_108741};
                                    int64_t time_start_108733 = 0, time_end_108734 = 0;
                                    
                                    if (ctx->debugging) {
                                        fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segmap_32196", (long) num_groups_32187, (long) 1, (long) 1, (long) *ctx->tuning_params.segmap_group_sizze_27348, (long) 1, (long) 1, (int) 0);
                                        time_start_108733 = get_wall_time();
                                    }
                                    
                                    cudaEvent_t *pevents = NULL;
                                    
                                    if (ctx->profiling && !ctx->profiling_paused) {
                                        pevents = cuda_get_events(ctx, &ctx->program->segmap_32196_runs, &ctx->program->segmap_32196_total_runtime);
                                        CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                                    }
                                    CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segmap_32196, grid[0], grid[1], grid[2], *ctx->tuning_params.segmap_group_sizze_27348, 1, 1, 0, NULL, kernel_args_108732, NULL));
                                    if (pevents != NULL)
                                        CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                                    if (ctx->debugging) {
                                        CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                                        time_end_108734 = get_wall_time();
                                        fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segmap_32196", time_end_108734 - time_start_108733);
                                    }
                                }
                                if (ctx->debugging)
                                    fprintf(ctx->log, "%s\n", "");
                                if (memblock_alloc_device(ctx, &mem_107371, (int64_t) 3145728, "mem_107371")) {
                                    err = 1;
                                    goto cleanup;
                                }
                                if (futrts_builtinzhgpu_map_transpose_i16(ctx, mem_107371, (int64_t) 0, mem_107331, (int64_t) 0, (int64_t) 1, (int64_t) 262144, (int64_t) 6) != 0) {
                                    err = 1;
                                    goto cleanup;
                                }
                                if (memblock_unref_device(ctx, &mem_107331, "mem_107331") != 0)
                                    return 1;
                                if (memblock_set_device(ctx, &ext_mem_107374, &mem_107328, "mem_107328") != 0)
                                    return 1;
                                if (memblock_set_device(ctx, &ext_mem_107373, &mem_107371, "mem_107371") != 0)
                                    return 1;
                            }
                            if (memblock_unref_device(ctx, &mem_107316, "mem_107316") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_107318, "mem_107318") != 0)
                                return 1;
                            if (memblock_unref_device(ctx, &mem_107320, "mem_107320") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_107392, &ext_mem_107374, "ext_mem_107374") != 0)
                                return 1;
                            if (memblock_set_device(ctx, &ext_mem_107391, &ext_mem_107373, "ext_mem_107373") != 0)
                                return 1;
                        }
                        if (memblock_unref_device(ctx, &mem_107309, "mem_107309") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_107311, "mem_107311") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_107313, "mem_107313") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_107420, &ext_mem_107392, "ext_mem_107392") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_107419, &ext_mem_107391, "ext_mem_107391") != 0)
                            return 1;
                    }
                    if (memblock_unref_device(ctx, &mem_107302, "mem_107302") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_107304, "mem_107304") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_107306, "mem_107306") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_107462, &ext_mem_107420, "ext_mem_107420") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_107461, &ext_mem_107419, "ext_mem_107419") != 0)
                        return 1;
                }
                if (memblock_unref_device(ctx, &mem_107295, "mem_107295") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_107297, "mem_107297") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_107299, "mem_107299") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_107522, &ext_mem_107462, "ext_mem_107462") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_107521, &ext_mem_107461, "ext_mem_107461") != 0)
                    return 1;
            }
            if (memblock_unref_device(ctx, &mem_107285, "mem_107285") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_107288, "mem_107288") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_107290, "mem_107290") != 0)
                return 1;
            if (memblock_unref_device(ctx, &mem_107292, "mem_107292") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_107605, &ext_mem_107522, "ext_mem_107522") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_107604, &ext_mem_107521, "ext_mem_107521") != 0)
                return 1;
        }
        if (memblock_alloc_device(ctx, &segred_tmp_mem_108441, (int64_t) 8 * num_groups_32221, "segred_tmp_mem_108441")) {
            err = 1;
            goto cleanup;
        }
        
        int64_t num_threads_108443 = num_groups_32221 * segred_group_sizze_32219;
        
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegRed");
        
        unsigned int shared_sizze_108745 = (int64_t) 8 * segred_group_sizze_32219;
        unsigned int shared_sizze_108747 = 1;
        CUdeviceptr kernel_arg_108749 = ext_mem_107605.mem;
        CUdeviceptr kernel_arg_108750 = mem_107608.mem;
        CUdeviceptr kernel_arg_108751 = counters_mem_108439.mem;
        CUdeviceptr kernel_arg_108752 = segred_tmp_mem_108441.mem;
        unsigned int shared_offset_108746 = 0;
        unsigned int shared_offset_108748 = 0 + (shared_sizze_108745 + (8 - shared_sizze_108745 % 8) % 8);
        
        if ((((((1 && num_groups_32221 != 0) && 1 != 0) && 1 != 0) && *ctx->tuning_params.segred_group_sizze_32218 != 0) && 1 != 0) && 1 != 0) {
            int perm[3] = {0, 1, 2};
            
            if (1 >= 1 << 16) {
                perm[1] = perm[0];
                perm[0] = 1;
            }
            if (1 >= 1 << 16) {
                perm[2] = perm[0];
                perm[0] = 2;
            }
            
            size_t grid[3];
            
            grid[perm[0]] = num_groups_32221;
            grid[perm[1]] = 1;
            grid[perm[2]] = 1;
            
            void *kernel_args_108742[] = {&ctx->global_failure, &shared_offset_108746, &shared_offset_108748, &num_groups_32221, &num_threads_108443, &kernel_arg_108749, &kernel_arg_108750, &kernel_arg_108751, &kernel_arg_108752};
            int64_t time_start_108743 = 0, time_end_108744 = 0;
            
            if (ctx->debugging) {
                fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "segred_nonseg_32226", (long) num_groups_32221, (long) 1, (long) 1, (long) *ctx->tuning_params.segred_group_sizze_32218, (long) 1, (long) 1, (int) (0 + (shared_sizze_108745 + (8 - shared_sizze_108745 % 8) % 8) + (shared_sizze_108747 + (8 - shared_sizze_108747 % 8) % 8)));
                time_start_108743 = get_wall_time();
            }
            
            cudaEvent_t *pevents = NULL;
            
            if (ctx->profiling && !ctx->profiling_paused) {
                pevents = cuda_get_events(ctx, &ctx->program->segred_nonseg_32226_runs, &ctx->program->segred_nonseg_32226_total_runtime);
                CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
            }
            CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->segred_nonseg_32226, grid[0], grid[1], grid[2], *ctx->tuning_params.segred_group_sizze_32218, 1, 1, 0 + (shared_sizze_108745 + (8 - shared_sizze_108745 % 8) % 8) + (shared_sizze_108747 + (8 - shared_sizze_108747 % 8) % 8), NULL, kernel_args_108742, NULL));
            if (pevents != NULL)
                CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
            if (ctx->debugging) {
                CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                time_end_108744 = get_wall_time();
                fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "segred_nonseg_32226", time_end_108744 - time_start_108743);
            }
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_alloc_device(ctx, &mem_107610, (int64_t) 1, "mem_107610")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_107612, (int64_t) 2, "mem_107612")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_107614, (int64_t) 2, "mem_107614")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_107616, (int64_t) 2, "mem_107616")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_107618, (int64_t) 2, "mem_107618")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_107620, (int64_t) 2, "mem_107620")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_107622, (int64_t) 2, "mem_107622")) {
            err = 1;
            goto cleanup;
        }
        
        CUdeviceptr kernel_arg_108756 = ext_mem_107604.mem;
        CUdeviceptr kernel_arg_108757 = ext_mem_107605.mem;
        CUdeviceptr kernel_arg_108758 = mem_107608.mem;
        CUdeviceptr kernel_arg_108759 = mem_107610.mem;
        CUdeviceptr kernel_arg_108760 = mem_107612.mem;
        CUdeviceptr kernel_arg_108761 = mem_107614.mem;
        CUdeviceptr kernel_arg_108762 = mem_107616.mem;
        CUdeviceptr kernel_arg_108763 = mem_107618.mem;
        CUdeviceptr kernel_arg_108764 = mem_107620.mem;
        CUdeviceptr kernel_arg_108765 = mem_107622.mem;
        
        if ((((((1 && (int64_t) 1 != 0) && 1 != 0) && 1 != 0) && (int64_t) 1 != 0) && 1 != 0) && 1 != 0) {
            int perm[3] = {0, 1, 2};
            
            if (1 >= 1 << 16) {
                perm[1] = perm[0];
                perm[0] = 1;
            }
            if (1 >= 1 << 16) {
                perm[2] = perm[0];
                perm[0] = 2;
            }
            
            size_t grid[3];
            
            grid[perm[0]] = (int64_t) 1;
            grid[perm[1]] = 1;
            grid[perm[2]] = 1;
            
            void *kernel_args_108753[] = {&ctx->global_failure, &ctx->failure_is_an_option, &ctx->global_failure_args, &kernel_arg_108756, &kernel_arg_108757, &kernel_arg_108758, &kernel_arg_108759, &kernel_arg_108760, &kernel_arg_108761, &kernel_arg_108762, &kernel_arg_108763, &kernel_arg_108764, &kernel_arg_108765};
            int64_t time_start_108754 = 0, time_end_108755 = 0;
            
            if (ctx->debugging) {
                fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpuseq_108469", (long) (int64_t) 1, (long) 1, (long) 1, (long) (int64_t) 1, (long) 1, (long) 1, (int) 0);
                time_start_108754 = get_wall_time();
            }
            
            cudaEvent_t *pevents = NULL;
            
            if (ctx->profiling && !ctx->profiling_paused) {
                pevents = cuda_get_events(ctx, &ctx->program->gpuseq_108469_runs, &ctx->program->gpuseq_108469_total_runtime);
                CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
            }
            CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpuseq_108469, grid[0], grid[1], grid[2], (int64_t) 1, 1, 1, 0, NULL, kernel_args_108753, NULL));
            if (pevents != NULL)
                CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
            if (ctx->debugging) {
                CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                time_end_108755 = get_wall_time();
                fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpuseq_108469", time_end_108755 - time_start_108754);
            }
        }
        ctx->failure_is_an_option = 1;
        if (memblock_unref_device(ctx, &ext_mem_107604, "ext_mem_107604") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_107605, "ext_mem_107605") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_tmp_107940, &mem_107610, "mem_107610") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_tmp_107941, &mem_107612, "mem_107612") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_tmp_107942, &mem_107614, "mem_107614") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_tmp_107943, &mem_107616, "mem_107616") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_tmp_107944, &mem_107618, "mem_107618") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_tmp_107945, &mem_107620, "mem_107620") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_tmp_107946, &mem_107622, "mem_107622") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_107254, &mem_param_tmp_107940, "mem_param_tmp_107940") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_107259, &mem_param_tmp_107941, "mem_param_tmp_107941") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_107264, &mem_param_tmp_107942, "mem_param_tmp_107942") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_107269, &mem_param_tmp_107943, "mem_param_tmp_107943") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_107274, &mem_param_tmp_107944, "mem_param_tmp_107944") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_107279, &mem_param_tmp_107945, "mem_param_tmp_107945") != 0)
            return 1;
        if (memblock_set_device(ctx, &mem_param_107284, &mem_param_tmp_107946, "mem_param_tmp_107946") != 0)
            return 1;
    }
    if (memblock_set_device(ctx, &ext_mem_107657, &mem_param_107254, "mem_param_107254") != 0)
        return 1;
    if (memblock_set_device(ctx, &ext_mem_107656, &mem_param_107259, "mem_param_107259") != 0)
        return 1;
    if (memblock_set_device(ctx, &ext_mem_107655, &mem_param_107264, "mem_param_107264") != 0)
        return 1;
    if (memblock_set_device(ctx, &ext_mem_107654, &mem_param_107269, "mem_param_107269") != 0)
        return 1;
    if (memblock_set_device(ctx, &ext_mem_107653, &mem_param_107274, "mem_param_107274") != 0)
        return 1;
    if (memblock_set_device(ctx, &ext_mem_107652, &mem_param_107279, "mem_param_107279") != 0)
        return 1;
    if (memblock_set_device(ctx, &ext_mem_107651, &mem_param_107284, "mem_param_107284") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107211, "mem_107211") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107213, "mem_107213") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107222, "mem_107222") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107245, "mem_107245") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107247, "mem_107247") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107249, "mem_107249") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107608, "mem_107608") != 0)
        return 1;
    
    bool read_res_108766;
    
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_scalar_from_dev_runs, &ctx->program->copy_scalar_from_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyDtoH(&read_res_108766, ext_mem_107657.mem + (int64_t) 0 * sizeof(bool), sizeof(bool)));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0)
        return 1;
    main_res_11845 = read_res_108766;
    if (memblock_unref_device(ctx, &ext_mem_107657, "ext_mem_107657") != 0)
        return 1;
    
    int16_t read_res_108767;
    
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_scalar_from_dev_runs, &ctx->program->copy_scalar_from_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyDtoH(&read_res_108767, ext_mem_107656.mem + (int64_t) 0 * sizeof(int16_t), sizeof(int16_t)));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0)
        return 1;
    
    int16_t main_res_11846 = read_res_108767;
    
    if (memblock_unref_device(ctx, &ext_mem_107656, "ext_mem_107656") != 0)
        return 1;
    
    int16_t read_res_108768;
    
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_scalar_from_dev_runs, &ctx->program->copy_scalar_from_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyDtoH(&read_res_108768, ext_mem_107655.mem + (int64_t) 0 * sizeof(int16_t), sizeof(int16_t)));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0)
        return 1;
    
    int16_t main_res_11847 = read_res_108768;
    
    if (memblock_unref_device(ctx, &ext_mem_107655, "ext_mem_107655") != 0)
        return 1;
    
    int16_t read_res_108769;
    
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_scalar_from_dev_runs, &ctx->program->copy_scalar_from_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyDtoH(&read_res_108769, ext_mem_107654.mem + (int64_t) 0 * sizeof(int16_t), sizeof(int16_t)));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0)
        return 1;
    
    int16_t main_res_11848 = read_res_108769;
    
    if (memblock_unref_device(ctx, &ext_mem_107654, "ext_mem_107654") != 0)
        return 1;
    
    int16_t read_res_108770;
    
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_scalar_from_dev_runs, &ctx->program->copy_scalar_from_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyDtoH(&read_res_108770, ext_mem_107653.mem + (int64_t) 0 * sizeof(int16_t), sizeof(int16_t)));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0)
        return 1;
    
    int16_t main_res_11849 = read_res_108770;
    
    if (memblock_unref_device(ctx, &ext_mem_107653, "ext_mem_107653") != 0)
        return 1;
    
    int16_t read_res_108771;
    
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_scalar_from_dev_runs, &ctx->program->copy_scalar_from_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyDtoH(&read_res_108771, ext_mem_107652.mem + (int64_t) 0 * sizeof(int16_t), sizeof(int16_t)));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0)
        return 1;
    
    int16_t main_res_11850 = read_res_108771;
    
    if (memblock_unref_device(ctx, &ext_mem_107652, "ext_mem_107652") != 0)
        return 1;
    
    int16_t read_res_108772;
    
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_scalar_from_dev_runs, &ctx->program->copy_scalar_from_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyDtoH(&read_res_108772, ext_mem_107651.mem + (int64_t) 0 * sizeof(int16_t), sizeof(int16_t)));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (ctx->failure_is_an_option && futhark_context_sync(ctx) != 0)
        return 1;
    
    int16_t main_res_11851 = read_res_108772;
    
    if (memblock_unref_device(ctx, &ext_mem_107651, "ext_mem_107651") != 0)
        return 1;
    triplayer2_12006 = sext_i16_i64(main_res_11846);
    
    bool x_12007 = sle64((int64_t) 0, triplayer2_12006);
    bool y_12008 = slt64(triplayer2_12006, (int64_t) 1024);
    bool bounds_check_12009 = x_12007 && y_12008;
    bool index_certs_12010;
    
    if (!bounds_check_12009) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) triplayer2_12006, "] out of bounds for array of shape [", (long long) (int64_t) 1024, "].", "-> #0  main.fut:87:18-35\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    triplayer3_12012 = sext_i16_i64(main_res_11847);
    
    bool x_12013 = sle64((int64_t) 0, triplayer3_12012);
    bool y_12014 = slt64(triplayer3_12012, (int64_t) 1024);
    bool bounds_check_12015 = x_12013 && y_12014;
    bool index_certs_12016;
    
    if (!bounds_check_12015) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) triplayer3_12012, "] out of bounds for array of shape [", (long long) (int64_t) 1024, "].", "-> #0  main.fut:87:38-55\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    triplayer4_12018 = sext_i16_i64(main_res_11848);
    
    bool x_12019 = sle64((int64_t) 0, triplayer4_12018);
    bool y_12020 = slt64(triplayer4_12018, (int64_t) 1024);
    bool bounds_check_12021 = x_12019 && y_12020;
    bool index_certs_12022;
    
    if (!bounds_check_12021) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) triplayer4_12018, "] out of bounds for array of shape [", (long long) (int64_t) 1024, "].", "-> #0  main.fut:87:58-75\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    triplayer5_12024 = sext_i16_i64(main_res_11849);
    
    bool x_12025 = sle64((int64_t) 0, triplayer5_12024);
    bool y_12026 = slt64(triplayer5_12024, (int64_t) 1024);
    bool bounds_check_12027 = x_12025 && y_12026;
    bool index_certs_12028;
    
    if (!bounds_check_12027) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) triplayer5_12024, "] out of bounds for array of shape [", (long long) (int64_t) 1024, "].", "-> #0  main.fut:87:78-95\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    triplayer6_12030 = sext_i16_i64(main_res_11850);
    
    bool x_12031 = sle64((int64_t) 0, triplayer6_12030);
    bool y_12032 = slt64(triplayer6_12030, (int64_t) 1024);
    bool bounds_check_12033 = x_12031 && y_12032;
    bool index_certs_12034;
    
    if (!bounds_check_12033) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) triplayer6_12030, "] out of bounds for array of shape [", (long long) (int64_t) 1024, "].", "-> #0  main.fut:87:98-115\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    triplayer7_12036 = sext_i16_i64(main_res_11851);
    
    bool x_12037 = sle64((int64_t) 0, triplayer7_12036);
    bool y_12038 = slt64(triplayer7_12036, (int64_t) 1024);
    bool bounds_check_12039 = x_12037 && y_12038;
    bool index_certs_12040;
    
    if (!bounds_check_12039) {
        set_error(ctx, msgprintf("Error: %s%lld%s%lld%s\n\nBacktrace:\n%s", "Index [", (long long) triplayer7_12036, "] out of bounds for array of shape [", (long long) (int64_t) 1024, "].", "-> #0  main.fut:87:118-135\n"));
        err = FUTHARK_PROGRAM_ERROR;
        goto cleanup;
    }
    if (memblock_unref_device(ctx, &mem_param_tmp_107946, "mem_param_tmp_107946") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_tmp_107945, "mem_param_tmp_107945") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_tmp_107944, "mem_param_tmp_107944") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_tmp_107943, "mem_param_tmp_107943") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_tmp_107942, "mem_param_tmp_107942") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_tmp_107941, "mem_param_tmp_107941") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_tmp_107940, "mem_param_tmp_107940") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107622, "mem_107622") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107620, "mem_107620") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107618, "mem_107618") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107616, "mem_107616") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107614, "mem_107614") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107612, "mem_107612") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107610, "mem_107610") != 0)
        return 1;
    if (memblock_unref_device(ctx, &segred_tmp_mem_108441, "segred_tmp_mem_108441") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107371, "mem_107371") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107331, "mem_107331") != 0)
        return 1;
    if (memblock_unref_device(ctx, &segred_tmp_mem_108341, "segred_tmp_mem_108341") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107328, "mem_107328") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107325, "mem_107325") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107323, "mem_107323") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107369, "mem_107369") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107367, "mem_107367") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107373, "ext_mem_107373") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107374, "ext_mem_107374") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107320, "mem_107320") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107318, "mem_107318") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107316, "mem_107316") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107389, "mem_107389") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107386, "mem_107386") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107384, "mem_107384") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107383, "mem_107383") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107391, "ext_mem_107391") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107392, "ext_mem_107392") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107313, "mem_107313") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107311, "mem_107311") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107309, "mem_107309") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107417, "mem_107417") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107414, "mem_107414") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107412, "mem_107412") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107411, "mem_107411") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107419, "ext_mem_107419") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107420, "ext_mem_107420") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107306, "mem_107306") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107304, "mem_107304") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107302, "mem_107302") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107459, "mem_107459") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107456, "mem_107456") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107454, "mem_107454") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107453, "mem_107453") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107461, "ext_mem_107461") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107462, "ext_mem_107462") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107299, "mem_107299") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107297, "mem_107297") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107295, "mem_107295") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107519, "mem_107519") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107516, "mem_107516") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107514, "mem_107514") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107513, "mem_107513") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107521, "ext_mem_107521") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107522, "ext_mem_107522") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107292, "mem_107292") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107290, "mem_107290") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107288, "mem_107288") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107285, "mem_107285") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107602, "mem_107602") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107599, "mem_107599") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107597, "mem_107597") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107596, "mem_107596") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107523, "mem_107523") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107604, "ext_mem_107604") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107605, "ext_mem_107605") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_107284, "mem_param_107284") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_107279, "mem_param_107279") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_107274, "mem_param_107274") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_107269, "mem_param_107269") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_107264, "mem_param_107264") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_107259, "mem_param_107259") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_param_107254, "mem_param_107254") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107651, "ext_mem_107651") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107652, "ext_mem_107652") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107653, "ext_mem_107653") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107654, "ext_mem_107654") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107655, "ext_mem_107655") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107656, "ext_mem_107656") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ext_mem_107657, "ext_mem_107657") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107608, "mem_107608") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107249, "mem_107249") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107247, "mem_107247") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107245, "mem_107245") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107242, "mem_107242") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107239, "mem_107239") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107236, "mem_107236") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107233, "mem_107233") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107230, "mem_107230") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107229, "mem_107229") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107222, "mem_107222") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107219, "mem_107219") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107216, "mem_107216") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107213, "mem_107213") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107211, "mem_107211") != 0)
        return 1;
    if (memblock_unref_device(ctx, &mem_107209, "mem_107209") != 0)
        return 1;
    #undef counters_mem_108343
    #undef counters_mem_108439
    #undef main_res_11845
    #undef mem_107226
    #undef triplayer2_12006
    #undef triplayer3_12012
    #undef triplayer4_12018
    #undef triplayer5_12024
    #undef triplayer6_12030
    #undef triplayer7_12036
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_108343, "ctx->constants->counters_mem_108343") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->counters_mem_108439, "ctx->constants->counters_mem_108439") != 0)
        return 1;
    if (memblock_unref_device(ctx, &ctx->constants->mem_107226, "ctx->constants->mem_107226") != 0)
        return 1;
    return 0;
}
struct futhark_u8_1d {
    struct memblock_device mem;
    int64_t shape[1];
};
struct futhark_u8_1d *futhark_new_u8_1d(struct futhark_context *ctx, const uint8_t *data, int64_t dim0)
{
    struct futhark_u8_1d *bad = NULL;
    struct futhark_u8_1d *arr = (struct futhark_u8_1d *) malloc(sizeof(struct futhark_u8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_host_to_dev_runs, &ctx->program->copy_host_to_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyHtoDAsync(arr->mem.mem + 0, data + 0, (size_t) dim0 * 1, 0));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_u8_1d *futhark_new_raw_u8_1d(struct futhark_context *ctx, const CUdeviceptr data, int64_t offset, int64_t dim0)
{
    struct futhark_u8_1d *bad = NULL;
    struct futhark_u8_1d *arr = (struct futhark_u8_1d *) malloc(sizeof(struct futhark_u8_1d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    arr->mem.references = NULL;
    if (memblock_alloc_device(ctx, &arr->mem, dim0 * 1, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_dev_to_dev_runs, &ctx->program->copy_dev_to_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpy(arr->mem.mem + 0, data + offset, (size_t) dim0 * 1));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_u8_1d(struct futhark_context *ctx, struct futhark_u8_1d *arr)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    if (memblock_unref_device(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_u8_1d(struct futhark_context *ctx, struct futhark_u8_1d *arr, uint8_t *data)
{
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_dev_to_host_runs, &ctx->program->copy_dev_to_host_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpyDtoHAsync(data + 0, arr->mem.mem + 0, (size_t) arr->shape[0] * 1, 0));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return 0;
}
CUdeviceptr futhark_values_raw_u8_1d(struct futhark_context *ctx, struct futhark_u8_1d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_u8_1d(struct futhark_context *ctx, struct futhark_u8_1d *arr)
{
    (void) ctx;
    return arr->shape;
}

static int futrts_builtinzhreplicate_i32(struct futhark_context *ctx, struct memblock_device mem_108345, int64_t num_elems_108346, int32_t val_108347)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_108343 = ctx->constants->counters_mem_108343;
    struct memblock_device counters_mem_108439 = ctx->constants->counters_mem_108439;
    bool main_res_11845 = ctx->constants->main_res_11845;
    struct memblock_device mem_107226 = ctx->constants->mem_107226;
    int64_t triplayer2_12006 = ctx->constants->triplayer2_12006;
    int64_t triplayer3_12012 = ctx->constants->triplayer3_12012;
    int64_t triplayer4_12018 = ctx->constants->triplayer4_12018;
    int64_t triplayer5_12024 = ctx->constants->triplayer5_12024;
    int64_t triplayer6_12030 = ctx->constants->triplayer6_12030;
    int64_t triplayer7_12036 = ctx->constants->triplayer7_12036;
    int64_t replicate_n_108349 = num_elems_108346;
    int64_t group_sizze_108354;
    
    group_sizze_108354 = *ctx->tuning_params.builtinzhreplicate_i32zigroup_sizze_108354;
    
    int64_t virt_num_groups_108355 = sdiv_up64(replicate_n_108349, group_sizze_108354);
    int64_t num_groups_108356 = smin64(virt_num_groups_108355, (int64_t) 1048576);
    CUdeviceptr kernel_arg_108776 = mem_108345.mem;
    
    if ((((((1 && num_groups_108356 != 0) && 1 != 0) && 1 != 0) && group_sizze_108354 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = num_groups_108356;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108773[] = {&num_elems_108346, &val_108347, &replicate_n_108349, &virt_num_groups_108355, &num_groups_108356, &kernel_arg_108776};
        int64_t time_start_108774 = 0, time_end_108775 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "builtin#replicate_i32.replicate_108350", (long) num_groups_108356, (long) 1, (long) 1, (long) group_sizze_108354, (long) 1, (long) 1, (int) 0);
            time_start_108774 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->builtinzhreplicate_i32zireplicate_108350_runs, &ctx->program->builtinzhreplicate_i32zireplicate_108350_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->builtinzhreplicate_i32zireplicate_108350, grid[0], grid[1], grid[2], group_sizze_108354, 1, 1, 0, NULL, kernel_args_108773, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108775 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "builtin#replicate_i32.replicate_108350", time_end_108775 - time_start_108774);
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_builtinzhgpu_map_transpose_i16(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_108343 = ctx->constants->counters_mem_108343;
    struct memblock_device counters_mem_108439 = ctx->constants->counters_mem_108439;
    bool main_res_11845 = ctx->constants->main_res_11845;
    struct memblock_device mem_107226 = ctx->constants->mem_107226;
    int64_t triplayer2_12006 = ctx->constants->triplayer2_12006;
    int64_t triplayer3_12012 = ctx->constants->triplayer3_12012;
    int64_t triplayer4_12018 = ctx->constants->triplayer4_12018;
    int64_t triplayer5_12024 = ctx->constants->triplayer5_12024;
    int64_t triplayer6_12030 = ctx->constants->triplayer6_12030;
    int64_t triplayer7_12036 = ctx->constants->triplayer7_12036;
    
    if (!(num_arrays_4 == 0 || (x_elems_5 == 0 || y_elems_6 == 0))) {
        int32_t muly_8 = squot32(16, x_elems_5);
        int32_t mulx_7 = squot32(16, y_elems_6);
        
        if (num_arrays_4 == 1 && (x_elems_5 == 1 || y_elems_6 == 1)) {
            {
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->copy_dev_to_dev_runs, &ctx->program->copy_dev_to_dev_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuMemcpy(destmem_0.mem + sext_i32_i64(destoffset_1), srcmem_2.mem + sext_i32_i64(srcoffset_3), sext_i32_i64(x_elems_5 * y_elems_6 * 2)));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
            }
        } else if (sle32(x_elems_5, 8) && slt32(16, y_elems_6)) {
            unsigned int shared_sizze_108780 = (int64_t) 544;
            CUdeviceptr kernel_arg_108782 = destmem_0.mem;
            CUdeviceptr kernel_arg_108783 = srcmem_2.mem;
            unsigned int shared_offset_108781 = 0;
            
            if ((((((1 && sdiv_up32(x_elems_5, 16) != 0) && sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) != 0) && num_arrays_4 != 0) && 16 != 0) && 16 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (num_arrays_4 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(x_elems_5, 16);
                grid[perm[1]] = sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16);
                grid[perm[2]] = num_arrays_4;
                
                void *kernel_args_108777[] = {&perm[0], &perm[1], &perm[2], &shared_offset_108781, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108782, &kernel_arg_108783};
                int64_t time_start_108778 = 0, time_end_108779 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_i16_low_width", (long) sdiv_up32(x_elems_5, 16), (long) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16), (long) num_arrays_4, (long) 16, (long) 16, (long) 1, (int) (0 + (shared_sizze_108780 + (8 - shared_sizze_108780 % 8) % 8)));
                    time_start_108778 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_i16_low_width_runs, &ctx->program->gpu_map_transpose_i16_low_width_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_i16_low_width, grid[0], grid[1], grid[2], 16, 16, 1, 0 + (shared_sizze_108780 + (8 - shared_sizze_108780 % 8) % 8), NULL, kernel_args_108777, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108779 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_i16_low_width", time_end_108779 - time_start_108778);
                }
            }
        } else if (sle32(y_elems_6, 8) && slt32(16, x_elems_5)) {
            unsigned int shared_sizze_108787 = (int64_t) 544;
            CUdeviceptr kernel_arg_108789 = destmem_0.mem;
            CUdeviceptr kernel_arg_108790 = srcmem_2.mem;
            unsigned int shared_offset_108788 = 0;
            
            if ((((((1 && sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16) != 0) && sdiv_up32(y_elems_6, 16) != 0) && num_arrays_4 != 0) && 16 != 0) && 16 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (sdiv_up32(y_elems_6, 16) >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (num_arrays_4 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16);
                grid[perm[1]] = sdiv_up32(y_elems_6, 16);
                grid[perm[2]] = num_arrays_4;
                
                void *kernel_args_108784[] = {&perm[0], &perm[1], &perm[2], &shared_offset_108788, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108789, &kernel_arg_108790};
                int64_t time_start_108785 = 0, time_end_108786 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_i16_low_height", (long) sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16), (long) sdiv_up32(y_elems_6, 16), (long) num_arrays_4, (long) 16, (long) 16, (long) 1, (int) (0 + (shared_sizze_108787 + (8 - shared_sizze_108787 % 8) % 8)));
                    time_start_108785 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_i16_low_height_runs, &ctx->program->gpu_map_transpose_i16_low_height_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_i16_low_height, grid[0], grid[1], grid[2], 16, 16, 1, 0 + (shared_sizze_108787 + (8 - shared_sizze_108787 % 8) % 8), NULL, kernel_args_108784, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108786 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_i16_low_height", time_end_108786 - time_start_108785);
                }
            }
        } else if (sle32(x_elems_5, 8) && sle32(y_elems_6, 8)) {
            unsigned int shared_sizze_108794 = (int64_t) 1;
            CUdeviceptr kernel_arg_108796 = destmem_0.mem;
            CUdeviceptr kernel_arg_108797 = srcmem_2.mem;
            unsigned int shared_offset_108795 = 0;
            
            if ((((((1 && sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256) != 0) && 1 != 0) && 1 != 0) && 256 != 0) && 1 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (1 >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (1 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256);
                grid[perm[1]] = 1;
                grid[perm[2]] = 1;
                
                void *kernel_args_108791[] = {&shared_offset_108795, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108796, &kernel_arg_108797};
                int64_t time_start_108792 = 0, time_end_108793 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_i16_small", (long) sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256), (long) 1, (long) 1, (long) 256, (long) 1, (long) 1, (int) (0 + (shared_sizze_108794 + (8 - shared_sizze_108794 % 8) % 8)));
                    time_start_108792 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_i16_small_runs, &ctx->program->gpu_map_transpose_i16_small_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_i16_small, grid[0], grid[1], grid[2], 256, 1, 1, 0 + (shared_sizze_108794 + (8 - shared_sizze_108794 % 8) % 8), NULL, kernel_args_108791, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108793 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_i16_small", time_end_108793 - time_start_108792);
                }
            }
        } else {
            unsigned int shared_sizze_108801 = (int64_t) 2112;
            CUdeviceptr kernel_arg_108803 = destmem_0.mem;
            CUdeviceptr kernel_arg_108804 = srcmem_2.mem;
            unsigned int shared_offset_108802 = 0;
            
            if ((((((1 && sdiv_up32(x_elems_5, 32) != 0) && sdiv_up32(y_elems_6, 32) != 0) && num_arrays_4 != 0) && 32 != 0) && 8 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (sdiv_up32(y_elems_6, 32) >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (num_arrays_4 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(x_elems_5, 32);
                grid[perm[1]] = sdiv_up32(y_elems_6, 32);
                grid[perm[2]] = num_arrays_4;
                
                void *kernel_args_108798[] = {&perm[0], &perm[1], &perm[2], &shared_offset_108802, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108803, &kernel_arg_108804};
                int64_t time_start_108799 = 0, time_end_108800 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_i16", (long) sdiv_up32(x_elems_5, 32), (long) sdiv_up32(y_elems_6, 32), (long) num_arrays_4, (long) 32, (long) 8, (long) 1, (int) (0 + (shared_sizze_108801 + (8 - shared_sizze_108801 % 8) % 8)));
                    time_start_108799 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_i16_runs, &ctx->program->gpu_map_transpose_i16_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_i16, grid[0], grid[1], grid[2], 32, 8, 1, 0 + (shared_sizze_108801 + (8 - shared_sizze_108801 % 8) % 8), NULL, kernel_args_108798, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108800 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_i16", time_end_108800 - time_start_108799);
                }
            }
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_builtinzhgpu_map_transpose_bool(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_108343 = ctx->constants->counters_mem_108343;
    struct memblock_device counters_mem_108439 = ctx->constants->counters_mem_108439;
    bool main_res_11845 = ctx->constants->main_res_11845;
    struct memblock_device mem_107226 = ctx->constants->mem_107226;
    int64_t triplayer2_12006 = ctx->constants->triplayer2_12006;
    int64_t triplayer3_12012 = ctx->constants->triplayer3_12012;
    int64_t triplayer4_12018 = ctx->constants->triplayer4_12018;
    int64_t triplayer5_12024 = ctx->constants->triplayer5_12024;
    int64_t triplayer6_12030 = ctx->constants->triplayer6_12030;
    int64_t triplayer7_12036 = ctx->constants->triplayer7_12036;
    
    if (!(num_arrays_4 == 0 || (x_elems_5 == 0 || y_elems_6 == 0))) {
        int32_t muly_8 = squot32(16, x_elems_5);
        int32_t mulx_7 = squot32(16, y_elems_6);
        
        if (num_arrays_4 == 1 && (x_elems_5 == 1 || y_elems_6 == 1)) {
            {
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->copy_dev_to_dev_runs, &ctx->program->copy_dev_to_dev_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuMemcpy(destmem_0.mem + sext_i32_i64(destoffset_1), srcmem_2.mem + sext_i32_i64(srcoffset_3), sext_i32_i64(x_elems_5 * y_elems_6)));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
            }
        } else if (sle32(x_elems_5, 8) && slt32(16, y_elems_6)) {
            unsigned int shared_sizze_108808 = (int64_t) 272;
            CUdeviceptr kernel_arg_108810 = destmem_0.mem;
            CUdeviceptr kernel_arg_108811 = srcmem_2.mem;
            unsigned int shared_offset_108809 = 0;
            
            if ((((((1 && sdiv_up32(x_elems_5, 16) != 0) && sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) != 0) && num_arrays_4 != 0) && 16 != 0) && 16 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (num_arrays_4 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(x_elems_5, 16);
                grid[perm[1]] = sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16);
                grid[perm[2]] = num_arrays_4;
                
                void *kernel_args_108805[] = {&perm[0], &perm[1], &perm[2], &shared_offset_108809, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108810, &kernel_arg_108811};
                int64_t time_start_108806 = 0, time_end_108807 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_bool_low_width", (long) sdiv_up32(x_elems_5, 16), (long) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16), (long) num_arrays_4, (long) 16, (long) 16, (long) 1, (int) (0 + (shared_sizze_108808 + (8 - shared_sizze_108808 % 8) % 8)));
                    time_start_108806 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_bool_low_width_runs, &ctx->program->gpu_map_transpose_bool_low_width_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_bool_low_width, grid[0], grid[1], grid[2], 16, 16, 1, 0 + (shared_sizze_108808 + (8 - shared_sizze_108808 % 8) % 8), NULL, kernel_args_108805, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108807 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_bool_low_width", time_end_108807 - time_start_108806);
                }
            }
        } else if (sle32(y_elems_6, 8) && slt32(16, x_elems_5)) {
            unsigned int shared_sizze_108815 = (int64_t) 272;
            CUdeviceptr kernel_arg_108817 = destmem_0.mem;
            CUdeviceptr kernel_arg_108818 = srcmem_2.mem;
            unsigned int shared_offset_108816 = 0;
            
            if ((((((1 && sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16) != 0) && sdiv_up32(y_elems_6, 16) != 0) && num_arrays_4 != 0) && 16 != 0) && 16 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (sdiv_up32(y_elems_6, 16) >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (num_arrays_4 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16);
                grid[perm[1]] = sdiv_up32(y_elems_6, 16);
                grid[perm[2]] = num_arrays_4;
                
                void *kernel_args_108812[] = {&perm[0], &perm[1], &perm[2], &shared_offset_108816, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108817, &kernel_arg_108818};
                int64_t time_start_108813 = 0, time_end_108814 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_bool_low_height", (long) sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16), (long) sdiv_up32(y_elems_6, 16), (long) num_arrays_4, (long) 16, (long) 16, (long) 1, (int) (0 + (shared_sizze_108815 + (8 - shared_sizze_108815 % 8) % 8)));
                    time_start_108813 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_bool_low_height_runs, &ctx->program->gpu_map_transpose_bool_low_height_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_bool_low_height, grid[0], grid[1], grid[2], 16, 16, 1, 0 + (shared_sizze_108815 + (8 - shared_sizze_108815 % 8) % 8), NULL, kernel_args_108812, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108814 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_bool_low_height", time_end_108814 - time_start_108813);
                }
            }
        } else if (sle32(x_elems_5, 8) && sle32(y_elems_6, 8)) {
            unsigned int shared_sizze_108822 = (int64_t) 1;
            CUdeviceptr kernel_arg_108824 = destmem_0.mem;
            CUdeviceptr kernel_arg_108825 = srcmem_2.mem;
            unsigned int shared_offset_108823 = 0;
            
            if ((((((1 && sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256) != 0) && 1 != 0) && 1 != 0) && 256 != 0) && 1 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (1 >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (1 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256);
                grid[perm[1]] = 1;
                grid[perm[2]] = 1;
                
                void *kernel_args_108819[] = {&shared_offset_108823, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108824, &kernel_arg_108825};
                int64_t time_start_108820 = 0, time_end_108821 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_bool_small", (long) sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256), (long) 1, (long) 1, (long) 256, (long) 1, (long) 1, (int) (0 + (shared_sizze_108822 + (8 - shared_sizze_108822 % 8) % 8)));
                    time_start_108820 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_bool_small_runs, &ctx->program->gpu_map_transpose_bool_small_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_bool_small, grid[0], grid[1], grid[2], 256, 1, 1, 0 + (shared_sizze_108822 + (8 - shared_sizze_108822 % 8) % 8), NULL, kernel_args_108819, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108821 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_bool_small", time_end_108821 - time_start_108820);
                }
            }
        } else {
            unsigned int shared_sizze_108829 = (int64_t) 1056;
            CUdeviceptr kernel_arg_108831 = destmem_0.mem;
            CUdeviceptr kernel_arg_108832 = srcmem_2.mem;
            unsigned int shared_offset_108830 = 0;
            
            if ((((((1 && sdiv_up32(x_elems_5, 32) != 0) && sdiv_up32(y_elems_6, 32) != 0) && num_arrays_4 != 0) && 32 != 0) && 8 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (sdiv_up32(y_elems_6, 32) >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (num_arrays_4 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(x_elems_5, 32);
                grid[perm[1]] = sdiv_up32(y_elems_6, 32);
                grid[perm[2]] = num_arrays_4;
                
                void *kernel_args_108826[] = {&perm[0], &perm[1], &perm[2], &shared_offset_108830, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108831, &kernel_arg_108832};
                int64_t time_start_108827 = 0, time_end_108828 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_bool", (long) sdiv_up32(x_elems_5, 32), (long) sdiv_up32(y_elems_6, 32), (long) num_arrays_4, (long) 32, (long) 8, (long) 1, (int) (0 + (shared_sizze_108829 + (8 - shared_sizze_108829 % 8) % 8)));
                    time_start_108827 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_bool_runs, &ctx->program->gpu_map_transpose_bool_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_bool, grid[0], grid[1], grid[2], 32, 8, 1, 0 + (shared_sizze_108829 + (8 - shared_sizze_108829 % 8) % 8), NULL, kernel_args_108826, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108828 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_bool", time_end_108828 - time_start_108827);
                }
            }
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_builtinzhreplicate_i16(struct futhark_context *ctx, struct memblock_device mem_107920, int64_t num_elems_107921, int16_t val_107922)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_108343 = ctx->constants->counters_mem_108343;
    struct memblock_device counters_mem_108439 = ctx->constants->counters_mem_108439;
    bool main_res_11845 = ctx->constants->main_res_11845;
    struct memblock_device mem_107226 = ctx->constants->mem_107226;
    int64_t triplayer2_12006 = ctx->constants->triplayer2_12006;
    int64_t triplayer3_12012 = ctx->constants->triplayer3_12012;
    int64_t triplayer4_12018 = ctx->constants->triplayer4_12018;
    int64_t triplayer5_12024 = ctx->constants->triplayer5_12024;
    int64_t triplayer6_12030 = ctx->constants->triplayer6_12030;
    int64_t triplayer7_12036 = ctx->constants->triplayer7_12036;
    int64_t replicate_n_107924 = num_elems_107921;
    int64_t group_sizze_107929;
    
    group_sizze_107929 = *ctx->tuning_params.builtinzhreplicate_i16zigroup_sizze_107929;
    
    int64_t virt_num_groups_107930 = sdiv_up64(replicate_n_107924, group_sizze_107929);
    int64_t num_groups_107931 = smin64(virt_num_groups_107930, (int64_t) 1048576);
    CUdeviceptr kernel_arg_108836 = mem_107920.mem;
    
    if ((((((1 && num_groups_107931 != 0) && 1 != 0) && 1 != 0) && group_sizze_107929 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = num_groups_107931;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108833[] = {&num_elems_107921, &val_107922, &replicate_n_107924, &virt_num_groups_107930, &num_groups_107931, &kernel_arg_108836};
        int64_t time_start_108834 = 0, time_end_108835 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "builtin#replicate_i16.replicate_107925", (long) num_groups_107931, (long) 1, (long) 1, (long) group_sizze_107929, (long) 1, (long) 1, (int) 0);
            time_start_108834 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->builtinzhreplicate_i16zireplicate_107925_runs, &ctx->program->builtinzhreplicate_i16zireplicate_107925_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->builtinzhreplicate_i16zireplicate_107925, grid[0], grid[1], grid[2], group_sizze_107929, 1, 1, 0, NULL, kernel_args_108833, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108835 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "builtin#replicate_i16.replicate_107925", time_end_108835 - time_start_108834);
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_builtinzhreplicate_bool(struct futhark_context *ctx, struct memblock_device mem_107900, int64_t num_elems_107901, bool val_107902)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_108343 = ctx->constants->counters_mem_108343;
    struct memblock_device counters_mem_108439 = ctx->constants->counters_mem_108439;
    bool main_res_11845 = ctx->constants->main_res_11845;
    struct memblock_device mem_107226 = ctx->constants->mem_107226;
    int64_t triplayer2_12006 = ctx->constants->triplayer2_12006;
    int64_t triplayer3_12012 = ctx->constants->triplayer3_12012;
    int64_t triplayer4_12018 = ctx->constants->triplayer4_12018;
    int64_t triplayer5_12024 = ctx->constants->triplayer5_12024;
    int64_t triplayer6_12030 = ctx->constants->triplayer6_12030;
    int64_t triplayer7_12036 = ctx->constants->triplayer7_12036;
    int64_t replicate_n_107904 = num_elems_107901;
    int64_t group_sizze_107909;
    
    group_sizze_107909 = *ctx->tuning_params.builtinzhreplicate_boolzigroup_sizze_107909;
    
    int64_t virt_num_groups_107910 = sdiv_up64(replicate_n_107904, group_sizze_107909);
    int64_t num_groups_107911 = smin64(virt_num_groups_107910, (int64_t) 1048576);
    CUdeviceptr kernel_arg_108840 = mem_107900.mem;
    
    if ((((((1 && num_groups_107911 != 0) && 1 != 0) && 1 != 0) && group_sizze_107909 != 0) && 1 != 0) && 1 != 0) {
        int perm[3] = {0, 1, 2};
        
        if (1 >= 1 << 16) {
            perm[1] = perm[0];
            perm[0] = 1;
        }
        if (1 >= 1 << 16) {
            perm[2] = perm[0];
            perm[0] = 2;
        }
        
        size_t grid[3];
        
        grid[perm[0]] = num_groups_107911;
        grid[perm[1]] = 1;
        grid[perm[2]] = 1;
        
        void *kernel_args_108837[] = {&num_elems_107901, &val_107902, &replicate_n_107904, &virt_num_groups_107910, &num_groups_107911, &kernel_arg_108840};
        int64_t time_start_108838 = 0, time_end_108839 = 0;
        
        if (ctx->debugging) {
            fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "builtin#replicate_bool.replicate_107905", (long) num_groups_107911, (long) 1, (long) 1, (long) group_sizze_107909, (long) 1, (long) 1, (int) 0);
            time_start_108838 = get_wall_time();
        }
        
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->builtinzhreplicate_boolzireplicate_107905_runs, &ctx->program->builtinzhreplicate_boolzireplicate_107905_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->builtinzhreplicate_boolzireplicate_107905, grid[0], grid[1], grid[2], group_sizze_107909, 1, 1, 0, NULL, kernel_args_108837, NULL));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
        if (ctx->debugging) {
            CUDA_SUCCEED_FATAL(cuCtxSynchronize());
            time_end_108839 = get_wall_time();
            fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "builtin#replicate_bool.replicate_107905", time_end_108839 - time_start_108838);
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_builtinzhgpu_map_transpose_i64(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device counters_mem_108343 = ctx->constants->counters_mem_108343;
    struct memblock_device counters_mem_108439 = ctx->constants->counters_mem_108439;
    bool main_res_11845 = ctx->constants->main_res_11845;
    struct memblock_device mem_107226 = ctx->constants->mem_107226;
    int64_t triplayer2_12006 = ctx->constants->triplayer2_12006;
    int64_t triplayer3_12012 = ctx->constants->triplayer3_12012;
    int64_t triplayer4_12018 = ctx->constants->triplayer4_12018;
    int64_t triplayer5_12024 = ctx->constants->triplayer5_12024;
    int64_t triplayer6_12030 = ctx->constants->triplayer6_12030;
    int64_t triplayer7_12036 = ctx->constants->triplayer7_12036;
    
    if (!(num_arrays_4 == 0 || (x_elems_5 == 0 || y_elems_6 == 0))) {
        int32_t muly_8 = squot32(16, x_elems_5);
        int32_t mulx_7 = squot32(16, y_elems_6);
        
        if (num_arrays_4 == 1 && (x_elems_5 == 1 || y_elems_6 == 1)) {
            {
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->copy_dev_to_dev_runs, &ctx->program->copy_dev_to_dev_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuMemcpy(destmem_0.mem + sext_i32_i64(destoffset_1), srcmem_2.mem + sext_i32_i64(srcoffset_3), sext_i32_i64(x_elems_5 * y_elems_6 * 8)));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
            }
        } else if (sle32(x_elems_5, 8) && slt32(16, y_elems_6)) {
            unsigned int shared_sizze_108844 = (int64_t) 2176;
            CUdeviceptr kernel_arg_108846 = destmem_0.mem;
            CUdeviceptr kernel_arg_108847 = srcmem_2.mem;
            unsigned int shared_offset_108845 = 0;
            
            if ((((((1 && sdiv_up32(x_elems_5, 16) != 0) && sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) != 0) && num_arrays_4 != 0) && 16 != 0) && 16 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (num_arrays_4 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(x_elems_5, 16);
                grid[perm[1]] = sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16);
                grid[perm[2]] = num_arrays_4;
                
                void *kernel_args_108841[] = {&perm[0], &perm[1], &perm[2], &shared_offset_108845, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108846, &kernel_arg_108847};
                int64_t time_start_108842 = 0, time_end_108843 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_i64_low_width", (long) sdiv_up32(x_elems_5, 16), (long) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16), (long) num_arrays_4, (long) 16, (long) 16, (long) 1, (int) (0 + (shared_sizze_108844 + (8 - shared_sizze_108844 % 8) % 8)));
                    time_start_108842 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_i64_low_width_runs, &ctx->program->gpu_map_transpose_i64_low_width_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_i64_low_width, grid[0], grid[1], grid[2], 16, 16, 1, 0 + (shared_sizze_108844 + (8 - shared_sizze_108844 % 8) % 8), NULL, kernel_args_108841, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108843 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_i64_low_width", time_end_108843 - time_start_108842);
                }
            }
        } else if (sle32(y_elems_6, 8) && slt32(16, x_elems_5)) {
            unsigned int shared_sizze_108851 = (int64_t) 2176;
            CUdeviceptr kernel_arg_108853 = destmem_0.mem;
            CUdeviceptr kernel_arg_108854 = srcmem_2.mem;
            unsigned int shared_offset_108852 = 0;
            
            if ((((((1 && sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16) != 0) && sdiv_up32(y_elems_6, 16) != 0) && num_arrays_4 != 0) && 16 != 0) && 16 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (sdiv_up32(y_elems_6, 16) >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (num_arrays_4 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16);
                grid[perm[1]] = sdiv_up32(y_elems_6, 16);
                grid[perm[2]] = num_arrays_4;
                
                void *kernel_args_108848[] = {&perm[0], &perm[1], &perm[2], &shared_offset_108852, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108853, &kernel_arg_108854};
                int64_t time_start_108849 = 0, time_end_108850 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_i64_low_height", (long) sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16), (long) sdiv_up32(y_elems_6, 16), (long) num_arrays_4, (long) 16, (long) 16, (long) 1, (int) (0 + (shared_sizze_108851 + (8 - shared_sizze_108851 % 8) % 8)));
                    time_start_108849 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_i64_low_height_runs, &ctx->program->gpu_map_transpose_i64_low_height_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_i64_low_height, grid[0], grid[1], grid[2], 16, 16, 1, 0 + (shared_sizze_108851 + (8 - shared_sizze_108851 % 8) % 8), NULL, kernel_args_108848, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108850 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_i64_low_height", time_end_108850 - time_start_108849);
                }
            }
        } else if (sle32(x_elems_5, 8) && sle32(y_elems_6, 8)) {
            unsigned int shared_sizze_108858 = (int64_t) 1;
            CUdeviceptr kernel_arg_108860 = destmem_0.mem;
            CUdeviceptr kernel_arg_108861 = srcmem_2.mem;
            unsigned int shared_offset_108859 = 0;
            
            if ((((((1 && sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256) != 0) && 1 != 0) && 1 != 0) && 256 != 0) && 1 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (1 >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (1 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256);
                grid[perm[1]] = 1;
                grid[perm[2]] = 1;
                
                void *kernel_args_108855[] = {&shared_offset_108859, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108860, &kernel_arg_108861};
                int64_t time_start_108856 = 0, time_end_108857 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_i64_small", (long) sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256), (long) 1, (long) 1, (long) 256, (long) 1, (long) 1, (int) (0 + (shared_sizze_108858 + (8 - shared_sizze_108858 % 8) % 8)));
                    time_start_108856 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_i64_small_runs, &ctx->program->gpu_map_transpose_i64_small_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_i64_small, grid[0], grid[1], grid[2], 256, 1, 1, 0 + (shared_sizze_108858 + (8 - shared_sizze_108858 % 8) % 8), NULL, kernel_args_108855, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108857 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_i64_small", time_end_108857 - time_start_108856);
                }
            }
        } else {
            unsigned int shared_sizze_108865 = (int64_t) 8448;
            CUdeviceptr kernel_arg_108867 = destmem_0.mem;
            CUdeviceptr kernel_arg_108868 = srcmem_2.mem;
            unsigned int shared_offset_108866 = 0;
            
            if ((((((1 && sdiv_up32(x_elems_5, 32) != 0) && sdiv_up32(y_elems_6, 32) != 0) && num_arrays_4 != 0) && 32 != 0) && 8 != 0) && 1 != 0) {
                int perm[3] = {0, 1, 2};
                
                if (sdiv_up32(y_elems_6, 32) >= 1 << 16) {
                    perm[1] = perm[0];
                    perm[0] = 1;
                }
                if (num_arrays_4 >= 1 << 16) {
                    perm[2] = perm[0];
                    perm[0] = 2;
                }
                
                size_t grid[3];
                
                grid[perm[0]] = sdiv_up32(x_elems_5, 32);
                grid[perm[1]] = sdiv_up32(y_elems_6, 32);
                grid[perm[2]] = num_arrays_4;
                
                void *kernel_args_108862[] = {&perm[0], &perm[1], &perm[2], &shared_offset_108866, &destoffset_1, &srcoffset_3, &num_arrays_4, &x_elems_5, &y_elems_6, &mulx_7, &muly_8, &kernel_arg_108867, &kernel_arg_108868};
                int64_t time_start_108863 = 0, time_end_108864 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with grid size [%ld, %ld, %ld] and block size [%ld, %ld, %ld]; shared memory: %d bytes.\n", "gpu_map_transpose_i64", (long) sdiv_up32(x_elems_5, 32), (long) sdiv_up32(y_elems_6, 32), (long) num_arrays_4, (long) 32, (long) 8, (long) 1, (int) (0 + (shared_sizze_108865 + (8 - shared_sizze_108865 % 8) % 8)));
                    time_start_108863 = get_wall_time();
                }
                
                cudaEvent_t *pevents = NULL;
                
                if (ctx->profiling && !ctx->profiling_paused) {
                    pevents = cuda_get_events(ctx, &ctx->program->gpu_map_transpose_i64_runs, &ctx->program->gpu_map_transpose_i64_total_runtime);
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
                }
                CUDA_SUCCEED_OR_RETURN(cuLaunchKernel(ctx->program->gpu_map_transpose_i64, grid[0], grid[1], grid[2], 32, 8, 1, 0 + (shared_sizze_108865 + (8 - shared_sizze_108865 % 8) % 8), NULL, kernel_args_108862, NULL));
                if (pevents != NULL)
                    CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
                if (ctx->debugging) {
                    CUDA_SUCCEED_FATAL(cuCtxSynchronize());
                    time_end_108864 = get_wall_time();
                    fprintf(ctx->log, "Kernel %s runtime: %ldus\n", "gpu_map_transpose_i64", time_end_108864 - time_start_108863);
                }
            }
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_entry_main(struct futhark_context *ctx, struct memblock_device *mem_out_p_108869, struct memblock_device *mem_out_p_108870, struct memblock_device *mem_out_p_108871, struct memblock_device *mem_out_p_108872, struct memblock_device *mem_out_p_108873, struct memblock_device *mem_out_p_108874, bool *out_prim_out_108875)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_107674;
    
    mem_107674.references = NULL;
    
    struct memblock_device mem_107671;
    
    mem_107671.references = NULL;
    
    struct memblock_device mem_107668;
    
    mem_107668.references = NULL;
    
    struct memblock_device mem_107665;
    
    mem_107665.references = NULL;
    
    struct memblock_device mem_107662;
    
    mem_107662.references = NULL;
    
    struct memblock_device mem_107659;
    
    mem_107659.references = NULL;
    
    struct memblock_device mem_out_107701;
    
    mem_out_107701.references = NULL;
    
    struct memblock_device mem_out_107700;
    
    mem_out_107700.references = NULL;
    
    struct memblock_device mem_out_107699;
    
    mem_out_107699.references = NULL;
    
    struct memblock_device mem_out_107698;
    
    mem_out_107698.references = NULL;
    
    struct memblock_device mem_out_107697;
    
    mem_out_107697.references = NULL;
    
    struct memblock_device mem_out_107696;
    
    mem_out_107696.references = NULL;
    
    struct memblock_device counters_mem_108343 = ctx->constants->counters_mem_108343;
    struct memblock_device counters_mem_108439 = ctx->constants->counters_mem_108439;
    bool main_res_11845 = ctx->constants->main_res_11845;
    struct memblock_device mem_107226 = ctx->constants->mem_107226;
    int64_t triplayer2_12006 = ctx->constants->triplayer2_12006;
    int64_t triplayer3_12012 = ctx->constants->triplayer3_12012;
    int64_t triplayer4_12018 = ctx->constants->triplayer4_12018;
    int64_t triplayer5_12024 = ctx->constants->triplayer5_12024;
    int64_t triplayer6_12030 = ctx->constants->triplayer6_12030;
    int64_t triplayer7_12036 = ctx->constants->triplayer7_12036;
    bool prim_out_107702;
    
    if (memblock_alloc_device(ctx, &mem_107659, (int64_t) 4, "mem_107659")) {
        err = 1;
        goto cleanup;
    }
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_dev_to_dev_runs, &ctx->program->copy_dev_to_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpy(mem_107659.mem + (int64_t) 0, mem_107226.mem + triplayer2_12006 * (int64_t) 4, (int64_t) 4));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (memblock_alloc_device(ctx, &mem_107662, (int64_t) 4, "mem_107662")) {
        err = 1;
        goto cleanup;
    }
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_dev_to_dev_runs, &ctx->program->copy_dev_to_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpy(mem_107662.mem + (int64_t) 0, mem_107226.mem + triplayer3_12012 * (int64_t) 4, (int64_t) 4));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (memblock_alloc_device(ctx, &mem_107665, (int64_t) 4, "mem_107665")) {
        err = 1;
        goto cleanup;
    }
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_dev_to_dev_runs, &ctx->program->copy_dev_to_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpy(mem_107665.mem + (int64_t) 0, mem_107226.mem + triplayer4_12018 * (int64_t) 4, (int64_t) 4));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (memblock_alloc_device(ctx, &mem_107668, (int64_t) 4, "mem_107668")) {
        err = 1;
        goto cleanup;
    }
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_dev_to_dev_runs, &ctx->program->copy_dev_to_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpy(mem_107668.mem + (int64_t) 0, mem_107226.mem + triplayer5_12024 * (int64_t) 4, (int64_t) 4));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (memblock_alloc_device(ctx, &mem_107671, (int64_t) 4, "mem_107671")) {
        err = 1;
        goto cleanup;
    }
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_dev_to_dev_runs, &ctx->program->copy_dev_to_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpy(mem_107671.mem + (int64_t) 0, mem_107226.mem + triplayer6_12030 * (int64_t) 4, (int64_t) 4));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (memblock_alloc_device(ctx, &mem_107674, (int64_t) 4, "mem_107674")) {
        err = 1;
        goto cleanup;
    }
    {
        cudaEvent_t *pevents = NULL;
        
        if (ctx->profiling && !ctx->profiling_paused) {
            pevents = cuda_get_events(ctx, &ctx->program->copy_dev_to_dev_runs, &ctx->program->copy_dev_to_dev_total_runtime);
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[0], 0));
        }
        CUDA_SUCCEED_OR_RETURN(cuMemcpy(mem_107674.mem + (int64_t) 0, mem_107226.mem + triplayer7_12036 * (int64_t) 4, (int64_t) 4));
        if (pevents != NULL)
            CUDA_SUCCEED_FATAL(cudaEventRecord(pevents[1], 0));
    }
    if (memblock_set_device(ctx, &mem_out_107696, &mem_107659, "mem_107659") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_107697, &mem_107662, "mem_107662") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_107698, &mem_107665, "mem_107665") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_107699, &mem_107668, "mem_107668") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_107700, &mem_107671, "mem_107671") != 0)
        return 1;
    if (memblock_set_device(ctx, &mem_out_107701, &mem_107674, "mem_107674") != 0)
        return 1;
    prim_out_107702 = main_res_11845;
    if (memblock_set_device(ctx, &*mem_out_p_108869, &mem_out_107696, "mem_out_107696") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_108870, &mem_out_107697, "mem_out_107697") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_108871, &mem_out_107698, "mem_out_107698") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_108872, &mem_out_107699, "mem_out_107699") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_108873, &mem_out_107700, "mem_out_107700") != 0)
        return 1;
    if (memblock_set_device(ctx, &*mem_out_p_108874, &mem_out_107701, "mem_out_107701") != 0)
        return 1;
    *out_prim_out_108875 = prim_out_107702;
    
  cleanup:
    {
        if (memblock_unref_device(ctx, &mem_107674, "mem_107674") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_107671, "mem_107671") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_107668, "mem_107668") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_107665, "mem_107665") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_107662, "mem_107662") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_107659, "mem_107659") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_107701, "mem_out_107701") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_107700, "mem_out_107700") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_107699, "mem_out_107699") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_107698, "mem_out_107698") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_107697, "mem_out_107697") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_107696, "mem_out_107696") != 0)
            return 1;
    }
    return err;
}

int futhark_entry_main(struct futhark_context *ctx, bool *out0, struct futhark_u8_1d **out1, struct futhark_u8_1d **out2, struct futhark_u8_1d **out3, struct futhark_u8_1d **out4, struct futhark_u8_1d **out5, struct futhark_u8_1d **out6)
{
    bool prim_out_107702 = 0;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    CUDA_SUCCEED_FATAL(cuCtxPushCurrent(ctx->cu_ctx));
    
    struct memblock_device mem_out_107701;
    
    mem_out_107701.references = NULL;
    
    struct memblock_device mem_out_107700;
    
    mem_out_107700.references = NULL;
    
    struct memblock_device mem_out_107699;
    
    mem_out_107699.references = NULL;
    
    struct memblock_device mem_out_107698;
    
    mem_out_107698.references = NULL;
    
    struct memblock_device mem_out_107697;
    
    mem_out_107697.references = NULL;
    
    struct memblock_device mem_out_107696;
    
    mem_out_107696.references = NULL;
    if (ret == 0) {
        ret = futrts_entry_main(ctx, &mem_out_107696, &mem_out_107697, &mem_out_107698, &mem_out_107699, &mem_out_107700, &mem_out_107701, &prim_out_107702);
        if (ret == 0) {
            struct memblock_device counters_mem_108343 = ctx->constants->counters_mem_108343;
            struct memblock_device counters_mem_108439 = ctx->constants->counters_mem_108439;
            bool main_res_11845 = ctx->constants->main_res_11845;
            struct memblock_device mem_107226 = ctx->constants->mem_107226;
            int64_t triplayer2_12006 = ctx->constants->triplayer2_12006;
            int64_t triplayer3_12012 = ctx->constants->triplayer3_12012;
            int64_t triplayer4_12018 = ctx->constants->triplayer4_12018;
            int64_t triplayer5_12024 = ctx->constants->triplayer5_12024;
            int64_t triplayer6_12030 = ctx->constants->triplayer6_12030;
            int64_t triplayer7_12036 = ctx->constants->triplayer7_12036;
            
            *out0 = prim_out_107702;
            assert((*out1 = (struct futhark_u8_1d *) malloc(sizeof(struct futhark_u8_1d))) != NULL);
            (*out1)->mem = mem_out_107696;
            (*out1)->shape[0] = (int64_t) 4;
            assert((*out2 = (struct futhark_u8_1d *) malloc(sizeof(struct futhark_u8_1d))) != NULL);
            (*out2)->mem = mem_out_107697;
            (*out2)->shape[0] = (int64_t) 4;
            assert((*out3 = (struct futhark_u8_1d *) malloc(sizeof(struct futhark_u8_1d))) != NULL);
            (*out3)->mem = mem_out_107698;
            (*out3)->shape[0] = (int64_t) 4;
            assert((*out4 = (struct futhark_u8_1d *) malloc(sizeof(struct futhark_u8_1d))) != NULL);
            (*out4)->mem = mem_out_107699;
            (*out4)->shape[0] = (int64_t) 4;
            assert((*out5 = (struct futhark_u8_1d *) malloc(sizeof(struct futhark_u8_1d))) != NULL);
            (*out5)->mem = mem_out_107700;
            (*out5)->shape[0] = (int64_t) 4;
            assert((*out6 = (struct futhark_u8_1d *) malloc(sizeof(struct futhark_u8_1d))) != NULL);
            (*out6)->mem = mem_out_107701;
            (*out6)->shape[0] = (int64_t) 4;
        }
    }
    CUDA_SUCCEED_FATAL(cuCtxPopCurrent(&ctx->cu_ctx));
    lock_unlock(&ctx->lock);
    return ret;
}
  
